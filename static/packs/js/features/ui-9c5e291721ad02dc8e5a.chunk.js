(self.webpackChunksoapbox_fe=self.webpackChunksoapbox_fe||[]).push([[69],{1033:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,i=(n=o(3))&&n.__esModule?n:{default:n};t.default={message:i.default.oneOfType([i.default.string,i.default.element]).isRequired,action:i.default.oneOfType([i.default.bool,i.default.string,i.default.node]),onClick:i.default.func,style:i.default.bool,actionStyle:i.default.object,titleStyle:i.default.object,barStyle:i.default.object,activeBarStyle:i.default.object,dismissAfter:i.default.oneOfType([i.default.bool,i.default.number]),onDismiss:i.default.func,className:i.default.string,activeClassName:i.default.string,isActive:i.default.bool,title:i.default.oneOfType([i.default.string,i.default.node])}},1244:function(e,t,o){"use strict";o(1145);var n=o(1271);Object.defineProperty(t,"HZ",{enumerable:!0,get:function(){return(e=n,e&&e.__esModule?e:{default:e}).default;var e}})},1145:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},i=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),r=o(0),a=c(r),s=c(o(1033));function c(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.getBarStyle=o.getBarStyle.bind(o),o.getActionStyle=o.getActionStyle.bind(o),o.getTitleStyle=o.getTitleStyle.bind(o),o.handleClick=o.handleClick.bind(o),e.onDismiss&&e.isActive&&(o.dismissTimeout=setTimeout(e.onDismiss,e.dismissAfter)),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"componentWillReceiveProps",value:function(e){!1!==e.dismissAfter&&({}.hasOwnProperty.call(e,"isLast")||clearTimeout(this.dismissTimeout),e.onDismiss&&(e.isActive&&!this.props.isActive||e.dismissAfter&&!1===this.props.dismissAfter)&&(this.dismissTimeout=setTimeout(e.onDismiss,e.dismissAfter)))}},{key:"componentWillUnmount",value:function(){this.props.dismissAfter&&clearTimeout(this.dismissTimeout)}},{key:"getBarStyle",value:function(){if(!1===this.props.style)return{};var e=this.props,t=e.isActive,o=e.barStyle,i=e.activeBarStyle,r={position:"fixed",bottom:"2rem",left:"-100%",width:"auto",padding:"1rem",margin:0,color:"#fafafa",font:"1rem normal Roboto, sans-serif",borderRadius:"5px",background:"#212121",borderSizing:"border-box",boxShadow:"0 0 1px 1px rgba(10, 10, 11, .125)",cursor:"default",WebKitTransition:".5s cubic-bezier(0.89, 0.01, 0.5, 1.1)",MozTransition:".5s cubic-bezier(0.89, 0.01, 0.5, 1.1)",msTransition:".5s cubic-bezier(0.89, 0.01, 0.5, 1.1)",OTransition:".5s cubic-bezier(0.89, 0.01, 0.5, 1.1)",transition:".5s cubic-bezier(0.89, 0.01, 0.5, 1.1)",WebkitTransform:"translatez(0)",MozTransform:"translatez(0)",msTransform:"translatez(0)",OTransform:"translatez(0)",transform:"translatez(0)"};return t?n({},r,{left:"1rem"},o,i):n({},r,o)}},{key:"getActionStyle",value:function(){return!1!==this.props.style?n({},{padding:"0.125rem",marginLeft:"1rem",color:"#f44336",font:".75rem normal Roboto, sans-serif",lineHeight:"1rem",letterSpacing:".125ex",textTransform:"uppercase",borderRadius:"5px",cursor:"pointer"},this.props.actionStyle):{}}},{key:"getTitleStyle",value:function(){return!1!==this.props.style?n({},{fontWeight:"700",marginRight:".5rem"},this.props.titleStyle):{}}},{key:"handleClick",value:function(){if(this.props.onClick&&"function"==typeof this.props.onClick)return this.props.onClick()}},{key:"render",value:function(){var e="notification-bar";return this.props.isActive&&(e+=" "+this.props.activeClassName),this.props.className&&(e+=" "+this.props.className),a.default.createElement("div",{className:e,style:this.getBarStyle()},a.default.createElement("div",{className:"notification-bar-wrapper"},this.props.title?a.default.createElement("span",{className:"notification-bar-title",style:this.getTitleStyle()},this.props.title):null,a.default.createElement("span",{className:"notification-bar-message"},this.props.message),this.props.action?a.default.createElement("span",{className:"notification-bar-action",onClick:this.handleClick,style:this.getActionStyle()},this.props.action):null))}}]),t}(r.Component);l.propTypes=s.default,l.defaultProps={isActive:!1,dismissAfter:2e3,activeClassName:"notification-bar-active"},t.default=l},1271:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},i=c(o(0)),r=c(o(3)),a=c(o(1272)),s=c(o(1033));function c(e){return e&&e.__esModule?e:{default:e}}function l(e,t){return n({},t,{bottom:2+4*e+"rem"})}var u=function(e){return i.default.createElement("div",{className:"notification-list"},e.notifications.map((function(t,o){var r=0===o&&1===e.notifications.length,s=r||!e.dismissInOrder,c=e.barStyleFactory(o,t.barStyle,t),l=e.actionStyleFactory(o,t.actionStyle,t),u=e.activeBarStyleFactory(o,t.activeBarStyle,t),d=t.onClick||e.onClick,p=e.onDismiss,f=t.dismissAfter;return!1!==f&&(null==f&&(f=e.dismissAfter),s||(f+=1e3*o)),i.default.createElement(a.default,n({},t,{key:t.key,isLast:r,action:t.action||e.action,dismissAfter:f,onDismiss:p.bind(void 0,t),onClick:d.bind(void 0,t),activeBarStyle:u,barStyle:c,actionStyle:l}))})))};u.propTypes={activeBarStyleFactory:r.default.func,barStyleFactory:r.default.func,actionStyleFactory:r.default.func,dismissInOrder:r.default.bool,notifications:r.default.array.isRequired,onDismiss:r.default.func.isRequired,onClick:r.default.func,action:s.default.action},u.defaultProps={activeBarStyleFactory:l,barStyleFactory:l,actionStyleFactory:function(e,t){return n({},t,{})},dismissInOrder:!0,dismissAfter:1e3,onClick:function(){}},t.default=u},1272:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},i=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),r=o(0),a=l(r),s=l(o(1033)),c=l(o(1145));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.state={isActive:!1},o.handleClick=o.handleClick.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"componentDidMount",value:function(){this.activeTimeout=setTimeout(this.setState.bind(this,{isActive:!0}),1),this.dismiss(this.props.dismissAfter)}},{key:"componentWillReceiveProps",value:function(e){e.dismissAfter!==this.props.dismissAfter&&this.dismiss(e.dismissAfter)}},{key:"componentWillUnmount",value:function(){clearTimeout(this.activeTimeout),clearTimeout(this.dismissTimeout)}},{key:"dismiss",value:function(e){!1!==e&&(this.dismissTimeout=setTimeout(this.setState.bind(this,{isActive:!1}),e))}},{key:"handleClick",value:function(){if(this.props.onClick&&"function"==typeof this.props.onClick)return this.props.onClick(this.setState.bind(this,{isActive:!1}))}},{key:"render",value:function(){var e=this;return a.default.createElement(c.default,n({},this.props,{onClick:this.handleClick,onDismiss:function(){return setTimeout(e.props.onDismiss,300)},isActive:this.state.isActive}))}}]),t}(r.Component);u.propTypes=s.default,t.default=u},1104:function(e,t,o){"use strict";var n=o(536);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(o(0)),r=(n(o(313)),function(e){e.index;var t=e.children;i.default.Children.count(t)});t.default=r},1105:function(e,t,o){"use strict";var n=o(536);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,o=e.children,n=e.startIndex,a=e.startX,s=e.pageX,c=e.viewLength,l=e.resistance,u=i.default.Children.count(o)-1,d=n+(a-s)/c;return l?d<0?d=Math.exp(d*r.default.RESISTANCE_COEF)-1:d>u&&(d=u+1-Math.exp((u-d)*r.default.RESISTANCE_COEF)):d<0?t=((d=0)-n)*c+s:d>u&&(t=((d=u)-n)*c+s),{index:d,startX:t}};var i=n(o(0)),r=n(o(1078))},1078:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default={RESISTANCE_COEF:.6,UNCERTAINTY_THRESHOLD:3}},1106:function(e,t,o){"use strict";var n=o(536);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(o(0));t.default=function(e,t){var o=!1,n=function(e){return e?e.key:"empty"};if(e.children.length&&t.children.length){var r=i.default.Children.map(e.children,n)[e.index];null!=r&&r===i.default.Children.map(t.children,n)[t.index]&&(o=!0)}return o}},1103:function(e,t,o){"use strict";var n=o(536);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"checkIndexBounds",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"computeIndex",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"constant",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"getDisplaySameSlide",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"mod",{enumerable:!0,get:function(){return c.default}});var i=n(o(1104)),r=n(o(1105)),a=n(o(1078)),s=n(o(1106)),c=n(o(1107))},1107:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=function(e,t){var o=e%t;return o<0?o+t:o}},1269:function(e,t,o){"use strict";var n=o(1029),i=o(1132);Object.defineProperty(t,"__esModule",{value:!0}),t.getDomTreeShapes=b,t.findNativeHandler=w,t.default=t.SwipeableViewsContext=void 0;var r=i(o(1030)),a=i(o(1133)),s=i(o(1134)),c=i(o(1135)),l=i(o(1136)),u=i(o(1031)),d=i(o(1137)),p=n(o(0)),f=(i(o(313)),o(1103));function m(e,t,o,n){return e.addEventListener(t,o,n),{remove:function(){e.removeEventListener(t,o,n)}}}var h={direction:"ltr",display:"flex",willChange:"transform"},v={width:"100%",WebkitFlexShrink:0,flexShrink:0,overflow:"auto"},_={root:{x:{overflowX:"hidden"},"x-reverse":{overflowX:"hidden"},y:{overflowY:"hidden"},"y-reverse":{overflowY:"hidden"}},flexDirection:{x:"row","x-reverse":"row-reverse",y:"column","y-reverse":"column-reverse"},transform:{x:function(e){return"translate(".concat(-e,"%, 0)")},"x-reverse":function(e){return"translate(".concat(e,"%, 0)")},y:function(e){return"translate(0, ".concat(-e,"%)")},"y-reverse":function(e){return"translate(0, ".concat(e,"%)")}},length:{x:"width","x-reverse":"width",y:"height","y-reverse":"height"},rotationMatrix:{x:{x:[1,0],y:[0,1]},"x-reverse":{x:[-1,0],y:[0,1]},y:{x:[0,1],y:[1,0]},"y-reverse":{x:[0,-1],y:[1,0]}},scrollPosition:{x:"scrollLeft","x-reverse":"scrollLeft",y:"scrollTop","y-reverse":"scrollTop"},scrollLength:{x:"scrollWidth","x-reverse":"scrollWidth",y:"scrollHeight","y-reverse":"scrollHeight"},clientLength:{x:"clientWidth","x-reverse":"clientWidth",y:"clientHeight","y-reverse":"clientHeight"}};function g(e,t){var o=t.duration,n=t.easeFunction,i=t.delay;return"".concat(e," ").concat(o," ").concat(n," ").concat(i)}function y(e,t){var o=_.rotationMatrix[t];return{pageX:o.x[0]*e.pageX+o.x[1]*e.pageY,pageY:o.y[0]*e.pageX+o.y[1]*e.pageY}}function Z(e){return e.touches=[{pageX:e.pageX,pageY:e.pageY}],e}function b(e,t){for(var o=[];e&&e!==t&&e!==document.body&&!e.hasAttribute("data-swipeable");){var n=window.getComputedStyle(e);"absolute"===n.getPropertyValue("position")||"hidden"===n.getPropertyValue("overflow-x")?o=[]:(e.clientWidth>0&&e.scrollWidth>e.clientWidth||e.clientHeight>0&&e.scrollHeight>e.clientHeight)&&o.push({element:e,scrollWidth:e.scrollWidth,scrollHeight:e.scrollHeight,clientWidth:e.clientWidth,clientHeight:e.clientHeight,scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}),e=e.parentNode}return o}var C=null;function w(e){var t=e.domTreeShapes,o=e.pageX,n=e.startX,i=e.axis;return t.some((function(e){var t=o>=n;"x"!==i&&"y"!==i||(t=!t);var r=Math.round(e[_.scrollPosition[i]]),a=r>0,s=r+e[_.clientLength[i]]<e[_.scrollLength[i]];return!!(t&&s||!t&&a)&&(C=e.element,!0)}))}var N=p.createContext();t.SwipeableViewsContext=N;var M=function(e){function t(e){var o;return(0,s.default)(this,t),(o=(0,l.default)(this,(0,u.default)(t).call(this,e))).rootNode=null,o.containerNode=null,o.ignoreNextScrollEvents=!1,o.viewLength=0,o.startX=0,o.lastX=0,o.vx=0,o.startY=0,o.isSwiping=void 0,o.started=!1,o.startIndex=0,o.transitionListener=null,o.touchMoveListener=null,o.activeSlide=null,o.indexCurrent=null,o.firstRenderTimeout=null,o.setRootNode=function(e){o.rootNode=e},o.setContainerNode=function(e){o.containerNode=e},o.setActiveSlide=function(e){o.activeSlide=e,o.updateHeight()},o.handleSwipeStart=function(e){var t=o.props.axis,n=y(e.touches[0],t);o.viewLength=o.rootNode.getBoundingClientRect()[_.length[t]],o.startX=n.pageX,o.lastX=n.pageX,o.vx=0,o.startY=n.pageY,o.isSwiping=void 0,o.started=!0;var i=window.getComputedStyle(o.containerNode),r=i.getPropertyValue("-webkit-transform")||i.getPropertyValue("transform");if(r&&"none"!==r){var a=r.split("(")[1].split(")")[0].split(","),s=window.getComputedStyle(o.rootNode),c=y({pageX:parseInt(a[4],10),pageY:parseInt(a[5],10)},t);o.startIndex=-c.pageX/(o.viewLength-parseInt(s.paddingLeft,10)-parseInt(s.paddingRight,10))||0}},o.handleSwipeMove=function(e){if(o.started){if(null===C||C===o.rootNode){var t=o.props,n=t.axis,i=t.children,r=t.ignoreNativeScroll,a=t.onSwitching,s=t.resistance,c=y(e.touches[0],n);if(void 0===o.isSwiping){var l=Math.abs(c.pageX-o.startX),u=Math.abs(c.pageY-o.startY),d=l>u&&l>f.constant.UNCERTAINTY_THRESHOLD;if(!s&&("y"===n||"y-reverse"===n)&&(0===o.indexCurrent&&o.startX<c.pageX||o.indexCurrent===p.Children.count(o.props.children)-1&&o.startX>c.pageX))return void(o.isSwiping=!1);if(l>u&&e.preventDefault(),!0===d||u>f.constant.UNCERTAINTY_THRESHOLD)return o.isSwiping=d,void(o.startX=c.pageX)}if(!0===o.isSwiping){e.preventDefault(),o.vx=.5*o.vx+.5*(c.pageX-o.lastX),o.lastX=c.pageX;var m=(0,f.computeIndex)({children:i,resistance:s,pageX:c.pageX,startIndex:o.startIndex,startX:o.startX,viewLength:o.viewLength}),h=m.index,v=m.startX;if(null===C&&!r&&w({domTreeShapes:b(e.target,o.rootNode),startX:o.startX,pageX:c.pageX,axis:n}))return;v?o.startX=v:null===C&&(C=o.rootNode),o.setIndexCurrent(h);var _=function(){a&&a(h,"move")};!o.state.displaySameSlide&&o.state.isDragging||o.setState({displaySameSlide:!1,isDragging:!0},_),_()}}}else o.handleTouchStart(e)},o.handleSwipeEnd=function(){if(C=null,o.started&&(o.started=!1,!0===o.isSwiping)){var e,t=o.state.indexLatest,n=o.indexCurrent,i=t-n;e=Math.abs(o.vx)>o.props.threshold?o.vx>0?Math.floor(n):Math.ceil(n):Math.abs(i)>o.props.hysteresis?i>0?Math.floor(n):Math.ceil(n):t;var r=p.Children.count(o.props.children)-1;e<0?e=0:e>r&&(e=r),o.setIndexCurrent(e),o.setState({indexLatest:e,isDragging:!1},(function(){o.props.onSwitching&&o.props.onSwitching(e,"end"),o.props.onChangeIndex&&e!==t&&o.props.onChangeIndex(e,t,{reason:"swipe"}),n===t&&o.handleTransitionEnd()}))}},o.handleTouchStart=function(e){o.props.onTouchStart&&o.props.onTouchStart(e),o.handleSwipeStart(e)},o.handleTouchEnd=function(e){o.props.onTouchEnd&&o.props.onTouchEnd(e),o.handleSwipeEnd(e)},o.handleMouseDown=function(e){o.props.onMouseDown&&o.props.onMouseDown(e),e.persist(),o.handleSwipeStart(Z(e))},o.handleMouseUp=function(e){o.props.onMouseUp&&o.props.onMouseUp(e),o.handleSwipeEnd(Z(e))},o.handleMouseLeave=function(e){o.props.onMouseLeave&&o.props.onMouseLeave(e),o.started&&o.handleSwipeEnd(Z(e))},o.handleMouseMove=function(e){o.props.onMouseMove&&o.props.onMouseMove(e),o.started&&o.handleSwipeMove(Z(e))},o.handleScroll=function(e){if(o.props.onScroll&&o.props.onScroll(e),e.target===o.rootNode)if(o.ignoreNextScrollEvents)o.ignoreNextScrollEvents=!1;else{var t=o.state.indexLatest,n=Math.ceil(e.target.scrollLeft/e.target.clientWidth)+t;o.ignoreNextScrollEvents=!0,e.target.scrollLeft=0,o.props.onChangeIndex&&n!==t&&o.props.onChangeIndex(n,t,{reason:"focus"})}},o.updateHeight=function(){if(null!==o.activeSlide){var e=o.activeSlide.children[0];void 0!==e&&void 0!==e.offsetHeight&&o.state.heightLatest!==e.offsetHeight&&o.setState({heightLatest:e.offsetHeight})}},o.state={indexLatest:e.index,isDragging:!1,renderOnlyActive:!e.disableLazyLoading,heightLatest:0,displaySameSlide:!0},o.setIndexCurrent(e.index),o}return(0,d.default)(t,e),(0,c.default)(t,[{key:"componentDidMount",value:function(){var e=this;this.transitionListener=m(this.containerNode,"transitionend",(function(t){t.target===e.containerNode&&e.handleTransitionEnd()})),this.touchMoveListener=m(this.rootNode,"touchmove",(function(t){e.props.disabled||e.handleSwipeMove(t)}),{passive:!1}),this.props.disableLazyLoading||(this.firstRenderTimeout=setTimeout((function(){e.setState({renderOnlyActive:!1})}),0)),this.props.action&&this.props.action({updateHeight:this.updateHeight})}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.index;"number"==typeof t&&t!==this.props.index&&(this.setIndexCurrent(t),this.setState({displaySameSlide:(0,f.getDisplaySameSlide)(this.props,e),indexLatest:t}))}},{key:"componentWillUnmount",value:function(){this.transitionListener.remove(),this.touchMoveListener.remove(),clearTimeout(this.firstRenderTimeout)}},{key:"getSwipeableViewsContext",value:function(){var e=this;return{slideUpdateHeight:function(){e.updateHeight()}}}},{key:"setIndexCurrent",value:function(e){if(this.props.animateTransitions||this.indexCurrent===e||this.handleTransitionEnd(),this.indexCurrent=e,this.containerNode){var t=this.props.axis,o=_.transform[t](100*e);this.containerNode.style.WebkitTransform=o,this.containerNode.style.transform=o}}},{key:"handleTransitionEnd",value:function(){this.props.onTransitionEnd&&(this.state.displaySameSlide||this.state.isDragging||this.props.onTransitionEnd())}},{key:"render",value:function(){var e,t,o=this,n=this.props,i=(n.action,n.animateHeight),s=n.animateTransitions,c=n.axis,l=n.children,u=n.containerStyle,d=n.disabled,f=(n.disableLazyLoading,n.enableMouseEvents),m=(n.hysteresis,n.ignoreNativeScroll,n.index,n.onChangeIndex,n.onSwitching,n.onTransitionEnd,n.resistance,n.slideStyle),y=n.slideClassName,Z=n.springConfig,b=n.style,C=(n.threshold,(0,a.default)(n,["action","animateHeight","animateTransitions","axis","children","containerStyle","disabled","disableLazyLoading","enableMouseEvents","hysteresis","ignoreNativeScroll","index","onChangeIndex","onSwitching","onTransitionEnd","resistance","slideStyle","slideClassName","springConfig","style","threshold"])),w=this.state,M=w.displaySameSlide,k=w.heightLatest,O=w.indexLatest,S=w.isDragging,x=w.renderOnlyActive,E=d?{}:{onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd},P=!d&&f?{onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onMouseLeave:this.handleMouseLeave,onMouseMove:this.handleMouseMove}:{},I=(0,r.default)({},v,m);if(S||!s||M)e="all 0s ease 0s",t="all 0s ease 0s";else if(e=g("transform",Z),t=g("-webkit-transform",Z),0!==k){var T=", ".concat(g("height",Z));e+=T,t+=T}var j={height:null,WebkitFlexDirection:_.flexDirection[c],flexDirection:_.flexDirection[c],WebkitTransition:t,transition:e};if(!x){var A=_.transform[c](100*this.indexCurrent);j.WebkitTransform=A,j.transform=A}return i&&(j.height=k),p.createElement(N.Provider,{value:this.getSwipeableViewsContext()},p.createElement("div",(0,r.default)({ref:this.setRootNode,style:(0,r.default)({},_.root[c],b)},C,E,P,{onScroll:this.handleScroll}),p.createElement("div",{ref:this.setContainerNode,style:(0,r.default)({},j,h,u),className:"react-swipeable-view-container"},p.Children.map(l,(function(e,t){if(x&&t!==O)return null;var n,r=!0;return t===O&&(r=!1,i&&(n=o.setActiveSlide,I.overflowY="hidden")),p.createElement("div",{ref:n,style:I,className:y,"aria-hidden":r,"data-swipeable":"true"},e)})))))}}]),t}(p.Component);M.displayName="ReactSwipableView",M.defaultProps={animateHeight:!1,animateTransitions:!0,axis:"x",disabled:!1,disableLazyLoading:!1,enableMouseEvents:!1,hysteresis:.6,ignoreNativeScroll:!1,index:0,threshold:5,springConfig:{duration:"0.35s",easeFunction:"cubic-bezier(0.15, 0.3, 0.25, 1)",delay:"0s"},resistance:!1};var k=M;t.default=k},1268:function(e,t,o){"use strict";var n=o(1029);Object.defineProperty(t,"ZP",{enumerable:!0,get:function(){return i.default}});var i=n(o(1269))},1273:function(e,t,o){o(1);var n=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}();function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}!function(){if("undefined"!=typeof window){var e=Array.prototype.slice,t=Element.prototype.matches||Element.prototype.msMatchesSelector,o=["a[href]","area[href]","input:not([disabled])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","details","summary","iframe","object","embed","[contenteditable]"].join(","),r=function(){function r(e,t){i(this,r),this._inertManager=t,this._rootElement=e,this._managedNodes=new Set,this._rootElement.hasAttribute("aria-hidden")?this._savedAriaHidden=this._rootElement.getAttribute("aria-hidden"):this._savedAriaHidden=null,this._rootElement.setAttribute("aria-hidden","true"),this._makeSubtreeUnfocusable(this._rootElement),this._observer=new MutationObserver(this._onMutation.bind(this)),this._observer.observe(this._rootElement,{attributes:!0,childList:!0,subtree:!0})}return n(r,[{key:"destructor",value:function(){this._observer.disconnect(),this._rootElement&&(null!==this._savedAriaHidden?this._rootElement.setAttribute("aria-hidden",this._savedAriaHidden):this._rootElement.removeAttribute("aria-hidden")),this._managedNodes.forEach((function(e){this._unmanageNode(e.node)}),this),this._observer=null,this._rootElement=null,this._managedNodes=null,this._inertManager=null}},{key:"_makeSubtreeUnfocusable",value:function(e){var t=this;l(e,(function(e){return t._visitNode(e)}));var o=document.activeElement;if(!document.body.contains(e)){for(var n=e,i=void 0;n;){if(n.nodeType===Node.DOCUMENT_FRAGMENT_NODE){i=n;break}n=n.parentNode}i&&(o=i.activeElement)}e.contains(o)&&(o.blur(),o===document.activeElement&&document.body.focus())}},{key:"_visitNode",value:function(e){if(e.nodeType===Node.ELEMENT_NODE){var n=e;n!==this._rootElement&&n.hasAttribute("inert")&&this._adoptInertRoot(n),(t.call(n,o)||n.hasAttribute("tabindex"))&&this._manageNode(n)}}},{key:"_manageNode",value:function(e){var t=this._inertManager.register(e,this);this._managedNodes.add(t)}},{key:"_unmanageNode",value:function(e){var t=this._inertManager.deregister(e,this);t&&this._managedNodes.delete(t)}},{key:"_unmanageSubtree",value:function(e){var t=this;l(e,(function(e){return t._unmanageNode(e)}))}},{key:"_adoptInertRoot",value:function(e){var t=this._inertManager.getInertRoot(e);t||(this._inertManager.setInert(e,!0),t=this._inertManager.getInertRoot(e)),t.managedNodes.forEach((function(e){this._manageNode(e.node)}),this)}},{key:"_onMutation",value:function(t,o){t.forEach((function(t){var o=t.target;if("childList"===t.type)e.call(t.addedNodes).forEach((function(e){this._makeSubtreeUnfocusable(e)}),this),e.call(t.removedNodes).forEach((function(e){this._unmanageSubtree(e)}),this);else if("attributes"===t.type)if("tabindex"===t.attributeName)this._manageNode(o);else if(o!==this._rootElement&&"inert"===t.attributeName&&o.hasAttribute("inert")){this._adoptInertRoot(o);var n=this._inertManager.getInertRoot(o);this._managedNodes.forEach((function(e){o.contains(e.node)&&n._manageNode(e.node)}))}}),this)}},{key:"managedNodes",get:function(){return new Set(this._managedNodes)}},{key:"hasSavedAriaHidden",get:function(){return null!==this._savedAriaHidden}},{key:"savedAriaHidden",set:function(e){this._savedAriaHidden=e},get:function(){return this._savedAriaHidden}}]),r}(),a=function(){function e(t,o){i(this,e),this._node=t,this._overrodeFocusMethod=!1,this._inertRoots=new Set([o]),this._savedTabIndex=null,this._destroyed=!1,this.ensureUntabbable()}return n(e,[{key:"destructor",value:function(){if(this._throwIfDestroyed(),this._node&&this._node.nodeType===Node.ELEMENT_NODE){var e=this._node;null!==this._savedTabIndex?e.setAttribute("tabindex",this._savedTabIndex):e.removeAttribute("tabindex"),this._overrodeFocusMethod&&delete e.focus}this._node=null,this._inertRoots=null,this._destroyed=!0}},{key:"_throwIfDestroyed",value:function(){if(this.destroyed)throw new Error("Trying to access destroyed InertNode")}},{key:"ensureUntabbable",value:function(){if(this.node.nodeType===Node.ELEMENT_NODE){var e=this.node;if(t.call(e,o)){if(-1===e.tabIndex&&this.hasSavedTabIndex)return;e.hasAttribute("tabindex")&&(this._savedTabIndex=e.tabIndex),e.setAttribute("tabindex","-1"),e.nodeType===Node.ELEMENT_NODE&&(e.focus=function(){},this._overrodeFocusMethod=!0)}else e.hasAttribute("tabindex")&&(this._savedTabIndex=e.tabIndex,e.removeAttribute("tabindex"))}}},{key:"addInertRoot",value:function(e){this._throwIfDestroyed(),this._inertRoots.add(e)}},{key:"removeInertRoot",value:function(e){this._throwIfDestroyed(),this._inertRoots.delete(e),0===this._inertRoots.size&&this.destructor()}},{key:"destroyed",get:function(){return this._destroyed}},{key:"hasSavedTabIndex",get:function(){return null!==this._savedTabIndex}},{key:"node",get:function(){return this._throwIfDestroyed(),this._node}},{key:"savedTabIndex",set:function(e){this._throwIfDestroyed(),this._savedTabIndex=e},get:function(){return this._throwIfDestroyed(),this._savedTabIndex}}]),e}(),s=function(){function o(e){if(i(this,o),!e)throw new Error("Missing required argument; InertManager needs to wrap a document.");this._document=e,this._managedNodes=new Map,this._inertRoots=new Map,this._observer=new MutationObserver(this._watchForInert.bind(this)),u(e.head||e.body||e.documentElement),"loading"===e.readyState?e.addEventListener("DOMContentLoaded",this._onDocumentLoaded.bind(this)):this._onDocumentLoaded()}return n(o,[{key:"setInert",value:function(e,t){if(t){if(this._inertRoots.has(e))return;var o=new r(e,this);if(e.setAttribute("inert",""),this._inertRoots.set(e,o),!this._document.body.contains(e))for(var n=e.parentNode;n;)11===n.nodeType&&u(n),n=n.parentNode}else{if(!this._inertRoots.has(e))return;this._inertRoots.get(e).destructor(),this._inertRoots.delete(e),e.removeAttribute("inert")}}},{key:"getInertRoot",value:function(e){return this._inertRoots.get(e)}},{key:"register",value:function(e,t){var o=this._managedNodes.get(e);return void 0!==o?o.addInertRoot(t):o=new a(e,t),this._managedNodes.set(e,o),o}},{key:"deregister",value:function(e,t){var o=this._managedNodes.get(e);return o?(o.removeInertRoot(t),o.destroyed&&this._managedNodes.delete(e),o):null}},{key:"_onDocumentLoaded",value:function(){e.call(this._document.querySelectorAll("[inert]")).forEach((function(e){this.setInert(e,!0)}),this),this._observer.observe(this._document.body||this._document.documentElement,{attributes:!0,subtree:!0,childList:!0})}},{key:"_watchForInert",value:function(o,n){var i=this;o.forEach((function(o){switch(o.type){case"childList":e.call(o.addedNodes).forEach((function(o){if(o.nodeType===Node.ELEMENT_NODE){var n=e.call(o.querySelectorAll("[inert]"));t.call(o,"[inert]")&&n.unshift(o),n.forEach((function(e){this.setInert(e,!0)}),i)}}),i);break;case"attributes":if("inert"!==o.attributeName)return;var n=o.target,r=n.hasAttribute("inert");i.setInert(n,r)}}),this)}}]),o}();if(!Element.prototype.hasOwnProperty("inert")){var c=new s(document);Object.defineProperty(Element.prototype,"inert",{enumerable:!0,get:function(){return this.hasAttribute("inert")},set:function(e){c.setInert(this,e)}})}}function l(e,t,o){if(e.nodeType==Node.ELEMENT_NODE){var n=e;t&&t(n);var i=n.shadowRoot;if(i)return void l(i,t,i);if("content"==n.localName){for(var r=n,a=r.getDistributedNodes?r.getDistributedNodes():[],s=0;s<a.length;s++)l(a[s],t,o);return}if("slot"==n.localName){for(var c=n,u=c.assignedNodes?c.assignedNodes({flatten:!0}):[],d=0;d<u.length;d++)l(u[d],t,o);return}}for(var p=e.firstChild;null!=p;)l(p,t,o),p=p.nextSibling}function u(e){if(!e.querySelector("style#inert-style, link#inert-style")){var t=document.createElement("style");t.setAttribute("id","inert-style"),t.textContent="\n[inert] {\n  pointer-events: none;\n  cursor: default;\n}\n\n[inert], [inert] * {\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n",e.appendChild(t)}}}()},536:function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}}},1077:function(e){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},1134:function(e){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},1135:function(e){function t(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}e.exports=function(e,o,n){return o&&t(e.prototype,o),n&&t(e,n),e}},1030:function(e){function t(){return e.exports=t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},t.apply(this,arguments)}e.exports=t},1031:function(e){function t(o){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},t(o)}e.exports=t},1137:function(e,t,o){var n=o(1032);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&n(e,t)}},1132:function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}}},1029:function(e){e.exports=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,o):{};n.get||n.set?Object.defineProperty(t,o,n):t[o]=e[o]}return t.default=e,t}},1133:function(e,t,o){var n=o(1076);e.exports=function(e,t){if(null==e)return{};var o,i,r=n(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)o=a[i],t.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(r[o]=e[o])}return r}},1076:function(e){e.exports=function(e,t){if(null==e)return{};var o,n,i={},r=Object.keys(e);for(n=0;n<r.length;n++)o=r[n],t.indexOf(o)>=0||(i[o]=e[o]);return i}},1136:function(e,t,o){var n=o(537),i=o(1077);e.exports=function(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?i(e):t}},1032:function(e){function t(o,n){return e.exports=t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},t(o,n)}e.exports=t},537:function(e){function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}function o(n){return"function"==typeof Symbol&&"symbol"===t(Symbol.iterator)?e.exports=o=function(e){return t(e)}:e.exports=o=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":t(e)},o(n)}e.exports=o},825:function(e,t,o){"use strict";o.r(t),o.d(t,{ProfileHoverCard:function(){return w}});var n=o(1015),i=o(1019),r=(o(1),o(7)),a=o.n(r),s=o(0),c=o(1021),l=o(1017),u=o(1123),d=o(2),p=o(15),f=o(1255),m=o(1257),h=o(190),v=o(45),_=o(34),g=o(12),y=o(17),Z=(0,g.Tm)(),b=function(e){return function(t){e((0,f.P_)())}},C=function(e){return function(t){e((0,f.Ex)(!0))}},w=function(e){var t=e.visible,o=(0,d.I0)(),r=(0,s.useState)(null),l=r[0],f=r[1],g=(0,d.v9)((function(e){return e.get("me")})),w=(0,d.v9)((function(e){return e.getIn(["profile_hover_card","accountId"])})),N=(0,d.v9)((function(e){return w&&Z(e,w)})),M=(0,d.v9)((function(e){return e.getIn(["profile_hover_card","ref","current"])})),k=N?function(e){var t=[];return(0,y.GJ)(e)?t.push((0,i.Z)(m.Z,{slug:"admin",title:"Admin"},"admin")):(0,y.vJ)(e)&&t.push((0,i.Z)(m.Z,{slug:"moderator",title:"Moderator"},"moderator")),e.getIn(["patron","is_patron"])&&t.push((0,i.Z)(m.Z,{slug:"patron",title:"Patron"},"patron")),t}(N):[];(0,s.useEffect)((function(){w&&o((0,p.dm)([w]))}),[o,w]);var O=(0,u.D)(M,l),S=O.styles,x=O.attributes;if(!N)return null;var E={__html:N.get("note_emojified")},P=g!==N.get("id")&&N.getIn(["relationship","followed_by"]);return s.createElement("div",(0,n.Z)({className:a()("profile-hover-card",{"profile-hover-card--visible":t}),ref:f,style:S.popper},x.popper,{onMouseEnter:b(o),onMouseLeave:C(o)}),(0,i.Z)("div",{className:"profile-hover-card__container"},void 0,P&&(0,i.Z)("span",{className:"relationship-tag"},void 0,(0,i.Z)(c.Z,{id:"account.follows_you",defaultMessage:"Follows you"})),(0,i.Z)("div",{className:"profile-hover-card__action-button"},void 0,(0,i.Z)(h.Z,{account:N,small:!0})),(0,i.Z)(v.Z,{fetchComponent:_.i1},void 0,(function(e){return(0,i.Z)(e,{className:"profile-hover-card__user",accountId:N.get("id")})})),k.length>0&&(0,i.Z)("div",{className:"profile-hover-card__badges"},void 0,k),N.getIn(["source","note"],"").length>0&&(0,i.Z)("div",{className:"profile-hover-card__bio",dangerouslySetInnerHTML:E})))};w.defaultProps={visible:!0},t.default=(0,l.ZP)(w)},822:function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return U}});var n,i,r,a,s,c=o(1019),l=o(1018),u=o(59),d=o.n(u),p=(o(1),o(7)),f=o.n(p),m=o(320),h=o(3),v=o.n(h),_=o(5),g=o.n(_),y=o(4),Z=o(1797),b=o(1017),C=o(1021),w=o(2),N=o(1800),M=o(37),k=o(9),O=o(26),S=o(10),x=o(1258),E=o(666),P=o(12),I=o(17),T=o(21),j=o(31),A=o(8),R=o(11),L=(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),D=(0,Z.vU)({followers:{id:"account.followers",defaultMessage:"Followers"},follows:{id:"account.follows",defaultMessage:"Follows"},profile:{id:"account.profile",defaultMessage:"Profile"},invites:{id:"navigation_bar.invites",defaultMessage:"Invites"},preferences:{id:"navigation_bar.preferences",defaultMessage:"Preferences"},follow_requests:{id:"navigation_bar.follow_requests",defaultMessage:"Follow requests"},blocks:{id:"navigation_bar.blocks",defaultMessage:"Blocked users"},domain_blocks:{id:"navigation_bar.domain_blocks",defaultMessage:"Hidden domains"},mutes:{id:"navigation_bar.mutes",defaultMessage:"Muted users"},filters:{id:"navigation_bar.filters",defaultMessage:"Muted words"},admin_settings:{id:"navigation_bar.admin_settings",defaultMessage:"Admin settings"},soapbox_config:{id:"navigation_bar.soapbox_config",defaultMessage:"Soapbox config"},import_data:{id:"navigation_bar.import_data",defaultMessage:"Import data"},account_aliases:{id:"navigation_bar.account_aliases",defaultMessage:"Account aliases"},account_migration:{id:"navigation_bar.account_migration",defaultMessage:"Move account"},security:{id:"navigation_bar.security",defaultMessage:"Security"},logout:{id:"navigation_bar.logout",defaultMessage:"Logout"},lists:{id:"column.lists",defaultMessage:"Lists"},bookmarks:{id:"column.bookmarks",defaultMessage:"Bookmarks"},profileDirectory:{id:"column.profile_directory",defaultMessage:"Profile directory"},header:{id:"tabs_bar.header",defaultMessage:"Account Info"},apps:{id:"tabs_bar.apps",defaultMessage:"Apps"},news:{id:"tabs_bar.news",defaultMessage:"News"},donate:{id:"donate",defaultMessage:"Donate"},donate_crypto:{id:"donate_crypto",defaultMessage:"Donate cryptocurrency"},info:{id:"column.info",defaultMessage:"Server information"},developers:{id:"navigation.developers",defaultMessage:"Developers"},add_account:{id:"profile_dropdown.add_account",defaultMessage:"Add an existing account"}}),U=(i=(0,w.$j)((function(){var e=(0,P.Tm)(),t=(0,P._H)();return function(o){var n=o.get("me"),i=o.getIn(["accounts",n]),r=o.get("instance"),a=(0,S.N$)(r),s=(0,O.UX)(o);return{account:e(o,n),sidebarOpen:o.get("sidebar").sidebarOpen,donateUrl:o.getIn(["patron","instance","url"]),hasCrypto:"string"==typeof s.getIn(["cryptoAddresses",0,"ticker"]),otherAccounts:t(o),features:a,instance:r,settings:(0,k.Gw)(o),siteTitle:r.get("title"),baseURL:(0,I.BS)(i)}}}),(function(e,t){var o=t.intl;return{onClose:function(){e((0,x.Xp)())},onClickLogOut:function(t){e((0,M.ni)(o)),t.preventDefault()},fetchOwnAccounts:function(){e((0,M.Y)())},switchAccount:function(t){e((0,M.yD)(t.get("id")))}}})),(0,b.ZP)(r=i((s=a=function(e){function t(){for(var t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];var n=e.apply(this,t)||this;return(0,l.Z)(n,"state",{switcher:!1}),(0,l.Z)(n,"handleClose",(function(){n.setState({switcher:!1}),n.props.onClose()})),(0,l.Z)(n,"handleSwitchAccount",(function(e){return function(t){n.props.switchAccount(e),t.preventDefault()}})),(0,l.Z)(n,"handleSwitcherClick",(function(e){n.setState({switcher:!n.state.switcher}),e.preventDefault()})),(0,l.Z)(n,"fetchOwnAccounts",d()((function(){n.props.fetchOwnAccounts()}),2e3)),(0,l.Z)(n,"renderAccount",(function(e){return(0,c.Z)("a",{href:"/",className:"sidebar-account",onClick:n.handleSwitchAccount(e)},e.get("id"),(0,c.Z)("div",{className:"account"},void 0,(0,c.Z)("div",{className:"account__wrapper"},void 0,(0,c.Z)("div",{className:"account__display-name"},void 0,(0,c.Z)("div",{className:"account__avatar-wrapper"},void 0,(0,c.Z)(T.Z,{account:e,size:36})),(0,c.Z)(j.Z,{account:e})))))})),n}return L(t,e),t.prototype.componentDidMount=function(){this.fetchOwnAccounts()},t.prototype.componentDidUpdate=function(e){var t=!(0,m.is)(e.account,this.props.account),o=!(0,m.is)(e.otherAccounts,this.props.otherAccounts);(t||o)&&this.fetchOwnAccounts(),this.props.sidebarOpen&&!e.sidebarOpen&&document.querySelector(".sidebar-menu__close").focus()},t.prototype.render=function(){var e=this,t=this.props,n=t.sidebarOpen,i=t.intl,r=t.account,a=t.onClickLogOut,s=t.donateUrl,l=t.otherAccounts,u=t.hasCrypto,d=t.settings,p=t.features,m=t.instance,h=t.siteTitle,v=t.baseURL,_=this.state.switcher;if(!r)return null;var g=r.get("acct"),y=f()("sidebar-menu__root",{"sidebar-menu__root--visible":n});return(0,c.Z)("div",{className:y},void 0,(0,c.Z)("div",{className:"sidebar-menu__wrapper",role:"button",onClick:this.handleClose}),(0,c.Z)("div",{className:"sidebar-menu"},void 0,(0,c.Z)("div",{className:"sidebar-menu__content"},void 0,(0,c.Z)("div",{className:"sidebar-menu-profile"},void 0,(0,c.Z)(R.Z,{title:"close",onClick:this.handleClose,src:o(18),className:"sidebar-menu__close"}),(0,c.Z)("div",{className:"sidebar-menu-profile__avatar"},void 0,(0,c.Z)(N.rU,{to:"/@".concat(g),title:g,onClick:this.handleClose},void 0,(0,c.Z)(T.Z,{account:r}))),(0,c.Z)("a",{href:"#",className:"sidebar-menu-profile__name",onClick:this.handleSwitcherClick},void 0,(0,c.Z)(j.Z,{account:r}),(0,c.Z)(A.Z,{src:o(_?1237:398),className:"sidebar-menu-profile__caret"}))),_&&(0,c.Z)("div",{className:"sidebar-menu__section"},void 0,l.map((function(t){return e.renderAccount(t)})),(0,c.Z)(N.OL,{className:"sidebar-menu-item",to:"/auth/sign_in",onClick:this.handleClose},void 0,(0,c.Z)(A.Z,{src:o(86)}),(0,c.Z)("span",{className:"sidebar-menu-item__title"},void 0,i.formatMessage(D.add_account)))),(0,c.Z)("div",{className:"sidebar-menu__section"},void 0,(0,c.Z)("div",{className:"sidebar-menu-item theme-toggle"},void 0,(0,c.Z)(E.Z,{showLabel:!0}))),(0,c.Z)("div",{className:"sidebar-menu__section"},void 0,p.federating?(0,c.Z)(N.OL,{to:"/timeline/local",className:"sidebar-menu-item",onClick:this.handleClose},void 0,(0,c.Z)(A.Z,{src:o(181)}),(0,c.Z)("span",{className:"sidebar-menu-item__title"},void 0,h)):(0,c.Z)(N.OL,{to:"/timeline/local",className:"sidebar-menu-item",onClick:this.handleClose},void 0,(0,c.Z)(A.Z,{src:o(373)}),(0,c.Z)("span",{className:"sidebar-menu-item__title"},void 0,(0,c.Z)(C.Z,{id:"tabs_bar.all",defaultMessage:"All"}))),p.federating&&(0,c.Z)(N.OL,{to:"/timeline/fediverse",className:"sidebar-menu-item",onClick:this.handleClose},void 0,(0,c.Z)(A.Z,{src:o(661)}),(0,c.Z)("span",{className:"sidebar-menu-item__title"},void 0,(0,c.Z)(C.Z,{id:"tabs_bar.fediverse",defaultMessage:"Fediverse"})))),(0,c.Z)("div",{className:"sidebar-menu__section"},void 0,(0,c.Z)(N.OL,{className:"sidebar-menu-item",to:"/@".concat(g),onClick:this.handleClose},void 0,(0,c.Z)(A.Z,{src:o(192)}),(0,c.Z)("span",{className:"sidebar-menu-item__title"},void 0,i.formatMessage(D.profile))),m.get("invites_enabled")&&(0,c.Z)("a",{className:"sidebar-menu-item",href:"".concat(v,"/invites"),onClick:this.handleClose},void 0,(0,c.Z)(A.Z,{src:o(659)}),(0,c.Z)("span",{className:"sidebar-menu-item__title"},void 0,i.formatMessage(D.invites))),s&&(0,c.Z)("a",{className:"sidebar-menu-item",href:s,onClick:this.handleClose},void 0,(0,c.Z)(A.Z,{src:o(1238)}),(0,c.Z)("span",{className:"sidebar-menu-item__title"},void 0,i.formatMessage(D.donate))),u&&(0,c.Z)(N.OL,{className:"sidebar-menu-item",to:"/donate/crypto",onClick:this.handleClose},void 0,(0,c.Z)(A.Z,{src:o(792)}),(0,c.Z)("span",{className:"sidebar-menu-item__title"},void 0,i.formatMessage(D.donate_crypto))),p.lists&&(0,c.Z)(N.OL,{className:"sidebar-menu-item",to:"/lists",onClick:this.handleClose},void 0,(0,c.Z)(A.Z,{src:o(144)}),(0,c.Z)("span",{className:"sidebar-menu-item__title"},void 0,i.formatMessage(D.lists))),p.bookmarks&&(0,c.Z)(N.OL,{className:"sidebar-menu-item",to:"/bookmarks",onClick:this.handleClose},void 0,(0,c.Z)(A.Z,{src:o(1239)}),(0,c.Z)("span",{className:"sidebar-menu-item__title"},void 0,i.formatMessage(D.bookmarks))),p.profileDirectory&&(0,c.Z)(N.OL,{className:"sidebar-menu-item",to:"/directory",onClick:this.handleClose},void 0,(0,c.Z)(A.Z,{src:o(1240)}),(0,c.Z)("span",{className:"sidebar-menu-item__title"},void 0,i.formatMessage(D.profileDirectory)))),(0,c.Z)("div",{className:"sidebar-menu__section"},void 0,(0,c.Z)(N.OL,{className:"sidebar-menu-item",to:"/follow_requests",onClick:this.handleClose},void 0,(0,c.Z)(A.Z,{src:o(193)}),(0,c.Z)("span",{className:"sidebar-menu-item__title"},void 0,i.formatMessage(D.follow_requests))),(0,c.Z)(N.OL,{className:"sidebar-menu-item",to:"/blocks",onClick:this.handleClose},void 0,(0,c.Z)(A.Z,{src:o(47)}),(0,c.Z)("span",{className:"sidebar-menu-item__title"},void 0,i.formatMessage(D.blocks))),p.federating&&(0,c.Z)(N.OL,{className:"sidebar-menu-item",to:"/domain_blocks",onClick:this.handleClose},void 0,(0,c.Z)(A.Z,{src:o(47)}),(0,c.Z)("span",{className:"sidebar-menu-item__title"},void 0,i.formatMessage(D.domain_blocks))),(0,c.Z)(N.OL,{className:"sidebar-menu-item",to:"/mutes",onClick:this.handleClose},void 0,(0,c.Z)(A.Z,{src:o(75)}),(0,c.Z)("span",{className:"sidebar-menu-item__title"},void 0,i.formatMessage(D.mutes))),(0,c.Z)(N.OL,{className:"sidebar-menu-item",to:"/filters",onClick:this.handleClose},void 0,(0,c.Z)(A.Z,{src:o(1241)}),(0,c.Z)("span",{className:"sidebar-menu-item__title"},void 0,i.formatMessage(D.filters))),(0,I.GJ)(r)&&(0,c.Z)("a",{className:"sidebar-menu-item",href:"/pleroma/admin",target:"_blank",onClick:this.handleClose},void 0,(0,c.Z)(A.Z,{src:o(1242)}),(0,c.Z)("span",{className:"sidebar-menu-item__title"},void 0,i.formatMessage(D.admin_settings))),(0,I.GJ)(r)&&(0,c.Z)(N.OL,{className:"sidebar-menu-item",to:"/soapbox/config",onClick:this.handleClose},void 0,(0,c.Z)(A.Z,{src:o(114)}),(0,c.Z)("span",{className:"sidebar-menu-item__title"},void 0,i.formatMessage(D.soapbox_config))),p.settingsStore?(0,c.Z)(N.OL,{className:"sidebar-menu-item",to:"/settings/preferences",onClick:this.handleClose},void 0,(0,c.Z)(A.Z,{src:o(114)}),(0,c.Z)("span",{className:"sidebar-menu-item__title"},void 0,i.formatMessage(D.preferences))):(0,c.Z)("a",{className:"sidebar-menu-item",href:"".concat(v,"/settings/preferences"),onClick:this.handleClose},void 0,(0,c.Z)(A.Z,{src:o(114)}),(0,c.Z)("span",{className:"sidebar-menu-item__title"},void 0,i.formatMessage(D.preferences))),p.importAPI?(0,c.Z)(N.OL,{className:"sidebar-menu-item",to:"/settings/import",onClick:this.handleClose},void 0,(0,c.Z)(A.Z,{src:o(1143)}),(0,c.Z)("span",{className:"sidebar-menu-item__title"},void 0,i.formatMessage(D.import_data))):(0,c.Z)("a",{className:"sidebar-menu-item",href:"".concat(v,"/settings/import"),onClick:this.handleClose},void 0,(0,c.Z)(A.Z,{src:o(1143)}),(0,c.Z)("span",{className:"sidebar-menu-item__title"},void 0,i.formatMessage(D.import_data))),p.federating&&p.accountMoving&&(0,c.Z)(N.OL,{className:"sidebar-menu-item",to:"/settings/migration",onClick:this.handleClose},void 0,(0,c.Z)(A.Z,{src:o(277)}),(0,c.Z)("span",{className:"sidebar-menu-item__title"},void 0,i.formatMessage(D.account_migration))),p.securityAPI?(0,c.Z)(N.OL,{className:"sidebar-menu-item",to:"/auth/edit",onClick:this.handleClose},void 0,(0,c.Z)(A.Z,{src:o(1144)}),(0,c.Z)("span",{className:"sidebar-menu-item__title"},void 0,i.formatMessage(D.security))):(0,c.Z)("a",{className:"sidebar-menu-item",href:"".concat(v,"/auth/edit"),onClick:this.handleClose},void 0,(0,c.Z)(A.Z,{src:o(1144)}),(0,c.Z)("span",{className:"sidebar-menu-item__title"},void 0,i.formatMessage(D.security)))),(0,c.Z)("div",{className:"sidebar-menu__section"},void 0,(0,c.Z)(N.rU,{className:"sidebar-menu-item",to:"/info",onClick:this.handleClose},void 0,(0,c.Z)(A.Z,{src:o(1243)}),(0,c.Z)("span",{className:"sidebar-menu-item__title"},void 0,i.formatMessage(D.info)))),d.get("isDeveloper")&&(0,c.Z)(N.rU,{className:"sidebar-menu-item",to:"/developers",onClick:this.handleClose},void 0,(0,c.Z)(A.Z,{src:o(660)}),(0,c.Z)("span",{className:"sidebar-menu-item__title"},void 0,i.formatMessage(D.developers))),(0,c.Z)("div",{className:"sidebar-menu__section"},void 0,(0,c.Z)(N.rU,{className:"sidebar-menu-item",to:"/auth/sign_out",onClick:a},void 0,(0,c.Z)(A.Z,{src:o(387)}),(0,c.Z)("span",{className:"sidebar-menu-item__title"},void 0,i.formatMessage(D.logout)))))))},t}(y.ZP),(0,l.Z)(a,"propTypes",{intl:v().object.isRequired,account:g().map,otherAccounts:g().list,sidebarOpen:v().bool,onClose:v().func.isRequired,settings:v().object.isRequired,features:v().object.isRequired,instance:g().map.isRequired,baseURL:v().string}),r=s))||r)||r)},809:function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return y}});var n,i,r=o(1019),a=o(1018),s=(o(1),o(0)),c=o(1797),l=o(1017),u=o(1021),d=o(2),p=o(189),f=o(1022),m=o(35),h=o(8),v=o(12),_=(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),g=(0,c.vU)({close:{id:"lightbox.close",defaultMessage:"Close"},placeholder:{id:"account_note.placeholder",defaultMessage:"No comment provided"},save:{id:"account_note.save",defaultMessage:"Save"}}),y=(0,d.$j)((function(){var e=(0,v.Tm)();return function(t){return{isSubmitting:t.getIn(["account_notes","edit","isSubmitting"]),account:e(t,t.getIn(["account_notes","edit","account_id"])),comment:t.getIn(["account_notes","edit","comment"])}}}),(function(e){return{onConfirm:function(){e((0,p.Td)())},onClose:function(){e((0,f.Mr)())},onCommentChange:function(t){e((0,p.zh)(t))}}}))(i=(0,l.ZP)(i=function(e){function t(){for(var t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];var n=e.apply(this,t)||this;return(0,a.Z)(n,"handleCommentChange",(function(e){n.props.onCommentChange(e.target.value)})),(0,a.Z)(n,"handleSubmit",(function(){n.props.onConfirm()})),(0,a.Z)(n,"handleKeyDown",(function(e){13===e.keyCode&&(e.ctrlKey||e.metaKey)&&n.handleSubmit()})),n}return _(t,e),t.prototype.render=function(){var e=this.props,t=e.account,n=e.isSubmitting,i=e.comment,a=e.onClose,s=e.intl;return(0,r.Z)("div",{className:"modal-root__modal account-note-modal"},void 0,(0,r.Z)("div",{className:"account-note-modal__header"},void 0,(0,r.Z)(h.Z,{src:o(386)}),(0,r.Z)(u.Z,{id:"account_note.target",defaultMessage:"Note for @{target}",values:{target:t.get("acct")}})),(0,r.Z)("div",{className:"account-note-modal__container"},void 0,(0,r.Z)("p",{},void 0,(0,r.Z)(u.Z,{id:"account_note.hint",defaultMessage:"You can keep notes about this user for yourself (this will not be shared with them):"})),(0,r.Z)("textarea",{className:"setting-text light",placeholder:s.formatMessage(g.placeholder),value:i,onChange:this.handleCommentChange,onKeyDown:this.handleKeyDown,disabled:n,autoFocus:!0})),(0,r.Z)("div",{className:"account-note-modal__action-bar"},void 0,(0,r.Z)(m.Z,{onClick:a,className:"account-note-modal__cancel-button"},void 0,(0,r.Z)(u.Z,{id:"confirmation_modal.cancel",defaultMessage:"Cancel"})),(0,r.Z)(m.Z,{text:s.formatMessage(g.save),onClick:this.handleSubmit,disabled:n})))},t}(s.PureComponent))||i)||i},798:function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return S}});var n,i,r,a,s=o(1019),c=o(1018),l=(o(1),o(7)),u=o.n(l),d=o(3),p=o.n(d),f=o(5),m=o.n(f),h=o(4),v=o(1017),_=o(1021),g=o(72),y=o.n(g),Z=o(21),b=o(35),C=o(31),w=o(8),N=o(85),M=o(105),k=o(89),O=(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),S=(0,v.ZP)((a=r=function(e){function t(){for(var t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];var n=e.apply(this,t)||this;return(0,c.Z)(n,"renderAction",(function(e,t){if(null===e)return(0,s.Z)("li",{className:"dropdown-menu__separator"},"sep-".concat(t));var o=e.icon,i=void 0===o?null:o,r=e.text,a=e.meta,c=void 0===a?null:a,l=e.active,d=void 0!==l&&l,p=e.href,f=void 0===p?"#":p,m=e.isLogout,h=e.destructive;return(0,s.Z)("li",{},"".concat(r,"-").concat(t),(0,s.Z)("a",{href:f,rel:"noopener",onClick:n.props.onClick,"data-index":t,className:u()({active:d,destructive:h}),"data-method":m?"delete":null},void 0,i&&(0,s.Z)(w.Z,{title:r,src:i,role:"presentation",tabIndex:"-1",inverted:!0}),(0,s.Z)("div",{},void 0,(0,s.Z)("div",{className:u()({"actions-modal__item-label":!!c})},void 0,r),(0,s.Z)("div",{},void 0,c))))})),n}return O(t,e),t.prototype.render=function(){var e=this,t=this.props,o=t.actions,n=t.onClose,i=this.props.status&&(0,s.Z)("div",{className:"status light"},void 0,(0,s.Z)("div",{className:"boost-modal__status-header"},void 0,(0,s.Z)("div",{className:"boost-modal__status-time"},void 0,(0,s.Z)("a",{href:this.props.status.get("url"),className:"status__relative-time",target:"_blank",rel:"noopener"},void 0,(0,s.Z)(N.Z,{timestamp:this.props.status.get("created_at")}))),(0,s.Z)("a",{href:"/@".concat(this.props.status.getIn(["account","acct"])),className:"status__display-name"},void 0,(0,s.Z)("div",{className:"status__avatar"},void 0,(0,s.Z)(Z.Z,{account:this.props.status.get("account"),size:48})),(0,s.Z)(C.Z,{account:this.props.status.get("account")}))),(0,s.Z)(M.Z,{status:this.props.status}));return(0,s.Z)(k.Z,{defaultStyle:{top:100},style:{top:y()(0)}},void 0,(function(t){var r=t.top;return(0,s.Z)("div",{className:"modal-root__modal actions-modal",style:{top:"".concat(r,"%")}},void 0,i,(0,s.Z)("ul",{className:u()({"with-status":!!i})},void 0,o&&o.map(e.renderAction),(0,s.Z)(b.Z,{className:"actions-modal__close-button",onClick:n},void 0,(0,s.Z)(_.Z,{id:"lightbox.close",defaultMessage:"Close"}))))}))},t}(h.ZP),(0,c.Z)(r,"propTypes",{status:m().map,actions:p().array,onClick:p().func,onClose:p().func.isRequired}),i=a))||i},1101:function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return j}});var n,i,r,a,s,c=o(1019),l=o(1018),u=(o(1),o(0)),d=o(1797),p=o(1017),f=o(1021),m=o(2),h=o(1794),v=o(11),_=o(1259),g=o(25),y=o(3),Z=o.n(y),b=o(5),C=o.n(b),w=o(4),N=o(21),M=o(31),k=o(8),O=o(90),S=o(12),x=(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),E=(0,d.vU)({birthday:{id:"account.birthday",defaultMessage:"Born {date}"}}),P=(0,m.$j)((function(){var e=(0,S.Tm)();return function(t,o){var n=o.accountId;return{account:e(t,n)}}}))(i=(0,p.ZP)((a=r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return x(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.account,o=e.accountId;o&&!t&&this.props.fetchAccount(o)},t.prototype.render=function(){var e=this.props,t=e.account,n=e.intl;if(!t)return null;var i=t.get("birthday");if(!i)return null;var r=n.formatDate(i,{day:"numeric",month:"short",year:"numeric"});return(0,c.Z)("div",{className:"account"},void 0,(0,c.Z)("div",{className:"account__wrapper"},void 0,(0,c.Z)(O.Z,{className:"account__display-name",title:t.get("acct"),href:"/@".concat(t.get("acct")),to:"/@".concat(t.get("acct"))},void 0,(0,c.Z)("div",{className:"account__display-name"},void 0,(0,c.Z)("div",{className:"account__avatar-wrapper"},void 0,(0,c.Z)(N.Z,{account:t,size:36})),(0,c.Z)(M.Z,{account:t}))),(0,c.Z)("div",{className:"account__birthday",title:n.formatMessage(E.birthday,{date:r})},void 0,(0,c.Z)(k.Z,{src:o(289)}),r)))},t}(w.ZP),(0,l.Z)(r,"propTypes",{accountId:Z().string.isRequired,intl:Z().object.isRequired,account:C().map}),(0,l.Z)(r,"defaultProps",{added:!1}),i=a))||i)||i,I=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),T=(0,d.vU)({close:{id:"lightbox.close",defaultMessage:"Close"}}),j=(0,m.$j)((function(e){var t=e.get("me");return{accountIds:e.getIn(["user_lists","birthday_reminders",t])}}))(s=(0,p.ZP)(s=(0,h.EN)(s=function(e){function t(){for(var t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];var n=e.apply(this,t)||this;return(0,l.Z)(n,"onClickClose",(function(e,t){n.props.onClose("BIRTHDAYS",t)})),n}return I(t,e),t.prototype.componentDidMount=function(){var e=this;this.unlistenHistory=this.props.history.listen((function(t,o){"PUSH"===o&&e.onClickClose(null,!0)}))},t.prototype.componentWillUnmount=function(){this.unlistenHistory&&this.unlistenHistory()},t.prototype.render=function(){var e,t=this.props,n=t.intl,i=t.accountIds;if(i){var r=(0,c.Z)(f.Z,{id:"status.reblogs.empty",defaultMessage:"No one has reposted this post yet. When someone does, they will show up here."});e=(0,c.Z)(g.Z,{scrollKey:"reblogs",emptyMessage:r},void 0,i.map((function(e){return(0,c.Z)(P,{accountId:e,withNote:!1},e)})))}else e=(0,c.Z)(_.Z,{});return(0,c.Z)("div",{className:"modal-root__modal reactions-modal"},void 0,(0,c.Z)("div",{className:"compose-modal__header"},void 0,(0,c.Z)("h3",{className:"compose-modal__header__title"},void 0,(0,c.Z)(f.Z,{id:"column.birthdays",defaultMessage:"Birthdays"})),(0,c.Z)(v.Z,{className:"compose-modal__close",title:n.formatMessage(T.close),src:o(18),onClick:this.onClickClose,size:20})),e)},t}(u.PureComponent))||s)||s)||s},795:function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return S}});var n,i,r,a,s=o(1019),c=o(1018),l=(o(1),o(3)),u=o.n(l),d=o(0),p=o(5),f=o.n(p),m=o(4),h=o(1797),v=o(1017),_=o(1021),g=o(1794),y=o(188),Z=o(8),b=o(21),C=o(35),w=o(31),N=o(85),M=o(105),k=(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),O=(0,h.vU)({cancel_reblog:{id:"status.cancel_reblog_private",defaultMessage:"Un-repost"},reblog:{id:"status.reblog",defaultMessage:"Repost"}}),S=(0,v.ZP)(i=(0,g.EN)((a=r=function(e){function t(){for(var t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];var n=e.apply(this,t)||this;return(0,c.Z)(n,"handleReblog",(function(){n.props.onReblog(n.props.status),n.props.onClose()})),(0,c.Z)(n,"handleAccountClick",(function(e){0!==e.button||e.ctrlKey||e.metaKey||(e.preventDefault(),n.props.onClose(),n.props.history.push("/@".concat(n.props.status.getIn(["account","acct"]))))})),(0,c.Z)(n,"handleStatusClick",(function(e){0!==e.button||e.ctrlKey||e.metaKey||(e.preventDefault(),n.props.onClose(),n.props.history.push("/@".concat(n.props.status.getIn(["account","acct"]),"/posts/").concat(n.props.status.get("url"))))})),(0,c.Z)(n,"setRef",(function(e){n.button=e})),n}return k(t,e),t.prototype.componentDidMount=function(){this.button.focus()},t.prototype.render=function(){var e=this.props,t=e.status,o=e.intl,n=t.get("reblogged")?O.cancel_reblog:O.reblog,i="/@".concat(t.getIn(["account","acct"]),"/posts/").concat(t.get("url"));return(0,s.Z)("div",{className:"modal-root__modal boost-modal"},void 0,(0,s.Z)("div",{className:"boost-modal__container"},void 0,(0,s.Z)("div",{className:"status light"},void 0,(0,s.Z)("div",{className:"boost-modal__status-header"},void 0,(0,s.Z)("div",{className:"boost-modal__status-time"},void 0,(0,s.Z)("a",{onClick:this.handleStatusClick,href:i,className:"status__relative-time"},void 0,(0,s.Z)(N.Z,{timestamp:t.get("created_at")}))),(0,s.Z)("a",{onClick:this.handleAccountClick,href:"/@".concat(t.getIn(["account","acct"])),className:"status__display-name"},void 0,(0,s.Z)("div",{className:"status__avatar"},void 0,(0,s.Z)(b.Z,{account:t.get("account"),size:48})),(0,s.Z)(w.Z,{account:t.get("account")}))),(0,s.Z)(M.Z,{status:t}),t.get("media_attachments").size>0&&(0,s.Z)(y.Z,{compact:!0,media:t.get("media_attachments"),sensitive:t.get("sensitive")}))),(0,s.Z)("div",{className:"boost-modal__action-bar"},void 0,(0,s.Z)("div",{},void 0,(0,s.Z)(_.Z,{id:"boost_modal.combo",defaultMessage:"You can press {combo} to skip this next time",values:{combo:(0,s.Z)("span",{},void 0,"Shift + ",(0,s.Z)(Z.Z,{id:"retweet"}))}})),d.createElement(C.Z,{text:o.formatMessage(n),onClick:this.handleReblog,ref:this.setRef})))},t}(m.ZP),(0,c.Z)(r,"propTypes",{status:f().map.isRequired,onReblog:u().func.isRequired,onClose:u().func.isRequired,intl:u().object.isRequired,history:u().object}),i=a))||i)||i},804:function(e,t,o){"use strict";o.r(t);var n,i=o(1019),r=o(1015),a=o(1018),s=o(0),c=(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return c(t,e),t.prototype.render=function(){var e=this.props,t=e.onClose,o=e.component,n=e.componentProps;return(0,i.Z)("div",{className:"modal-root__modal component-modal"},void 0,s.createElement(o,(0,r.Z)({onClose:t},n)))},t}(s.PureComponent);t.default=l,(0,a.Z)(l,"defaultProps",{componentProps:{}})},801:function(e,t,o){"use strict";o.r(t);var n,i=o(1019),r=o(1018),a=(o(1),o(3)),s=o.n(a),c=o(5),l=o.n(c),u=o(4),d=o(1797),p=o(1021),f=o(1017),m=o(2),h=o(22),v=o(1022),_=o(11),g=o(374),y=(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),Z=(0,d.vU)({close:{id:"lightbox.close",defaultMessage:"Close"},confirm:{id:"confirmations.delete.confirm",defaultMessage:"Delete"}}),b=function(e){function t(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var a=e.apply(this,t)||this;return(0,r.Z)(a,"onClickClose",(function(){var e=a.props,t=e.composeText,n=e.dispatch,r=e.onClose,s=e.intl;t?n((0,v.h7)("CONFIRM",{icon:o(60),heading:(0,i.Z)(p.Z,{id:"confirmations.delete.heading",defaultMessage:"Delete post"}),message:(0,i.Z)(p.Z,{id:"confirmations.delete.message",defaultMessage:"Are you sure you want to delete this post?"}),confirm:s.formatMessage(Z.confirm),onConfirm:function(){n((0,v.Mr)("COMPOSE")),n((0,h.qY)())}})):r("COMPOSE")})),(0,r.Z)(a,"renderTitle",(function(){var e=a.props,t=e.privacy,o=e.inReplyTo,n=e.quote;return"direct"===t?(0,i.Z)(p.Z,{id:"navigation_bar.compose_direct",defaultMessage:"Direct message"}):o?(0,i.Z)(p.Z,{id:"navigation_bar.compose_reply",defaultMessage:"Reply to post"}):n?(0,i.Z)(p.Z,{id:"navigation_bar.compose_quote",defaultMessage:"Quote post"}):(0,i.Z)(p.Z,{id:"navigation_bar.compose",defaultMessage:"Compose new post"})})),a}return y(t,e),t.prototype.render=function(){var e=this.props.intl;return(0,i.Z)("div",{className:"modal-root__modal compose-modal"},void 0,(0,i.Z)("div",{className:"compose-modal__header"},void 0,(0,i.Z)("h3",{className:"compose-modal__header__title"},void 0,this.renderTitle()),(0,i.Z)(_.Z,{className:"compose-modal__close",title:e.formatMessage(Z.close),src:o(18),onClick:this.onClickClose,size:20})),(0,i.Z)("div",{className:"compose-modal__content compose-modal__content--scroll"},void 0,(0,i.Z)(g.Z,{})))},t}(u.ZP);(0,r.Z)(b,"propTypes",{account:l().map,intl:s().object.isRequired,onClose:s().func.isRequired,composeText:s().string,privacy:s().string,inReplyTo:s().string,quote:s().string,dispatch:s().func.isRequired}),t.default=(0,f.ZP)((0,m.$j)((function(e){var t=e.get("me");return{account:e.getIn(["accounts",t]),composeText:e.getIn(["compose","text"]),privacy:e.getIn(["compose","privacy"]),inReplyTo:e.getIn(["compose","in_reply_to"]),quote:e.getIn(["compose","quote"])}}))(b))},796:function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return m}});var n,i,r=o(1019),a=o(1018),s=(o(1),o(0)),c=o(1017),l=o(1021),u=o(28),d=o(35),p=o(8),f=(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),m=(0,c.ZP)(i=function(e){function t(){for(var t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];var n=e.apply(this,t)||this;return(0,a.Z)(n,"state",{checked:!1}),(0,a.Z)(n,"handleClick",(function(){n.props.onClose("CONFIRM"),n.props.onConfirm()})),(0,a.Z)(n,"handleSecondary",(function(){n.props.onClose("CONFIRM"),n.props.onSecondary()})),(0,a.Z)(n,"handleCancel",(function(){var e=n.props,t=e.onClose,o=e.onCancel;t("CONFIRM"),o&&o()})),(0,a.Z)(n,"handleCheckboxChange",(function(e){n.setState({checked:e.target.checked})})),(0,a.Z)(n,"setRef",(function(e){n.button=e})),n}return f(t,e),t.prototype.componentDidMount=function(){this.button.focus()},t.prototype.render=function(){var e=this.props,t=e.heading,o=e.icon,n=e.message,i=e.confirm,a=e.secondary,c=e.checkbox,f=this.state.checked;return(0,r.Z)("div",{className:"modal-root__modal confirmation-modal"},void 0,t&&(0,r.Z)("div",{className:"confirmation-modal__header"},void 0,o&&(0,r.Z)(p.Z,{src:o}),t),(0,r.Z)("div",{className:"confirmation-modal__container"},void 0,n),c&&(0,r.Z)("div",{className:"confirmation-modal__checkbox"},void 0,(0,r.Z)(u.NA,{},void 0,(0,r.Z)(u.H_,{},void 0,(0,r.Z)(u.XZ,{onChange:this.handleCheckboxChange,label:c,checked:f})))),(0,r.Z)("div",{className:"confirmation-modal__action-bar"},void 0,(0,r.Z)(d.Z,{onClick:this.handleCancel,className:"confirmation-modal__cancel-button"},void 0,(0,r.Z)(l.Z,{id:"confirmation_modal.cancel",defaultMessage:"Cancel"})),void 0!==a&&(0,r.Z)(d.Z,{text:a,onClick:this.handleSecondary,className:"confirmation-modal__secondary-button"}),s.createElement(d.Z,{text:i,onClick:this.handleClick,ref:this.setRef,disabled:c&&!f})))},t}(s.PureComponent))||i},1100:function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return O}});var n=o(1019),i=o(1018),r=(o(1),o(320)),a=o(3),s=o.n(a),c=o(5),l=o.n(c),u=o(4),d=o(1797),p=o(1017),f=o(2),m=o(263),h=o(38);function v(e,t){return function(o,n){return o((0,h.Q2)()).then((function(){var i=n().getIn(["admin","configs"]),a=function(e,t,o){return e.map((function(e,n){return o.get(n)?(0,r.Set)(e).add(t):(0,r.Set)(e).delete(t)}))}(m.Z.toSimplePolicy(i),e,t),s=m.Z.fromSimplePolicy(a);o((0,h.rF)(s))}))}}var _,g,y,Z,b=o(30),C=o(28),w=o(12),N=(_=function(e,t){return _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},_(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}_(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),M=(0,w.Go)(),k=(0,d.vU)({reject:{id:"edit_federation.reject",defaultMessage:"Reject all activities"},mediaRemoval:{id:"edit_federation.media_removal",defaultMessage:"Strip media"},forceNsfw:{id:"edit_federation.force_nsfw",defaultMessage:"Force attachments to be marked sensitive"},unlisted:{id:"edit_federation.unlisted",defaultMessage:"Force posts unlisted"},followersOnly:{id:"edit_federation.followers_only",defaultMessage:"Hide posts except to followers"},save:{id:"edit_federation.save",defaultMessage:"Save"},success:{id:"edit_federation.success",defaultMessage:"{host} federation was updated"}}),O=(0,f.$j)((function(e,t){var o=t.host;return{remoteInstance:M(e,o)}}))(g=(0,p.ZP)((Z=y=function(e){function t(){for(var t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];var n=e.apply(this,t)||this;return(0,i.Z)(n,"state",{data:(0,r.Map)()}),(0,i.Z)(n,"hydrateState",(function(){var e=n.props.remoteInstance;n.setState({data:e.get("federation")})})),(0,i.Z)(n,"handleDataChange",(function(e){return function(t){var o=t.target,i=n.state.data;n.setState({data:i.set(e,o.checked)})}})),(0,i.Z)(n,"handleMediaRemoval",(function(e){var t=e.target.checked,o=n.state.data.merge({avatar_removal:t,banner_removal:t,media_removal:t});n.setState({data:o})})),(0,i.Z)(n,"handleSubmit",(function(e){var t=n.props,o=t.intl,i=t.dispatch,r=t.host,a=t.onClose,s=n.state.data;i(v(r,s)).then((function(){return i(b.ZP.success(o.formatMessage(k.success,{host:r})))})).catch((function(){})),a()})),n}return N(t,e),t.prototype.componentDidMount=function(){this.hydrateState()},t.prototype.componentDidUpdate=function(e){var t=this.props.remoteInstance;(0,r.is)(e.remoteInstance,t)||this.hydrateState()},t.prototype.render=function(){var e=this.props,t=e.intl,o=e.remoteInstance,i=this.state.data.toJS(),r=i.avatar_removal,a=i.banner_removal,s=i.federated_timeline_removal,c=i.followers_only,l=i.media_nsfw,u=i.media_removal,d=i.reject,p=r&&a&&u;return(0,n.Z)("div",{className:"modal-root__modal edit-federation-modal"},void 0,(0,n.Z)("div",{},void 0,(0,n.Z)("div",{className:"edit-federation-modal__title"},void 0,o.get("host")),(0,n.Z)(C.NA,{onSubmit:this.handleSubmit},void 0,(0,n.Z)(C.XZ,{label:t.formatMessage(k.reject),checked:d,onChange:this.handleDataChange("reject")}),(0,n.Z)(C.XZ,{label:t.formatMessage(k.mediaRemoval),disabled:d,checked:p,onChange:this.handleMediaRemoval}),(0,n.Z)(C.XZ,{label:t.formatMessage(k.forceNsfw),disabled:d||u,checked:l,onChange:this.handleDataChange("media_nsfw")}),(0,n.Z)(C.XZ,{label:t.formatMessage(k.followersOnly),disabled:d,checked:c,onChange:this.handleDataChange("followers_only")}),(0,n.Z)(C.XZ,{label:t.formatMessage(k.unlisted),disabled:d||c,checked:s,onChange:this.handleDataChange("federated_timeline_removal")}),(0,n.Z)("button",{type:"submit",className:"edit-federation-modal__submit"},void 0,t.formatMessage(k.save)))))},t}(u.ZP),(0,i.Z)(y,"propTypes",{host:s().string.isRequired,remoteInstance:l().map}),g=Z))||g)||g},806:function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return y}});var n,i,r=o(1019),a=o(1018),s=(o(1),o(0)),c=o(1797),l=o(1017),u=o(1021),d=o(2),p=o(76),f=o(11),m=o(1259),h=o(25),v=o(46),_=(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),g=(0,c.vU)({close:{id:"lightbox.close",defaultMessage:"Close"}}),y=(0,d.$j)((function(e,t){return{accountIds:e.getIn(["user_lists","favourited_by",t.statusId])}}))(i=(0,l.ZP)(i=function(e){function t(){for(var t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];var n=e.apply(this,t)||this;return(0,a.Z)(n,"fetchData",(function(){var e=n.props,t=e.dispatch,o=e.statusId;t((0,p.eA)(o))})),(0,a.Z)(n,"onClickClose",(function(){n.props.onClose("FAVOURITES")})),n}return _(t,e),t.prototype.componentDidMount=function(){this.fetchData()},t.prototype.render=function(){var e,t=this.props,n=t.intl,i=t.accountIds;if(i){var a=(0,r.Z)(u.Z,{id:"empty_column.favourites",defaultMessage:"No one has liked this post yet. When someone does, they will show up here."});e=(0,r.Z)(h.Z,{scrollKey:"favourites",emptyMessage:a},void 0,i.map((function(e){return(0,r.Z)(v.Z,{id:e,withNote:!1},e)})))}else e=(0,r.Z)(m.Z,{});return(0,r.Z)("div",{className:"modal-root__modal reactions-modal"},void 0,(0,r.Z)("div",{className:"compose-modal__header"},void 0,(0,r.Z)("h3",{className:"compose-modal__header__title"},void 0,(0,r.Z)(u.Z,{id:"column.favourites",defaultMessage:"likes"})),(0,r.Z)(f.Z,{className:"compose-modal__close",title:n.formatMessage(g.close),src:o(18),onClick:this.onClickClose,size:20})),e)},t}(s.PureComponent))||i)||i},815:function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return g}});var n,i,r=o(1019),a=o(320),s=o(0),c=o(1797),l=o(1017),u=o(2),d=o(1800),p=o(8),f=o(179),m=o(17),h=o(10),v=(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),_=(0,c.vU)({edit_profile:{id:"account.edit_profile",defaultMessage:"Edit Profile"},preferences:{id:"navigation_bar.preferences",defaultMessage:"Preferences"},security:{id:"navigation_bar.security",defaultMessage:"Security"},lists:{id:"column.lists",defaultMessage:"Lists"},bookmarks:{id:"column.bookmarks",defaultMessage:"Bookmarks"},follow_requests:{id:"navigation_bar.follow_requests",defaultMessage:"Follow requests"}}),g=(0,u.$j)((function(e){var t=e.get("me"),o=e.getIn(["accounts",t]),n=e.get("instance"),i=(0,h.N$)(n);return{isLocked:e.getIn(["accounts",t,"locked"]),followRequestsCount:e.getIn(["user_lists","follow_requests","items"],(0,a.OrderedSet)()).count(),baseURL:(0,m.BS)(o),features:i}}))(i=(0,l.ZP)(i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return v(t,e),t.prototype.render=function(){var e=this.props,t=e.intl,n=e.isLocked,i=e.followRequestsCount,a=e.baseURL,s=e.features;return(0,r.Z)("div",{className:"wtf-panel promo-panel"},void 0,(0,r.Z)("div",{className:"promo-panel__container"},void 0,(0,r.Z)(d.OL,{className:"promo-panel-item",to:"/settings/profile"},void 0,(0,r.Z)(p.Z,{src:o(192),className:"promo-panel-item__icon"}),t.formatMessage(_.edit_profile)),(n||i>0)&&(0,r.Z)(d.OL,{className:"promo-panel-item",to:"/follow_requests"},void 0,(0,r.Z)(f.Z,{src:o(193),count:i,className:"promo-panel-item__icon"}),t.formatMessage(_.follow_requests)),s.bookmarks&&(0,r.Z)(d.OL,{className:"promo-panel-item",to:"/bookmarks"},void 0,(0,r.Z)(p.Z,{src:o(654),className:"promo-panel-item__icon"}),t.formatMessage(_.bookmarks)),s.lists&&(0,r.Z)(d.OL,{className:"promo-panel-item",to:"/lists"},void 0,(0,r.Z)(p.Z,{src:o(144),className:"promo-panel-item__icon"}),t.formatMessage(_.lists)),s.securityAPI?(0,r.Z)(d.OL,{className:"promo-panel-item",to:"/auth/edit"},void 0,(0,r.Z)(p.Z,{src:o(87),className:"promo-panel-item__icon"}),t.formatMessage(_.security)):(0,r.Z)("a",{className:"promo-panel-item",href:"".concat(a,"/auth/edit")},void 0,(0,r.Z)(p.Z,{src:o(87),className:"promo-panel-item__icon"}),t.formatMessage(_.security)),s.settingsStore?(0,r.Z)(d.OL,{className:"promo-panel-item",to:"/settings/preferences"},void 0,(0,r.Z)(p.Z,{src:o(114),className:"promo-panel-item__icon"}),t.formatMessage(_.preferences)):(0,r.Z)("a",{className:"promo-panel-item",href:"".concat(a,"/settings/preferences")},void 0,(0,r.Z)(p.Z,{src:o(114),className:"promo-panel-item__icon"}),t.formatMessage(_.preferences))))},t}(s.PureComponent))||i)||i},799:function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return Z}});var n,i,r,a,s=o(1019),c=o(1018),l=(o(1),o(7)),u=o.n(l),d=o(0),p=o(5),f=o.n(p),m=o(4),h=o(2),v=o(22),_=o(133),g=o(1138),y=(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),Z=(0,h.$j)((function(e,t){var o=t.id;return{media:e.getIn(["compose","media_attachments"]).find((function(e){return e.get("id")===o}))}}),(function(e,t){var o=t.id;return{onSave:function(t,n){e((0,v.b2)(o,{focus:"".concat(t.toFixed(2),",").concat(n.toFixed(2))}))}}}))((a=r=function(e){function t(){for(var t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];var n=e.apply(this,t)||this;return(0,c.Z)(n,"state",{x:0,y:0,focusX:0,focusY:0,dragging:!1}),(0,c.Z)(n,"handleMouseDown",(function(e){document.addEventListener("mousemove",n.handleMouseMove),document.addEventListener("mouseup",n.handleMouseUp),n.updatePosition(e),n.setState({dragging:!0})})),(0,c.Z)(n,"handleMouseMove",(function(e){n.updatePosition(e)})),(0,c.Z)(n,"handleMouseUp",(function(){document.removeEventListener("mousemove",n.handleMouseMove),document.removeEventListener("mouseup",n.handleMouseUp),n.setState({dragging:!1}),n.props.onSave(n.state.focusX,n.state.focusY)})),(0,c.Z)(n,"updatePosition",(function(e){var t=(0,_.getPointerPosition)(n.node,e),o=t.x,i=t.y,r=2*(o-.5),a=-2*(i-.5);n.setState({x:o,y:i,focusX:r,focusY:a})})),(0,c.Z)(n,"updatePositionFromMedia",(function(e){var t=e.getIn(["meta","focus","x"]),o=e.getIn(["meta","focus","y"]);if(t&&o){var i=t/2+.5,r=o/-2+.5;n.setState({x:i,y:r,focusX:t,focusY:o})}else n.setState({x:.5,y:.5,focusX:0,focusY:0})})),(0,c.Z)(n,"setRef",(function(e){n.node=e})),n}return y(t,e),t.prototype.componentDidMount=function(){this.updatePositionFromMedia(this.props.media)},t.prototype.componentDidUpdate=function(e){var t=this.props.media;e.media.get("id")!==t.get("id")&&this.updatePositionFromMedia(t)},t.prototype.componentWillUnmount=function(){document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp)},t.prototype.render=function(){var e=this.props.media,t=this.state,o=t.x,n=t.y,i=t.dragging,r=e.getIn(["meta","original","width"])||null,a=e.getIn(["meta","original","height"])||null;return(0,s.Z)("div",{className:"modal-root__modal video-modal focal-point-modal"},void 0,d.createElement("div",{className:u()("focal-point",{dragging:i}),ref:this.setRef},(0,s.Z)(g.Z,{previewSrc:e.get("preview_url"),src:e.get("url"),width:r,height:a}),(0,s.Z)("div",{className:"focal-point__reticle",style:{top:"".concat(100*n,"%"),left:"".concat(100*o,"%")}}),(0,s.Z)("div",{className:"focal-point__overlay",onMouseDown:this.handleMouseDown})))},t}(m.ZP),(0,c.Z)(r,"propTypes",{media:f().map.isRequired}),i=a))||i},1119:function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return g}});var n,i=o(1019),r=o(320),a=o(0),s=o(4),c=o(1017),l=o(2),u=o(394),d=o(8),p=(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return p(t,e),t.prototype.render=function(){var e=this.props.progress;return(0,i.Z)("div",{className:"progress-bar"},void 0,(0,i.Z)("div",{className:"progress-bar__progress",style:{width:"".concat(Math.floor(100*e),"%")}}))},t}(s.ZP),m=f,h=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),v=function(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"usd",notation:"compact"}).format(e/100)},_=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return h(t,e),t.prototype.componentDidMount=function(){this.props.dispatch((0,u.vT)())},t.prototype.render=function(){var e=this.props.patron;if(e.isEmpty())return null;var t,n=e.getIn(["funding","amount"]),r=e.getIn(["goals","0","amount"]),s=e.getIn(["goals","0","text"]);return t=n>=r?a.createElement(a.Fragment,null,(0,i.Z)("strong",{},void 0,v(r))," per month",(0,i.Z)("span",{className:"funding-panel__reached"},void 0," reached!")):a.createElement(a.Fragment,null,(0,i.Z)("strong",{},void 0,v(n)," out of ",v(r))," per month"),(0,i.Z)("div",{className:"wtf-panel funding-panel"},void 0,(0,i.Z)("div",{className:"wtf-panel-header"},void 0,(0,i.Z)(d.Z,{src:o(1232),className:"wtf-panel-header__icon"}),(0,i.Z)("span",{className:"wtf-panel-header__label"},void 0,(0,i.Z)("span",{},void 0,"Funding Goal"))),(0,i.Z)("div",{className:"wtf-panel__content"},void 0,(0,i.Z)("div",{className:"funding-panel__ratio"},void 0,t),(0,i.Z)(m,{progress:n/r}),(0,i.Z)("div",{className:"funding-panel__description"},void 0,s),(0,i.Z)("a",{className:"button",href:e.get("url")},void 0,"Donate")))},t}(s.ZP),g=(0,c.ZP)((0,l.$j)((function(e){return{patron:e.getIn(["patron","instance"],(0,r.Map)())}}),null,null,{forwardRef:!0})(_))},800:function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return g}});var n,i,r,a,s=o(1019),c=o(1018),l=o(3),u=o.n(l),d=o(4),p=o(1797),f=o(1017),m=o(1021),h=o(11),v=(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),_=(0,p.vU)({close:{id:"lightbox.close",defaultMessage:"Close"}}),g=(0,f.ZP)((a=r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return v(t,e),t.prototype.render=function(){var e=this.props,t=e.intl,n=e.onClose;return(0,s.Z)("div",{className:"modal-root__modal hotkeys-modal"},void 0,(0,s.Z)("div",{className:"compose-modal__header"},void 0,(0,s.Z)("h3",{className:"compose-modal__header__title"},void 0,(0,s.Z)(m.Z,{id:"keyboard_shortcuts.heading",defaultMessage:"Keyboard shortcuts"})),(0,s.Z)(h.Z,{className:"compose-modal__close",title:t.formatMessage(_.close),src:o(18),onClick:n})),(0,s.Z)("div",{className:"compose-modal__content"},void 0,(0,s.Z)("table",{},void 0,(0,s.Z)("thead",{},void 0,(0,s.Z)("tr",{},void 0,(0,s.Z)("th",{},void 0,(0,s.Z)(m.Z,{id:"keyboard_shortcuts.hotkey",defaultMessage:"Hotkey"})))),(0,s.Z)("tbody",{},void 0,(0,s.Z)("tr",{},void 0,(0,s.Z)("td",{},void 0,(0,s.Z)("kbd",{},void 0,"r")),(0,s.Z)("td",{},void 0,(0,s.Z)(m.Z,{id:"keyboard_shortcuts.reply",defaultMessage:"to reply"}))),(0,s.Z)("tr",{},void 0,(0,s.Z)("td",{},void 0,(0,s.Z)("kbd",{},void 0,"m")),(0,s.Z)("td",{},void 0,(0,s.Z)(m.Z,{id:"keyboard_shortcuts.mention",defaultMessage:"to mention author"}))),(0,s.Z)("tr",{},void 0,(0,s.Z)("td",{},void 0,(0,s.Z)("kbd",{},void 0,"p")),(0,s.Z)("td",{},void 0,(0,s.Z)(m.Z,{id:"keyboard_shortcuts.profile",defaultMessage:"to open author's profile"}))),(0,s.Z)("tr",{},void 0,(0,s.Z)("td",{},void 0,(0,s.Z)("kbd",{},void 0,"f")),(0,s.Z)("td",{},void 0,(0,s.Z)(m.Z,{id:"keyboard_shortcuts.favourite",defaultMessage:"to like"}))),(0,s.Z)("tr",{},void 0,(0,s.Z)("td",{},void 0,(0,s.Z)("kbd",{},void 0,"e")),(0,s.Z)("td",{},void 0,(0,s.Z)(m.Z,{id:"keyboard_shortcuts.react",defaultMessage:"to react"}))),(0,s.Z)("tr",{},void 0,(0,s.Z)("td",{},void 0,(0,s.Z)("kbd",{},void 0,"b")),(0,s.Z)("td",{},void 0,(0,s.Z)(m.Z,{id:"keyboard_shortcuts.boost",defaultMessage:"to repost"}))),(0,s.Z)("tr",{},void 0,(0,s.Z)("td",{},void 0,(0,s.Z)("kbd",{},void 0,"enter"),", ",(0,s.Z)("kbd",{},void 0,"o")),(0,s.Z)("td",{},void 0,(0,s.Z)(m.Z,{id:"keyboard_shortcuts.enter",defaultMessage:"to open post"}))),(0,s.Z)("tr",{},void 0,(0,s.Z)("td",{},void 0,(0,s.Z)("kbd",{},void 0,"a")),(0,s.Z)("td",{},void 0,(0,s.Z)(m.Z,{id:"keyboard_shortcuts.open_media",defaultMessage:"to open media"}))))),(0,s.Z)("table",{},void 0,(0,s.Z)("thead",{},void 0,(0,s.Z)("tr",{},void 0,(0,s.Z)("th",{},void 0,(0,s.Z)(m.Z,{id:"keyboard_shortcuts.hotkey",defaultMessage:"Hotkey"})))),(0,s.Z)("tbody",{},void 0,(0,s.Z)("tr",{},void 0,(0,s.Z)("td",{},void 0,(0,s.Z)("kbd",{},void 0,"x")),(0,s.Z)("td",{},void 0,(0,s.Z)(m.Z,{id:"keyboard_shortcuts.toggle_hidden",defaultMessage:"to show/hide text behind CW"}))),(0,s.Z)("tr",{},void 0,(0,s.Z)("td",{},void 0,(0,s.Z)("kbd",{},void 0,"h")),(0,s.Z)("td",{},void 0,(0,s.Z)(m.Z,{id:"keyboard_shortcuts.toggle_sensitivity",defaultMessage:"to show/hide media"}))),(0,s.Z)("tr",{},void 0,(0,s.Z)("td",{},void 0,(0,s.Z)("kbd",{},void 0,"up"),", ",(0,s.Z)("kbd",{},void 0,"k")),(0,s.Z)("td",{},void 0,(0,s.Z)(m.Z,{id:"keyboard_shortcuts.up",defaultMessage:"to move up in the list"}))),(0,s.Z)("tr",{},void 0,(0,s.Z)("td",{},void 0,(0,s.Z)("kbd",{},void 0,"down"),", ",(0,s.Z)("kbd",{},void 0,"j")),(0,s.Z)("td",{},void 0,(0,s.Z)(m.Z,{id:"keyboard_shortcuts.down",defaultMessage:"to move down in the list"}))),(0,s.Z)("tr",{},void 0,(0,s.Z)("td",{},void 0,(0,s.Z)("kbd",{},void 0,"n")),(0,s.Z)("td",{},void 0,(0,s.Z)(m.Z,{id:"keyboard_shortcuts.compose",defaultMessage:"to focus the compose textarea"}))),(0,s.Z)("tr",{},void 0,(0,s.Z)("td",{},void 0,(0,s.Z)("kbd",{},void 0,"alt")," + ",(0,s.Z)("kbd",{},void 0,"n")),(0,s.Z)("td",{},void 0,(0,s.Z)(m.Z,{id:"keyboard_shortcuts.toot",defaultMessage:"to start a new post"}))),(0,s.Z)("tr",{},void 0,(0,s.Z)("td",{},void 0,(0,s.Z)("kbd",{},void 0,"backspace")),(0,s.Z)("td",{},void 0,(0,s.Z)(m.Z,{id:"keyboard_shortcuts.back",defaultMessage:"to navigate back"}))),(0,s.Z)("tr",{},void 0,(0,s.Z)("td",{},void 0,(0,s.Z)("kbd",{},void 0,"s")),(0,s.Z)("td",{},void 0,(0,s.Z)(m.Z,{id:"keyboard_shortcuts.search",defaultMessage:"to focus search"}))),(0,s.Z)("tr",{},void 0,(0,s.Z)("td",{},void 0,(0,s.Z)("kbd",{},void 0,"esc")),(0,s.Z)("td",{},void 0,(0,s.Z)(m.Z,{id:"keyboard_shortcuts.unfocus",defaultMessage:"to un-focus compose textarea/search"}))))),(0,s.Z)("table",{},void 0,(0,s.Z)("thead",{},void 0,(0,s.Z)("tr",{},void 0,(0,s.Z)("th",{},void 0,(0,s.Z)(m.Z,{id:"keyboard_shortcuts.hotkey",defaultMessage:"Hotkey"})))),(0,s.Z)("tbody",{},void 0,(0,s.Z)("tr",{},void 0,(0,s.Z)("td",{},void 0,(0,s.Z)("kbd",{},void 0,"g")," + ",(0,s.Z)("kbd",{},void 0,"h")),(0,s.Z)("td",{},void 0,(0,s.Z)(m.Z,{id:"keyboard_shortcuts.home",defaultMessage:"to open home timeline"}))),(0,s.Z)("tr",{},void 0,(0,s.Z)("td",{},void 0,(0,s.Z)("kbd",{},void 0,"g")," + ",(0,s.Z)("kbd",{},void 0,"n")),(0,s.Z)("td",{},void 0,(0,s.Z)(m.Z,{id:"keyboard_shortcuts.notifications",defaultMessage:"to open notifications column"}))),(0,s.Z)("tr",{},void 0,(0,s.Z)("td",{},void 0,(0,s.Z)("kbd",{},void 0,"g")," + ",(0,s.Z)("kbd",{},void 0,"f")),(0,s.Z)("td",{},void 0,(0,s.Z)(m.Z,{id:"keyboard_shortcuts.favourites",defaultMessage:"to open likes list"}))),(0,s.Z)("tr",{},void 0,(0,s.Z)("td",{},void 0,(0,s.Z)("kbd",{},void 0,"g")," + ",(0,s.Z)("kbd",{},void 0,"p")),(0,s.Z)("td",{},void 0,(0,s.Z)(m.Z,{id:"keyboard_shortcuts.pinned",defaultMessage:"to open pinned posts list"}))),(0,s.Z)("tr",{},void 0,(0,s.Z)("td",{},void 0,(0,s.Z)("kbd",{},void 0,"g")," + ",(0,s.Z)("kbd",{},void 0,"u")),(0,s.Z)("td",{},void 0,(0,s.Z)(m.Z,{id:"keyboard_shortcuts.my_profile",defaultMessage:"to open your profile"}))),(0,s.Z)("tr",{},void 0,(0,s.Z)("td",{},void 0,(0,s.Z)("kbd",{},void 0,"g")," + ",(0,s.Z)("kbd",{},void 0,"b")),(0,s.Z)("td",{},void 0,(0,s.Z)(m.Z,{id:"keyboard_shortcuts.blocked",defaultMessage:"to open blocked users list"}))),(0,s.Z)("tr",{},void 0,(0,s.Z)("td",{},void 0,(0,s.Z)("kbd",{},void 0,"g")," + ",(0,s.Z)("kbd",{},void 0,"m")),(0,s.Z)("td",{},void 0,(0,s.Z)(m.Z,{id:"keyboard_shortcuts.muted",defaultMessage:"to open muted users list"}))),(0,s.Z)("tr",{},void 0,(0,s.Z)("td",{},void 0,(0,s.Z)("kbd",{},void 0,"g")," + ",(0,s.Z)("kbd",{},void 0,"r")),(0,s.Z)("td",{},void 0,(0,s.Z)(m.Z,{id:"keyboard_shortcuts.requests",defaultMessage:"to open follow requests list"}))),(0,s.Z)("tr",{},void 0,(0,s.Z)("td",{},void 0,(0,s.Z)("kbd",{},void 0,"?")),(0,s.Z)("td",{},void 0,(0,s.Z)(m.Z,{id:"keyboard_shortcuts.legend",defaultMessage:"to display this legend"})))))))},t}(d.ZP),(0,c.Z)(r,"propTypes",{intl:u().object.isRequired,onClose:u().func.isRequired}),i=a))||i},1138:function(e,t,o){"use strict";o.d(t,{Z:function(){return _}});var n,i=o(1019),r=o(1018),a=(o(1),o(7)),s=o.n(a),c=o(0),l=(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),u=function(e,t){return{x:(e.clientX+t.clientX)/2,y:(e.clientY+t.clientY)/2}},d=function(e,t){return Math.sqrt(Math.pow(e.clientX-t.clientX,2)+Math.pow(e.clientY-t.clientY,2))},p=function(e,t,o){return Math.min(t,Math.max(e,o))},f=function(e){function t(){for(var t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];var n=e.apply(this,t)||this;return(0,r.Z)(n,"state",{scale:1}),(0,r.Z)(n,"removers",[]),(0,r.Z)(n,"container",null),(0,r.Z)(n,"image",null),(0,r.Z)(n,"lastTouchEndTime",0),(0,r.Z)(n,"lastDistance",0),(0,r.Z)(n,"handleTouchStart",(function(e){2===e.touches.length&&(n.lastDistance=d.apply(void 0,e.touches))})),(0,r.Z)(n,"handleTouchMove",(function(e){var t=n.container,o=t.scrollTop,i=t.scrollHeight,r=t.clientHeight;if(1!==e.touches.length||o===i-r){if(2===e.touches.length){e.preventDefault(),e.stopPropagation();var a=d.apply(void 0,e.touches),s=u.apply(void 0,e.touches),c=p(1,4,n.state.scale*a/n.lastDistance);n.zoom(c,s),n.lastMidpoint=s,n.lastDistance=a}}else e.stopPropagation()})),(0,r.Z)(n,"handleClick",(function(e){e.stopPropagation();var t=n.props.onClick;t&&t()})),(0,r.Z)(n,"setContainerRef",(function(e){n.container=e})),(0,r.Z)(n,"setImageRef",(function(e){n.image=e})),n}return l(t,e),t.prototype.componentDidMount=function(){var e=this,t=this.handleTouchStart;this.container.addEventListener("touchstart",t),this.removers.push((function(){return e.container.removeEventListener("touchstart",t)})),t=this.handleTouchMove,this.container.addEventListener("touchmove",t,{passive:!1}),this.removers.push((function(){return e.container.removeEventListener("touchend",t)}))},t.prototype.componentWillUnmount=function(){this.removeEventListeners()},t.prototype.removeEventListeners=function(){this.removers.forEach((function(e){return e()})),this.removers=[]},t.prototype.zoom=function(e,t){var o=this,n=this.state.scale,i=this.container,r=i.scrollLeft,a=i.scrollTop,s=(r+t.x)*e/n-t.x,c=(a+t.y)*e/n-t.y;this.setState({scale:e},(function(){o.container.scrollLeft=s,o.container.scrollTop=c}))},t.prototype.render=function(){var e=this.props,t=e.alt,o=e.src,n=this.state.scale,i=1===n?"hidden":"scroll";return c.createElement("div",{className:"zoomable-image",ref:this.setContainerRef,style:{overflow:i}},c.createElement("img",{role:"presentation",ref:this.setImageRef,alt:t,title:t,src:o,style:{transform:"scale(".concat(n,")"),transformOrigin:"0 0"},onClick:this.handleClick}))},t}(c.PureComponent),m=f;(0,r.Z)(f,"defaultProps",{alt:"",width:null,height:null});var h=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),v=function(e){function t(){for(var t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];var n=e.apply(this,t)||this;return(0,r.Z)(n,"state",{loading:!0,error:!1,width:null}),(0,r.Z)(n,"removers",[]),(0,r.Z)(n,"canvas",null),(0,r.Z)(n,"loadPreviewCanvas",(function(e){var t=e.previewSrc,o=e.width,i=e.height;return new Promise((function(e,r){var a=new Image,s=function(){a.removeEventListener("error",c),a.removeEventListener("load",l)},c=function(){s(),r()},l=function(){s(),n.canvasContext.drawImage(a,0,0,o,i),e()};a.addEventListener("error",c),a.addEventListener("load",l),a.src=t,n.removers.push(s)}))})),(0,r.Z)(n,"loadOriginalImage",(function(e){var t=e.src;return new Promise((function(e,o){var i=new Image,r=function(){i.removeEventListener("error",a),i.removeEventListener("load",s)},a=function(){r(),o()},s=function(){r(),e()};i.addEventListener("error",a),i.addEventListener("load",s),i.src=t,n.removers.push(r)}))})),(0,r.Z)(n,"setCanvasRef",(function(e){n.canvas=e,e&&n.setState({width:e.offsetWidth})})),n}return h(t,e),Object.defineProperty(t.prototype,"canvasContext",{get:function(){return this.canvas?(this._canvasContext=this._canvasContext||this.canvas.getContext("2d"),this._canvasContext):null},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){this.loadImage(this.props)},t.prototype.componentDidUpdate=function(e){e.src!==this.props.src&&this.loadImage(this.props)},t.prototype.componentWillUnmount=function(){this.removeEventListeners()},t.prototype.loadImage=function(e){var t=this;this.removeEventListeners(),this.setState({loading:!0,error:!1}),Promise.all([e.previewSrc&&this.loadPreviewCanvas(e),this.hasSize()&&this.loadOriginalImage(e)].filter(Boolean)).then((function(){t.setState({loading:!1,error:!1}),t.clearPreviewCanvas()})).catch((function(){return t.setState({loading:!1,error:!0})}))},t.prototype.clearPreviewCanvas=function(){var e=this.canvas,t=e.width,o=e.height;this.canvasContext.clearRect(0,0,t,o)},t.prototype.removeEventListeners=function(){this.removers.forEach((function(e){return e()})),this.removers=[]},t.prototype.hasSize=function(){var e=this.props,t=e.width,o=e.height;return"number"==typeof t&&"number"==typeof o},t.prototype.render=function(){var e=this.props,t=e.alt,o=e.src,n=e.width,r=e.height,a=e.onClick,l=this.state.loading,u=s()("image-loader",{"image-loader--loading":l,"image-loader--amorphous":!this.hasSize()});return(0,i.Z)("div",{className:u},void 0,l?c.createElement("canvas",{className:"image-loader__preview-canvas",ref:this.setCanvasRef,width:n,height:r}):(0,i.Z)(m,{alt:t,src:o,onClick:a}))},t}(c.PureComponent),_=v;(0,r.Z)(v,"defaultProps",{alt:"",width:null,height:null})},1098:function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return j}});var n,i,r,a,s=o(1019),c=o(1018),l=(o(1),o(7)),u=o.n(l),d=o(3),p=o.n(d),f=o(5),m=o.n(f),h=o(4),v=o(1797),_=o(1017),g=o(1021),y=o(1794),Z=o(1268),b=o(1015),C=o(0),w=o(84),N=(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),M=function(e){function t(){for(var t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];var n=e.apply(this,t)||this;return(0,c.Z)(n,"handleLoadedData",(function(){n.props.time&&(n.video.currentTime=n.props.time)})),(0,c.Z)(n,"setRef",(function(e){n.video=e})),(0,c.Z)(n,"handleClick",(function(e){e.stopPropagation();var t=n.props.onClick;t&&t()})),n}return N(t,e),t.prototype.componentDidMount=function(){this.video.addEventListener("loadeddata",this.handleLoadedData)},t.prototype.componentWillUnmount=function(){this.video.removeEventListener("loadeddata",this.handleLoadedData)},t.prototype.render=function(){var e=this.props,t=e.src,o=e.muted,n=e.controls,i=e.alt,r={};return(0,w.gn)()&&(r.playsInline="1"),(0,s.Z)("div",{className:"extended-video-player"},void 0,C.createElement("video",(0,b.Z)({ref:this.setRef,src:t,autoPlay:!0,role:"button",tabIndex:"0","aria-label":i,title:i,muted:o,controls:n,loop:!n,onClick:this.handleClick},r)))},t}(C.PureComponent),k=M,O=o(8),S=o(11),x=o(545),E=o(133),P=o(1138),I=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),T=(0,v.vU)({close:{id:"lightbox.close",defaultMessage:"Close"},previous:{id:"lightbox.previous",defaultMessage:"Previous"},next:{id:"lightbox.next",defaultMessage:"Next"}}),j=(0,_.ZP)(i=(0,y.EN)((a=r=function(e){function t(){for(var t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];var n=e.apply(this,t)||this;return(0,c.Z)(n,"state",{index:null,navigationHidden:!1}),(0,c.Z)(n,"handleSwipe",(function(e){n.setState({index:e%n.props.media.size})})),(0,c.Z)(n,"handleNextClick",(function(){n.setState({index:(n.getIndex()+1)%n.props.media.size})})),(0,c.Z)(n,"handlePrevClick",(function(){n.setState({index:(n.props.media.size+n.getIndex()-1)%n.props.media.size})})),(0,c.Z)(n,"handleChangeIndex",(function(e){var t=Number(e.currentTarget.getAttribute("data-index"));n.setState({index:t%n.props.media.size})})),(0,c.Z)(n,"handleKeyDown",(function(e){switch(e.key){case"ArrowLeft":n.handlePrevClick(),e.preventDefault(),e.stopPropagation();break;case"ArrowRight":n.handleNextClick(),e.preventDefault(),e.stopPropagation()}})),(0,c.Z)(n,"toggleNavigation",(function(){n.setState((function(e){return{navigationHidden:!e.navigationHidden}}))})),(0,c.Z)(n,"handleStatusClick",(function(e){if(0===e.button&&!e.ctrlKey&&!e.metaKey){e.preventDefault();var t=n.props,o=t.status,i=t.account.get("acct"),r=o.get("id");n.props.history.push("/@".concat(i,"/posts/").concat(r)),n.props.onClose(null,!0)}})),(0,c.Z)(n,"handleCloserClick",(function(e){var t=e.target,o=document.querySelector('.media-modal .react-swipeable-view-container > div[aria-hidden="false"]'),i=t===o||!o.contains(t),r=["zoomable-image"].some((function(e){return t.classList.contains(e)}));(i||r)&&n.props.onClose()})),n}return I(t,e),t.prototype.componentDidMount=function(){window.addEventListener("keydown",this.handleKeyDown,!1)},t.prototype.componentWillUnmount=function(){window.removeEventListener("keydown",this.handleKeyDown)},t.prototype.getIndex=function(){return null!==this.state.index?this.state.index:this.props.index},t.prototype.render=function(){var e=this,t=this.props,n=t.media,i=t.status,r=t.account,a=t.intl,c=t.onClose,l=this.state.navigationHidden,d=this.getIndex(),p=[],f=n.size>1&&(0,s.Z)("button",{tabIndex:"0",className:"media-modal__nav media-modal__nav--left",onClick:this.handlePrevClick,"aria-label":a.formatMessage(T.previous)},void 0,(0,s.Z)(O.Z,{src:o(686)})),m=n.size>1&&(0,s.Z)("button",{tabIndex:"0",className:"media-modal__nav  media-modal__nav--right",onClick:this.handleNextClick,"aria-label":a.formatMessage(T.next)},void 0,(0,s.Z)(O.Z,{src:o(1231)}));n.size>1&&(p=n.map((function(t,o){var n=["media-modal__button"];return o===d&&n.push("media-modal__button--active"),(0,s.Z)("li",{className:"media-modal__page-dot"},o,(0,s.Z)("button",{tabIndex:"0",className:n.join(" "),onClick:e.handleChangeIndex,"data-index":o},void 0,o+1))})));var h=n.map((function(e){return"image"!==e.get("type")})).toArray(),v=n.map((function(t){var o=t.getIn(["meta","original","width"])||null,n=t.getIn(["meta","original","height"])||null,a=i&&r&&(0,s.Z)("a",{href:i.get("url"),onClick:e.handleStatusClick},void 0,(0,s.Z)(g.Z,{id:"lightbox.view_context",defaultMessage:"View context"}));if("image"===t.get("type"))return(0,s.Z)(P.Z,{previewSrc:t.get("preview_url"),src:t.get("url"),width:o,height:n,alt:t.get("description"),onClick:e.toggleNavigation},t.get("url"));if("video"===t.get("type")){var l=e.props.time;return(0,s.Z)(E.default,{preview:t.get("preview_url"),blurhash:t.get("blurhash"),src:t.get("url"),width:t.get("width"),height:t.get("height"),startTime:l||0,onCloseVideo:c,detailed:!0,link:a,alt:t.get("description")},t.get("url"))}return"audio"===t.get("type")?(0,s.Z)(x.default,{src:t.get("url"),alt:t.get("description"),poster:t.get("preview_url")!==t.get("url")?t.get("preview_url"):i&&i.getIn(["account","avatar_static"]),backgroundColor:t.getIn(["meta","colors","background"]),foregroundColor:t.getIn(["meta","colors","foreground"]),accentColor:t.getIn(["meta","colors","accent"]),duration:t.getIn(["meta","original","duration"],0)},t.get("url")):"gifv"===t.get("type")?(0,s.Z)(k,{src:t.get("url"),muted:!0,controls:!1,width:o,link:a,height:n,alt:t.get("description"),onClick:e.toggleNavigation},t.get("preview_url")):null})).toArray(),_=u()("media-modal__navigation",{"media-modal__navigation--hidden":l});return(0,s.Z)("div",{className:"modal-root__modal media-modal"},void 0,(0,s.Z)("div",{className:"media-modal__closer",role:"presentation",onClick:this.handleCloserClick},void 0,(0,s.Z)(Z.ZP,{style:{width:"100%",height:"100%"},containerStyle:{alignItems:"center"},onChangeIndex:this.handleSwipe,onSwitching:this.handleSwitching,index:d},void 0,v)),(0,s.Z)("div",{className:_},void 0,(0,s.Z)(S.Z,{className:"media-modal__close",title:a.formatMessage(T.close),src:o(18),onClick:c}),f,m,i&&!h[d]&&(0,s.Z)("div",{className:u()("media-modal__meta",{"media-modal__meta--shifted":n.size>1})},void 0,(0,s.Z)("a",{href:i.get("url"),onClick:this.handleStatusClick},void 0,(0,s.Z)(g.Z,{id:"lightbox.view_context",defaultMessage:"View context"}))),(0,s.Z)("ul",{className:"media-modal__pagination"},void 0,p)))},t}(h.ZP),(0,c.Z)(r,"propTypes",{media:m().list.isRequired,status:m().map,account:m().map,index:p().number.isRequired,onClose:p().func.isRequired,intl:p().object.isRequired,history:p().object}),i=a))||i)||i},808:function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return b}});var n,i,r=o(1019),a=o(1018),s=(o(1),o(320)),c=o(0),l=o(1797),u=o(1017),d=o(1021),p=o(2),f=o(56),m=o(11),h=o(1259),v=o(25),_=o(46),g=o(12),y=(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),Z=(0,l.vU)({close:{id:"lightbox.close",defaultMessage:"Close"}}),b=(0,p.$j)((function(e,t){var o=(0,g.TE)()(e,{id:t.statusId,username:t.username});return{accountIds:o?(0,s.OrderedSet)(o.get("mentions").map((function(e){return e.get("id")}))):null}}))(i=(0,u.ZP)(i=function(e){function t(){for(var t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];var n=e.apply(this,t)||this;return(0,a.Z)(n,"fetchData",(function(){var e=n.props,t=e.dispatch,o=e.statusId;t((0,f.wE)(o))})),(0,a.Z)(n,"onClickClose",(function(){n.props.onClose("MENTIONS")})),n}return y(t,e),t.prototype.componentDidMount=function(){this.fetchData()},t.prototype.render=function(){var e,t=this.props,n=t.intl,i=t.accountIds;return e=i?(0,r.Z)(v.Z,{scrollKey:"mentions"},void 0,i.map((function(e){return(0,r.Z)(_.Z,{id:e,withNote:!1},e)}))):(0,r.Z)(h.Z,{}),(0,r.Z)("div",{className:"modal-root__modal reactions-modal"},void 0,(0,r.Z)("div",{className:"compose-modal__header"},void 0,(0,r.Z)("h3",{className:"compose-modal__header__title"},void 0,(0,r.Z)(d.Z,{id:"column.mentions",defaultMessage:"Mentions"})),(0,r.Z)(m.Z,{className:"compose-modal__close",title:n.formatMessage(Z.close),src:o(18),onClick:this.onClickClose,size:20})),e)},t}(c.PureComponent))||i)||i},797:function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return p}});var n,i,r=o(1019),a=o(1018),s=(o(1),o(0)),c=o(1017),l=o(1021),u=o(35),d=(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),p=(0,c.ZP)(i=function(e){function t(){for(var t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];var n=e.apply(this,t)||this;return(0,a.Z)(n,"handleContinue",(function(){n.props.onClose(),n.props.onContinue()})),(0,a.Z)(n,"handleCancel",(function(){n.props.onClose()})),(0,a.Z)(n,"setRef",(function(e){n.button=e})),n}return d(t,e),t.prototype.componentDidMount=function(){this.button.focus()},t.prototype.render=function(){return(0,r.Z)("div",{className:"modal-root__modal confirmation-modal"},void 0,(0,r.Z)("div",{className:"confirmation-modal__container"},void 0,(0,r.Z)(l.Z,{id:"missing_description_modal.text",defaultMessage:"You have not entered a description for all attachments. Continue anyway?"})),(0,r.Z)("div",{className:"confirmation-modal__action-bar"},void 0,s.createElement(u.Z,{onClick:this.handleCancel,className:"confirmation-modal__cancel-button",ref:this.setRef},(0,r.Z)(l.Z,{id:"missing_description_modal.cancel",defaultMessage:"Cancel"})),(0,r.Z)(u.Z,{onClick:this.handleContinue},void 0,(0,r.Z)(l.Z,{id:"missing_description_modal.continue",defaultMessage:"Post"}))))},t}(s.PureComponent))||i},807:function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return b}});var n,i,r=o(1019),a=o(1018),s=(o(1),o(320)),c=o(0),l=o(1797),u=o(1017),d=o(1021),p=o(2),f=o(76),m=o(657),h=o(11),v=o(1259),_=o(25),g=o(46),y=(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),Z=(0,l.vU)({close:{id:"lightbox.close",defaultMessage:"Close"},all:{id:"reactions.all",defaultMessage:"All"}}),b=(0,p.$j)((function(e,t){var o=e.getIn(["user_lists","favourited_by",t.statusId]),n=e.getIn(["user_lists","reactions",t.statusId]);return{reactions:o&&n&&(0,s.List)(o?[{accounts:o,count:o.size,name:""}]:[]).concat(n||[])}}))(i=(0,u.ZP)(i=function(e){function t(){for(var t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];var n=e.apply(this,t)||this;return(0,a.Z)(n,"state",{reaction:n.props.reaction}),(0,a.Z)(n,"fetchData",(function(){var e=n.props,t=e.dispatch,o=e.statusId;t((0,f.eA)(o)),t((0,f._P)(o))})),(0,a.Z)(n,"onClickClose",(function(){n.props.onClose("REACTIONS")})),(0,a.Z)(n,"handleFilterChange",(function(e){return function(){n.setState({reaction:e})}})),n}return y(t,e),t.prototype.componentDidMount=function(){this.fetchData()},t.prototype.renderFilterBar=function(){var e=this,t=this.props,o=t.intl,n=t.reactions,i=this.state.reaction,a=[{text:o.formatMessage(Z.all),action:this.handleFilterChange(""),name:"all"}];return n.forEach((function(t){return a.push({text:"".concat(t.name," ").concat(t.count),action:e.handleFilterChange(t.name),name:t.name})})),(0,r.Z)(m.Z,{className:"reaction__filter-bar",items:a,active:i||"all"})},t.prototype.render=function(){var e,t,n=this,i=this.props,a=i.intl,s=i.reactions,l=this.state.reaction,u=s&&(l?null===(e=s.find((function(e){return e.name===n.state.reaction})))||void 0===e?void 0:e.accounts.map((function(e){return{id:e,reaction:n.state.reaction}})):s.map((function(e){return null==e?void 0:e.accounts.map((function(t){return{id:t,reaction:e.name}}))})).flatten());if(u){var p=(0,r.Z)(d.Z,{id:"status.reactions.empty",defaultMessage:"No one has reacted to this post yet. When someone does, they will show up here."});t=c.createElement(c.Fragment,null,s.size>0&&this.renderFilterBar(),(0,r.Z)(_.Z,{scrollKey:"reactions",emptyMessage:p},void 0,u.map((function(e){return(0,r.Z)(g.Z,{id:e.id,withNote:!1,reaction:e.reaction},"".concat(e.id,"-").concat(e.reaction))}))))}else t=(0,r.Z)(v.Z,{});return(0,r.Z)("div",{className:"modal-root__modal reactions-modal"},void 0,(0,r.Z)("div",{className:"compose-modal__header"},void 0,(0,r.Z)("h3",{className:"compose-modal__header__title"},void 0,(0,r.Z)(d.Z,{id:"column.reactions",defaultMessage:"Reactions"})),(0,r.Z)(h.Z,{className:"compose-modal__close",title:a.formatMessage(Z.close),src:o(18),onClick:this.onClickClose,size:20})),t)},t}(c.PureComponent))||i)||i},805:function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return b}});var n,i,r=o(1019),a=o(1018),s=(o(1),o(0)),c=o(1797),l=o(1017),u=o(1021),d=o(2),p=o(1794),f=o(76),m=o(56),h=o(11),v=o(1259),_=o(25),g=o(46),y=(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),Z=(0,c.vU)({close:{id:"lightbox.close",defaultMessage:"Close"}}),b=(0,d.$j)((function(e,t){return{accountIds:e.getIn(["user_lists","reblogged_by",t.statusId])}}))(i=(0,l.ZP)(i=(0,p.EN)(i=function(e){function t(){for(var t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];var n=e.apply(this,t)||this;return(0,a.Z)(n,"fetchData",(function(){var e=n.props,t=e.dispatch,o=e.statusId;t((0,f.rQ)(o)),t((0,m.UK)(o))})),(0,a.Z)(n,"onClickClose",(function(){n.props.onClose("REBLOGS")})),n}return y(t,e),t.prototype.componentDidMount=function(){var e=this;this.fetchData(),this.unlistenHistory=this.props.history.listen((function(t,o){"PUSH"===o&&e.onClickClose(null,!0)}))},t.prototype.componentWillUnmount=function(){this.unlistenHistory&&this.unlistenHistory()},t.prototype.render=function(){var e,t=this.props,n=t.intl,i=t.accountIds;if(i){var a=(0,r.Z)(u.Z,{id:"status.reblogs.empty",defaultMessage:"No one has reposted this post yet. When someone does, they will show up here."});e=(0,r.Z)(_.Z,{scrollKey:"reblogs",emptyMessage:a},void 0,i.map((function(e){return(0,r.Z)(g.Z,{id:e,withNote:!1},e)})))}else e=(0,r.Z)(v.Z,{});return(0,r.Z)("div",{className:"modal-root__modal reactions-modal"},void 0,(0,r.Z)("div",{className:"compose-modal__header"},void 0,(0,r.Z)("h3",{className:"compose-modal__header__title"},void 0,(0,r.Z)(u.Z,{id:"column.reblogs",defaultMessage:"Reposts"})),(0,r.Z)(h.Z,{className:"compose-modal__close",title:n.formatMessage(Z.close),src:o(18),onClick:this.onClickClose,size:20})),e)},t}(s.PureComponent))||i)||i)||i},1099:function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return P}});var n,i,r,a,s=o(1019),c=o(1018),l=(o(1),o(3)),u=o.n(l),d=o(5),p=o.n(d),f=o(4),m=o(1797),h=o(1021),v=o(1017),_=o(2),g=o(11),y=o(384),Z=o(12),b=o(15),C=o(22),w=o(21),N=o(31),M=(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),k=(0,m.vU)({remove:{id:"reply_mentions.account.remove",defaultMessage:"Remove from mentions"},add:{id:"reply_mentions.account.add",defaultMessage:"Add to mentions"}}),O=(0,_.$j)((function(){var e=(0,Z.Tm)();return function(t,o){var n=o.accountId,i=e(t,n);return{added:!!i&&t.getIn(["compose","to"]).includes(i.get("acct")),account:i}}}),(function(e,t){var o=t.accountId;return{onRemove:function(){return e((0,C.rw)(o))},onAdd:function(){return e((0,C.kR)(o))},fetchAccount:function(){return e((0,b.$G)(o))}}}))(i=(0,v.ZP)((a=r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return M(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.account,o=e.accountId;o&&!t&&this.props.fetchAccount(o)},t.prototype.render=function(){var e,t=this.props,n=t.account,i=t.intl,r=t.onRemove,a=t.onAdd,c=t.added,l=t.author;return n?(e=c?(0,s.Z)(g.Z,{src:o(18),title:i.formatMessage(k.remove),onClick:r}):(0,s.Z)(g.Z,{src:o(86),title:i.formatMessage(k.add),onClick:a}),(0,s.Z)("div",{className:"account"},void 0,(0,s.Z)("div",{className:"account__wrapper"},void 0,(0,s.Z)("div",{className:"account__display-name"},void 0,(0,s.Z)("div",{className:"account__avatar-wrapper"},void 0,(0,s.Z)(w.Z,{account:n,size:36})),(0,s.Z)(N.Z,{account:n})),(0,s.Z)("div",{className:"account__relationship"},void 0,!l&&e)))):null},t}(f.ZP),(0,c.Z)(r,"propTypes",{accountId:u().string.isRequired,intl:u().object.isRequired,onRemove:u().func.isRequired,onAdd:u().func.isRequired,added:u().bool,author:u().bool}),(0,c.Z)(r,"defaultProps",{added:!1}),i=a))||i)||i,S=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),x=(0,m.vU)({close:{id:"lightbox.close",defaultMessage:"Close"},confirm:{id:"confirmations.delete.confirm",defaultMessage:"Delete"}}),E=function(e){function t(){for(var t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];var n=e.apply(this,t)||this;return(0,c.Z)(n,"onClickClose",(function(){(0,n.props.onClose)("REPLY_MENTIONS")})),n}return S(t,e),t.prototype.render=function(){var e=this.props,t=e.intl,n=e.mentions,i=e.author;return(0,s.Z)("div",{className:"modal-root__modal reply-mentions-modal"},void 0,(0,s.Z)("div",{className:"reply-mentions-modal__header"},void 0,(0,s.Z)(g.Z,{className:"reply-mentions-modal__back",src:o(686),onClick:this.onClickClose,"aria-label":t.formatMessage(x.close),title:t.formatMessage(x.close)}),(0,s.Z)("h3",{className:"reply-mentions-modal__header__title"},void 0,(0,s.Z)(h.Z,{id:"navigation_bar.in_reply_to",defaultMessage:"In reply to"}))),(0,s.Z)("div",{className:"reply-mentions-modal__accounts"},void 0,n.map((function(e){return(0,s.Z)(O,{accountId:e,added:!0,author:i===e},e)}))))},t}(f.ZP);(0,c.Z)(E,"propTypes",{mentions:p().OrderedSet,author:u().string,intl:u().object.isRequired,onClose:u().func.isRequired,dispatch:u().func.isRequired});var P=(0,v.ZP)((0,_.$j)((function(){var e=(0,Z.TE)();return function(t){var o=e(t,{id:t.getIn(["compose","in_reply_to"])});if(!o)return{isReply:!1};var n=t.get("me"),i=t.getIn(["accounts",n]);return{mentions:(0,y.Db)(t,o,i),author:o.getIn(["account","id"]),isReply:!0}}}))(E))},816:function(e,t,o){"use strict";o.r(t);var n=o(1019),i=o(1021),r=o(1017),a=o(2),s=o(26);t.default=(0,r.ZP)((0,a.$j)((function(e){var t=(0,s.UX)(e);return{siteTitle:e.getIn(["instance","title"]),me:e.get("me"),singleUserMode:t.get("singleUserMode")}}))((function(e){var t=e.siteTitle,o=e.me,r=e.singleUserMode;return o||r?null:(0,n.Z)("div",{className:"wtf-panel"},void 0,(0,n.Z)("div",{className:"wtf-panel-header"},void 0,(0,n.Z)("span",{className:"wtf-panel-header__label"},void 0,(0,n.Z)(i.Z,{id:"signup_panel.title",defaultMessage:"New to {site_title}?",values:{site_title:t}}))),(0,n.Z)("div",{className:"wtf-panel__content"},void 0,(0,n.Z)("span",{className:"wtf-panel__subtitle"},void 0,(0,n.Z)(i.Z,{id:"signup_panel.subtitle",defaultMessage:"Sign up now to discuss."})),(0,n.Z)("div",{className:"wtf-panel__form"},void 0,(0,n.Z)("a",{className:"button",href:"/"},void 0,(0,n.Z)(i.Z,{id:"account.register",defaultMessage:"Sign up"})))))})))},802:function(e,t,o){"use strict";o.r(t);var n,i=o(1019),r=o(1018),a=(o(1),o(3)),s=o.n(a),c=o(0),l=o(4),u=o(1797),d=o(1021),p=o(1017),f=o(2),m=o(1800),h=o(76),v=o(30),_=o(26),g=o(11),y=o(10),Z=(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),b=(0,u.vU)({close:{id:"lightbox.close",defaultMessage:"Close"},accountPlaceholder:{id:"remote_interaction.account_placeholder",defaultMessage:"Enter your username@domain you want to act from"},userNotFoundError:{id:"remote_interaction.user_not_found_error",defaultMessage:"Couldn't find given user"}}),C=function(e){function t(){for(var t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];var n=e.apply(this,t)||this;return(0,r.Z)(n,"state",{account:""}),(0,r.Z)(n,"onAccountChange",(function(e){n.setState({account:e.target.value})})),(0,r.Z)(n,"onClickClose",(function(){n.props.onClose("UNAUTHORIZED")})),(0,r.Z)(n,"onClickProceed",(function(e){e.preventDefault();var t=n.props,o=t.intl,i=t.ap_id,r=t.dispatch,a=t.onClose;(0,t.onRemoteInteraction)(i,n.state.account).then((function(e){window.open(e,"_new","noopener,noreferrer"),a("UNAUTHORIZED")})).catch((function(e){"Couldn't find user"===e.message&&r(v.ZP.error(o.formatMessage(b.userNotFoundError)))}))})),n}return Z(t,e),t.prototype.renderRemoteInteractions=function(){var e,t,n=this.props,r=n.intl,a=n.siteTitle,s=n.userName,l=n.action,u=n.singleUserMode,p=this.state.account;return"FOLLOW"===l?(e=(0,i.Z)(d.Z,{id:"remote_interaction.follow_title",defaultMessage:"Follow {user} remotely",values:{user:s}}),t=(0,i.Z)(d.Z,{id:"remote_interaction.follow",defaultMessage:"Proceed to follow"})):"REPLY"===l?(e=(0,i.Z)(d.Z,{id:"remote_interaction.reply_title",defaultMessage:"Reply to a post remotely"}),t=(0,i.Z)(d.Z,{id:"remote_interaction.reply",defaultMessage:"Proceed to reply"})):"REBLOG"===l?(e=(0,i.Z)(d.Z,{id:"remote_interaction.reblog_title",defaultMessage:"Reblog a post remotely"}),t=(0,i.Z)(d.Z,{id:"remote_interaction.reblog",defaultMessage:"Proceed to repost"})):"FAVOURITE"===l?(e=(0,i.Z)(d.Z,{id:"remote_interaction.favourite_title",defaultMessage:"Like a post remotely"}),t=(0,i.Z)(d.Z,{id:"remote_interaction.favourite",defaultMessage:"Proceed to like"})):"POLL_VOTE"===l&&(e=(0,i.Z)(d.Z,{id:"remote_interaction.poll_vote_title",defaultMessage:"Vote in a poll remotely"}),t=(0,i.Z)(d.Z,{id:"remote_interaction.poll_vote",defaultMessage:"Proceed to vote"})),(0,i.Z)("div",{className:"modal-root__modal compose-modal unauthorized-modal remote-interaction-modal"},void 0,(0,i.Z)("div",{className:"compose-modal__header"},void 0,(0,i.Z)("h3",{className:"compose-modal__header__title"},void 0,e),(0,i.Z)(g.Z,{className:"compose-modal__close",title:r.formatMessage(b.close),src:o(18),onClick:this.onClickClose})),(0,i.Z)("div",{className:"remote-interaction-modal__content"},void 0,(0,i.Z)("form",{className:"simple_form remote-interaction-modal__fields"},void 0,(0,i.Z)("input",{type:"text",placeholder:r.formatMessage(b.accountPlaceholder),name:"remote_follow[acct]",value:p,autoCorrect:"off",autoCapitalize:"off",onChange:this.onAccountChange,required:!0}),(0,i.Z)("button",{className:"button",onClick:this.onClickProceed},void 0,t)),(0,i.Z)("div",{className:"remote-interaction-modal__divider"},void 0,(0,i.Z)("span",{},void 0,(0,i.Z)(d.Z,{id:"remote_interaction.divider",defaultMessage:"or"}))),!u&&c.createElement(c.Fragment,null,(0,i.Z)("h3",{className:"compose-modal__header__title"},void 0,(0,i.Z)(d.Z,{id:"unauthorized_modal.title",defaultMessage:"Sign up for {site_title}",values:{site_title:a}})),(0,i.Z)(m.rU,{to:"/",className:"unauthorized-modal-content__button button",onClick:this.onClickClose},void 0,(0,i.Z)(d.Z,{id:"account.register",defaultMessage:"Sign up"}))),(0,i.Z)(m.rU,{to:"/auth/sign_in",className:"unauthorized-modal-content__button button button-secondary",onClick:this.onClickClose},void 0,(0,i.Z)(d.Z,{id:"account.login",defaultMessage:"Log in"}))))},t.prototype.render=function(){var e=this.props,t=e.intl,n=e.features,r=e.siteTitle;return e.action&&n.remoteInteractionsAPI&&n.federating?this.renderRemoteInteractions():(0,i.Z)("div",{className:"modal-root__modal compose-modal unauthorized-modal"},void 0,(0,i.Z)("div",{className:"compose-modal__header"},void 0,(0,i.Z)("h3",{className:"compose-modal__header__title"},void 0,(0,i.Z)(d.Z,{id:"unauthorized_modal.title",defaultMessage:"Sign up for {site_title}",values:{site_title:r}})),(0,i.Z)(g.Z,{className:"compose-modal__close",title:t.formatMessage(b.close),src:o(18),onClick:this.onClickClose})),(0,i.Z)("div",{className:"compose-modal__content"},void 0,(0,i.Z)("div",{className:"unauthorized-modal__content"},void 0,(0,i.Z)("span",{className:"unauthorized-modal-content__text"},void 0,(0,i.Z)(d.Z,{id:"unauthorized_modal.text",defaultMessage:"You need to be logged in to do that."})),(0,i.Z)(m.rU,{to:"/",className:"unauthorized-modal-content__button button"},void 0,(0,i.Z)(d.Z,{id:"account.register",defaultMessage:"Sign up"})))),(0,i.Z)("div",{className:"unauthorized-modal__footer"},void 0,(0,i.Z)(d.Z,{id:"unauthorized_modal.footer",defaultMessage:"Already have an account? {login}.",values:{login:(0,i.Z)(m.rU,{to:"/auth/sign_in"},void 0,(0,i.Z)(d.Z,{id:"account.login",defaultMessage:"Log in"}))}})))},t}(l.ZP);(0,r.Z)(C,"propTypes",{intl:s().object.isRequired,features:s().object.isRequired,onClose:s().func.isRequired,onRemoteInteraction:s().func.isRequired,userName:s().string,singleUserMode:s().bool}),t.default=(0,p.ZP)((0,f.$j)((function(e,t){var o=e.get("instance"),n=(0,y.N$)(o),i=(0,_.UX)(e);if("FOLLOW"!==t.action)return{features:n,siteTitle:e.getIn(["instance","title"]),remoteInteractionsAPI:n.remoteInteractionsAPI,singleUserMode:i.get("singleUserMode")};var r=e.getIn(["accounts",t.account,"display_name"]);return{features:n,siteTitle:e.getIn(["instance","title"]),userName:r,remoteInteractionsAPI:n.remoteInteractionsAPI,singleUserMode:i.get("singleUserMode")}}),(function(e){return{dispatch:e,onRemoteInteraction:function(t,o){return e((0,h.OF)(t,o))}}}))(C))},814:function(e,t,o){"use strict";o.r(t);var n,i=o(1019),r=o(1018),a=o(3),s=o.n(a),c=o(5),l=o.n(c),u=o(4),d=o(1021),p=o(1017),f=o(2),m=o(1800),h=o(21),v=o(103),_=o(183),g=o(17),y=o(1254),Z=o(55),b=o(12),C=(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),w=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return C(t,e),t.prototype.render=function(){var e=this.props,t=e.account,o=e.displayFqn,n=e.intl,r=e.domain;if(!t)return null;var a={__html:t.get("display_name_html")},s=-1===t.get("acct").indexOf("@")&&r?"".concat(t.get("acct"),"@").concat(r):t.get("acct"),c=t.get("header");return(0,i.Z)("div",{className:"user-panel"},void 0,(0,i.Z)("div",{className:"user-panel__container"},void 0,(0,i.Z)("div",{className:"user-panel__header"},void 0,c&&(0,i.Z)(v.Z,{src:t.get("header"),alt:""})),(0,i.Z)("div",{className:"user-panel__profile"},void 0,(0,i.Z)(m.rU,{to:"/@".concat(t.get("acct")),title:s},void 0,(0,i.Z)(h.Z,{account:t}))),(0,i.Z)("div",{className:"user-panel__meta"},void 0,(0,i.Z)("div",{className:"user-panel__account"},void 0,(0,i.Z)("h1",{},void 0,(0,i.Z)(m.rU,{to:"/@".concat(t.get("acct"))},void 0,(0,i.Z)("span",{className:"user-panel__account__name",dangerouslySetInnerHTML:a}),t.get("verified")&&(0,i.Z)(_.Z,{}),(0,i.Z)("small",{className:"user-panel__account__username"},void 0,"@",(0,g.F7)(t,o))))),(0,i.Z)("div",{className:"user-panel__stats-block"},void 0,t.get("statuses_count")>=0&&(0,i.Z)("div",{className:"user-panel-stats-item"},void 0,(0,i.Z)(m.rU,{to:"/@".concat(t.get("acct")),title:n.formatNumber(t.get("statuses_count"))},void 0,(0,i.Z)("strong",{className:"user-panel-stats-item__value"},void 0,(0,y.w8)(t.get("statuses_count"))),(0,i.Z)("span",{className:"user-panel-stats-item__label"},void 0,(0,i.Z)(d.Z,{className:"user-panel-stats-item__label",id:"account.posts",defaultMessage:"Posts"})))),t.get("followers_count")>=0&&(0,i.Z)("div",{className:"user-panel-stats-item"},void 0,(0,i.Z)(m.rU,{to:"/@".concat(t.get("acct"),"/followers"),title:n.formatNumber(t.get("followers_count"))},void 0,(0,i.Z)("strong",{className:"user-panel-stats-item__value"},void 0,(0,y.w8)(t.get("followers_count"))),(0,i.Z)("span",{className:"user-panel-stats-item__label"},void 0,(0,i.Z)(d.Z,{id:"account.followers",defaultMessage:"Followers"})))),t.get("following_count")>=0&&(0,i.Z)("div",{className:"user-panel-stats-item"},void 0,(0,i.Z)(m.rU,{to:"/@".concat(t.get("acct"),"/following"),title:n.formatNumber(t.get("following_count"))},void 0,(0,i.Z)("strong",{className:"user-panel-stats-item__value"},void 0,(0,y.w8)(t.get("following_count"))),(0,i.Z)("span",{className:"user-panel-stats-item__label"},void 0,(0,i.Z)(d.Z,{className:"user-panel-stats-item__label",id:"account.follows",defaultMessage:"Follows"}))))))))},t}(u.ZP);(0,r.Z)(w,"propTypes",{account:l().map,displayFqn:s().bool,intl:s().object.isRequired,domain:s().string}),t.default=(0,p.ZP)((0,f.$j)((function(){var e=(0,b.Tm)();return function(t,o){var n=o.accountId;return{account:e(t,n),displayFqn:(0,Z.$X)(t)}}}),null,null,{forwardRef:!0})(w))},794:function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return g}});var n,i,r,a,s=o(1019),c=o(1018),l=(o(1),o(3)),u=o.n(l),d=o(5),p=o.n(d),f=o(4),m=o(1021),h=o(1794),v=o(133),_=(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),g=(0,h.EN)((a=r=function(e){function t(){for(var t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];var n=e.apply(this,t)||this;return(0,c.Z)(n,"handleStatusClick",(function(e){var t=n.props,o=t.status,i=t.account;0!==e.button||e.ctrlKey||e.metaKey||(e.preventDefault(),n.props.history.push("/@".concat(i.get("acct"),"/posts/").concat(o.get("id"))))})),n}return _(t,e),t.prototype.render=function(){var e=this.props,t=e.media,o=e.status,n=e.account,i=e.time,r=e.onClose,a=o&&n&&(0,s.Z)("a",{href:o.get("url"),onClick:this.handleStatusClick},void 0,(0,s.Z)(m.Z,{id:"lightbox.view_context",defaultMessage:"View context"}));return(0,s.Z)("div",{className:"modal-root__modal video-modal"},void 0,(0,s.Z)("div",{},void 0,(0,s.Z)(v.default,{preview:t.get("preview_url"),blurhash:t.get("blurhash"),src:t.get("url"),startTime:i,onCloseVideo:r,link:a,detailed:!0,alt:t.get("description")})))},t}(f.ZP),(0,c.Z)(r,"propTypes",{media:p().map.isRequired,status:p().map,account:p().map,time:u().number,onClose:u().func.isRequired,history:u().object}),i=a))||i},535:function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return L}});var n,i,r=o(2),a=o(22),s=o(1022),c=o(1015),l=o(1019),u=o(1018),d=(o(1),o(0)),p=o(1796),f=(o(1273),o(1797)),m=o(1021),h=o(1017),v=o(1794),_=(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});function g(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function y(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?g(Object(o),!0).forEach((function(t){(0,u.Z)(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):g(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}var Z=(0,f.vU)({confirm:{id:"confirmations.delete.confirm",defaultMessage:"Delete"}}),b=function(e){return[e.get("text").length>0,e.get("spoiler_text").length>0,e.get("media_attachments").size>0,null!==e.get("in_reply_to"),null!==e.get("quote"),null!==e.get("poll")].some((function(e){return!0===e}))},C=(0,v.EN)(i=function(e){function t(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=e.apply(this,t)||this;return(0,u.Z)(i,"state",{revealed:!!i.props.children}),(0,u.Z)(i,"activeElement",i.state.revealed?document.activeElement:null),(0,u.Z)(i,"handleKeyUp",(function(e){"Escape"!==e.key&&"Esc"!==e.key&&27!==e.keyCode||!i.props.children||i.handleOnClose()})),(0,u.Z)(i,"handleOnClose",(function(){var e=i.props,t=e.onOpenModal,n=e.onCloseModal,r=e.hasComposeContent,a=e.intl,s=e.type,c=e.onCancelReplyCompose;r&&"COMPOSE"===s?t("CONFIRM",{icon:o(60),heading:(0,l.Z)(m.Z,{id:"confirmations.delete.heading",defaultMessage:"Delete post"}),message:(0,l.Z)(m.Z,{id:"confirmations.delete.message",defaultMessage:"Are you sure you want to delete this post?"}),confirm:a.formatMessage(Z.confirm),onConfirm:function(){return c()},onCancel:function(){return n("CONFIRM")}}):r&&"CONFIRM"===s?n("CONFIRM"):i.props.onClose()})),(0,u.Z)(i,"handleKeyDown",(function(e){if("Tab"===e.key){var t=Array.from(i.node.querySelectorAll('button:not([disabled]), [href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), [tabindex]:not([tabindex="-1"])')).filter((function(e){return"none"!==window.getComputedStyle(e).display})),o=t.indexOf(e.target),n=void 0;(n=e.shiftKey?t[o-1]||t[t.length-1]:t[o+1]||t[0])&&(n.focus(),e.stopPropagation(),e.preventDefault())}})),(0,u.Z)(i,"getSiblings",(function(){return Array.apply(void 0,i.node.parentElement.childNodes).filter((function(e){return e!==i.node}))})),(0,u.Z)(i,"setRef",(function(e){i.node=e})),i}return _(t,e),t.prototype.componentDidMount=function(){window.addEventListener("keyup",this.handleKeyUp,!1),window.addEventListener("keydown",this.handleKeyDown,!1),this.history=this.props.history||(0,p.lX)()},t.prototype.componentDidUpdate=function(e){var t=this;this.props.children&&!e.children?(this.activeElement=document.activeElement,this.getSiblings().forEach((function(e){return e.setAttribute("inert",!0)})),this._handleModalOpen()):e.children||this.setState({revealed:!1}),!this.props.children&&e.children&&(this.activeElement.focus(),this.activeElement=null,this.getSiblings().forEach((function(e){return e.removeAttribute("inert")})),this._handleModalClose(e.type)),this.props.children&&(requestAnimationFrame((function(){t.setState({revealed:!0})})),this._ensureHistoryBuffer())},t.prototype.componentWillUnmount=function(){window.removeEventListener("keyup",this.handleKeyUp),window.removeEventListener("keydown",this.handleKeyDown)},t.prototype._handleModalOpen=function(){var e=this;this._modalHistoryKey=Date.now(),this.unlistenHistory=this.history.listen((function(t,o){"POP"===o&&(e.handleOnClose(),e.props.onCancel&&e.props.onCancel())}))},t.prototype._handleModalClose=function(e){if(this.unlistenHistory&&this.unlistenHistory(),!["FAVOURITES","MENTIONS","REACTIONS","REBLOGS","MEDIA"].includes(e)){var t=this.history.location.state;t&&t.soapboxModalKey===this._modalHistoryKey&&this.history.goBack()}},t.prototype._ensureHistoryBuffer=function(){var e=this.history.location,t=e.pathname,o=e.state;o&&o.soapboxModalKey===this._modalHistoryKey||this.history.push(t,y(y({},o),{},{soapboxModalKey:this._modalHistoryKey}))},t.prototype.render=function(){var e=this.props.children,t=this.state.revealed,o=!!e;return o?d.createElement("div",{className:"modal-root",ref:this.setRef,style:{opacity:t?1:0}},(0,l.Z)("div",{style:{pointerEvents:o?"auto":"none"}},void 0,(0,l.Z)("div",{role:"presentation",className:"modal-root__overlay",onClick:this.handleOnClose}),(0,l.Z)("div",{role:"dialog",className:"modal-root__container"},void 0,e))):d.createElement("div",{className:"modal-root",ref:this.setRef,style:{opacity:0}})},t}(d.PureComponent))||i,w=(0,h.ZP)((0,r.$j)((function(e){return{hasComposeContent:b(e.get("compose"))}}),(function(e){return{onOpenModal:function(t,o){e((0,s.h7)(t,o))},onCloseModal:function(t){e((0,s.Mr)(t))},onCancelReplyCompose:function(){e((0,s.Mr)("COMPOSE")),e((0,a.qY)())}}}))(C)),N=o(34),M=o(45),k=o(11),O=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),S=(0,f.vU)({error:{id:"bundle_modal_error.message",defaultMessage:"Something went wrong while loading this component."},retry:{id:"bundle_modal_error.retry",defaultMessage:"Try again"},close:{id:"bundle_modal_error.close",defaultMessage:"Close"}}),x=function(e){function t(){for(var t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];var n=e.apply(this,t)||this;return(0,u.Z)(n,"handleRetry",(function(){n.props.onRetry()})),n}return O(t,e),t.prototype.render=function(){var e=this.props,t=e.onClose,o=e.intl.formatMessage;return(0,l.Z)("div",{className:"modal-root__modal error-modal"},void 0,(0,l.Z)("div",{className:"error-modal__body"},void 0,(0,l.Z)(k.Z,{title:o(S.retry),icon:"refresh",onClick:this.handleRetry,size:64}),o(S.error)),(0,l.Z)("div",{className:"error-modal__footer"},void 0,(0,l.Z)("div",{},void 0,(0,l.Z)("button",{onClick:t,className:"error-modal__nav onboarding-modal__skip"},void 0,o(S.close)))))},t}(d.PureComponent),E=(0,h.ZP)(x),P=o(1259),I=function(){return(0,l.Z)("div",{className:"modal-root__modal error-modal"},void 0,(0,l.Z)("div",{className:"error-modal__body"},void 0,(0,l.Z)(P.Z,{})),(0,l.Z)("div",{className:"error-modal__footer"},void 0,(0,l.Z)("div",{},void 0,(0,l.Z)("button",{className:"error-modal__nav onboarding-modal__skip"}))))},T=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),j={MEDIA:N.p3,VIDEO:N.Kd,BOOST:N.Zl,CONFIRM:N.cV,MISSING_DESCRIPTION:N.if,MUTE:N.z1,REPORT:N.yW,ACTIONS:N.VU,EMBED:N.V6,LIST_EDITOR:N.gL,FOCAL_POINT:N.in,LIST_ADDER:N.v7,HOTKEYS:N.C4,COMPOSE:N.C,REPLY_MENTIONS:N.OQ,UNAUTHORIZED:N.iq,CRYPTO_DONATE:N.v3,EDIT_FEDERATION:N.Jc,COMPONENT:N.HS,REBLOGS:N.jM,FAVOURITES:N.YP,REACTIONS:N.qP,MENTIONS:N.nO,BIRTHDAYS:N.cC,ACCOUNT_NOTE:N.SU},A=function(e){function t(){for(var t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];var n=e.apply(this,t)||this;return(0,u.Z)(n,"renderLoading",(function(e){return function(){return-1===["MEDIA","VIDEO","BOOST","CONFIRM","ACTIONS"].indexOf(e)?(0,l.Z)(I,{}):null}})),(0,u.Z)(n,"renderError",(function(e){return d.createElement(E,(0,c.Z)({},e,{onClose:n.onClickClose}))})),(0,u.Z)(n,"onClickClose",(function(e){var t=n.props;(0,t.onClose)(t.type)})),n}return T(t,e),t.prototype.getSnapshotBeforeUpdate=function(){return{visible:!!this.props.type}},t.prototype.componentDidUpdate=function(e,t,o){o.visible?document.body.classList.add("with-modals--active"):document.body.classList.remove("with-modals--active")},t.prototype.render=function(){var e=this,t=this.props,o=t.type,n=t.props,i=!!o;return(0,l.Z)(w,{onClose:this.onClickClose,type:o},void 0,i&&(0,l.Z)(M.Z,{fetchComponent:j[o],loading:this.renderLoading(o),error:this.renderError,renderDelay:200},void 0,(function(t){return d.createElement(t,(0,c.Z)({},n,{onClose:e.onClickClose}))})))},t}(d.PureComponent),R=A,L=(0,r.$j)((function(e){var t=e.get("modals").last({modalType:null,modalProps:{}});return{type:t.modalType,props:t.modalProps}}),(function(e){return{onClose:function(t){"COMPOSE"===t&&e((0,a.qY)()),e((0,s.Mr)(t))}}}))(R)},824:function(e,t,o){"use strict";o.r(t);var n=o(1019),i=o(1017),r=o(1244),a=o(2),s=o(1800),c=o(81),l=o(12),u=function(e,t,o){return Object.assign({},t,{bottom:"".concat(14+12*e+42*e,"px")})};t.default=(0,i.ZP)((0,a.$j)((function(e,t){var o=t.intl,i=(0,l.sM)(e);return i.forEach((function(e){["title","message","actionLabel"].forEach((function(t){var n=e[t];"object"==typeof n&&(e[t]=o.formatMessage(n))})),e.actionLabel&&(e.action=(0,n.Z)(s.rU,{to:e.actionLink},void 0,e.actionLabel))})),{notifications:i,linkComponent:s.rU}}),(function(e){var t=function(t){e((0,c.OD)(t))};return{onDismiss:t,onClick:t,barStyleFactory:u,activeBarStyleFactory:u}}))(r.HZ))},1231:function(e,t,o){"use strict";e.exports=o.p+"packs/icons/arrow-right-144248ca.svg"},1239:function(e,t,o){"use strict";e.exports=o.p+"packs/icons/bookmarks-73c07810.svg"},1237:function(e,t,o){"use strict";e.exports=o.p+"packs/icons/caret-up-08ce8514.svg"},1232:function(e,t,o){"use strict";e.exports=o.p+"packs/icons/chart-line-442b5f9f.svg"},1143:function(e,t,o){"use strict";e.exports=o.p+"packs/icons/cloud-upload-0e378aff.svg"},1238:function(e,t,o){"use strict";e.exports=o.p+"packs/icons/coin-c5b127ac.svg"},1241:function(e,t,o){"use strict";e.exports=o.p+"packs/icons/filter-5fa0ab6c.svg"},1240:function(e,t,o){"use strict";e.exports=o.p+"packs/icons/friends-c3b2eb7a.svg"},1243:function(e,t,o){"use strict";e.exports=o.p+"packs/icons/info-circle-6fcdabff.svg"},1144:function(e,t,o){"use strict";e.exports=o.p+"packs/icons/shield-lock-a2595deb.svg"},1242:function(e,t,o){"use strict";e.exports=o.p+"packs/icons/shield-9ec412f8.svg"}}]);
//# sourceMappingURL=ui-9c5e291721ad02dc8e5a.chunk.js.map