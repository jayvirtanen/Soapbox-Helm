{"version":3,"file":"packs/js/features/public_timeline-7e330c5868881011a8a7.chunk.js","mappings":"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","sources":["webpack://soapbox-fe/./app/soapbox/features/public_timeline/components/column_settings.js","webpack://soapbox-fe/./app/soapbox/features/public_timeline/index.js","webpack://soapbox-fe/./app/soapbox/features/public_timeline/containers/column_settings_container.js"],"sourcesContent":["import _jsx from\"@babel/runtime/helpers/esm/jsx\";var _class;import React from'react';import{injectIntl,defineMessages,FormattedMessage}from'react-intl';import IconButton from'soapbox/components/icon_button';import SettingToggle from'../../notifications/components/setting_toggle';const messages=defineMessages({close:{\"id\":\"lightbox.close\",\"defaultMessage\":\"Close\"}});let ColumnSettings=injectIntl(_class=class ColumnSettings extends React.PureComponent{render(){const{intl,settings,onChange,onClose}=this.props;return/*#__PURE__*/_jsx(\"div\",{className:\"column-settings\"},void 0,/*#__PURE__*/_jsx(\"div\",{className:\"column-settings__header\"},void 0,/*#__PURE__*/_jsx(\"h1\",{className:\"column-settings__title\"},void 0,/*#__PURE__*/_jsx(FormattedMessage,{id:\"public.column_settings.title\",defaultMessage:\"Fediverse timeline settings\"})),/*#__PURE__*/_jsx(\"div\",{className:\"column-settings__close\"},void 0,/*#__PURE__*/_jsx(IconButton,{title:intl.formatMessage(messages.close),src:require('@tabler/icons/icons/x.svg'),onClick:onClose}))),/*#__PURE__*/_jsx(\"div\",{className:\"column-settings__content\"},void 0,/*#__PURE__*/_jsx(\"div\",{className:\"column-settings__row\"},void 0,/*#__PURE__*/_jsx(SettingToggle,{prefix:\"public_timeline\",settings:settings,settingPath:['shows','reblog'],onChange:onChange,label:/*#__PURE__*/_jsx(FormattedMessage,{id:\"home.column_settings.show_reblogs\",defaultMessage:\"Show reposts\"})})),/*#__PURE__*/_jsx(\"div\",{className:\"column-settings__row\"},void 0,/*#__PURE__*/_jsx(SettingToggle,{prefix:\"public_timeline\",settings:settings,settingPath:['shows','reply'],onChange:onChange,label:/*#__PURE__*/_jsx(FormattedMessage,{id:\"home.column_settings.show_replies\",defaultMessage:\"Show replies\"})})),/*#__PURE__*/_jsx(\"div\",{className:\"column-settings__row\"},void 0,/*#__PURE__*/_jsx(SettingToggle,{settings:settings,settingPath:['other','onlyMedia'],onChange:onChange,label:/*#__PURE__*/_jsx(FormattedMessage,{id:\"community.column_settings.media_only\",defaultMessage:\"Media Only\"})}))));}})||_class;export{ColumnSettings as default};","import _jsx from\"@babel/runtime/helpers/esm/jsx\";import _defineProperty from\"@babel/runtime/helpers/esm/defineProperty\";var _dec,_class;import\"core-js/modules/web.dom-collections.iterator.js\";import React from'react';import{defineMessages,injectIntl,FormattedMessage}from'react-intl';import{connect}from'react-redux';import{Link}from'react-router-dom';import{changeSetting,getSettings}from'soapbox/actions/settings';import SubNavigation from'soapbox/components/sub_navigation';import Accordion from'soapbox/features/ui/components/accordion';import{connectPublicStream}from'../../actions/streaming';import{expandPublicTimeline}from'../../actions/timelines';import Column from'../../components/column';import PinnedHostsPicker from'../remote_timeline/components/pinned_hosts_picker';import StatusListContainer from'../ui/containers/status_list_container';import ColumnSettings from'./containers/column_settings_container';const messages=defineMessages({title:{\"id\":\"column.public\",\"defaultMessage\":\"Fediverse timeline\"},dismiss:{\"id\":\"fediverse_tab.explanation_box.dismiss\",\"defaultMessage\":\"Don't show again\"}});const mapStateToProps=state=>{const settings=getSettings(state);const onlyMedia=settings.getIn(['public','other','onlyMedia']);const timelineId='public';return{timelineId,onlyMedia,hasUnread:state.getIn(['timelines',\"\".concat(timelineId).concat(onlyMedia?':media':''),'unread'])>0,siteTitle:state.getIn(['instance','title']),explanationBoxExpanded:settings.get('explanationBox'),showExplanationBox:settings.get('showExplanationBox')};};let CommunityTimeline=(_dec=connect(mapStateToProps),_dec(_class=injectIntl(_class=class CommunityTimeline extends React.PureComponent{constructor(...args){super(...args);_defineProperty(this,\"explanationBoxMenu\",()=>{const{intl}=this.props;return[{text:intl.formatMessage(messages.dismiss),action:this.dismissExplanationBox}];});_defineProperty(this,\"dismissExplanationBox\",()=>{this.props.dispatch(changeSetting(['showExplanationBox'],false));});_defineProperty(this,\"toggleExplanationBox\",setting=>{this.props.dispatch(changeSetting(['explanationBox'],setting));});_defineProperty(this,\"handleLoadMore\",maxId=>{const{dispatch,onlyMedia}=this.props;dispatch(expandPublicTimeline({maxId,onlyMedia}));});_defineProperty(this,\"handleRefresh\",()=>{const{dispatch,onlyMedia}=this.props;return dispatch(expandPublicTimeline({onlyMedia}));});}componentDidMount(){const{dispatch,onlyMedia}=this.props;dispatch(expandPublicTimeline({onlyMedia}));this.disconnect=dispatch(connectPublicStream({onlyMedia}));}componentDidUpdate(prevProps){if(prevProps.onlyMedia!==this.props.onlyMedia){const{dispatch,onlyMedia}=this.props;this.disconnect();dispatch(expandPublicTimeline({onlyMedia}));this.disconnect=dispatch(connectPublicStream({onlyMedia}));}}componentWillUnmount(){if(this.disconnect){this.disconnect();this.disconnect=null;}}render(){const{intl,onlyMedia,timelineId,siteTitle,showExplanationBox,explanationBoxExpanded}=this.props;return/*#__PURE__*/_jsx(Column,{label:intl.formatMessage(messages.title),transparent:true},void 0,/*#__PURE__*/_jsx(SubNavigation,{message:intl.formatMessage(messages.title),settings:ColumnSettings}),/*#__PURE__*/_jsx(PinnedHostsPicker,{}),showExplanationBox&&/*#__PURE__*/_jsx(\"div\",{className:\"explanation-box\"},void 0,/*#__PURE__*/_jsx(Accordion,{headline:/*#__PURE__*/_jsx(FormattedMessage,{id:\"fediverse_tab.explanation_box.title\",defaultMessage:\"What is the Fediverse?\"}),menu:this.explanationBoxMenu(),expanded:explanationBoxExpanded,onToggle:this.toggleExplanationBox},void 0,/*#__PURE__*/_jsx(FormattedMessage,{id:\"fediverse_tab.explanation_box.explanation\",defaultMessage:\"{site_title} is part of the Fediverse, a social network made up of thousands of independent social media sites (aka \\\"servers\\\"). The posts you see here are from 3rd-party servers. You have the freedom to engage with them, or to block any server you don't like. Pay attention to the full username after the second @ symbol to know which server a post is from. To see only {site_title} posts, visit {local}.\",values:{site_title:siteTitle,local:/*#__PURE__*/_jsx(Link,{to:\"/timeline/local\"},void 0,/*#__PURE__*/_jsx(FormattedMessage,{id:\"empty_column.home.local_tab\",defaultMessage:\"the {site_title} tab\",values:{site_title:siteTitle}}))}}))),/*#__PURE__*/_jsx(StatusListContainer,{scrollKey:\"\".concat(timelineId,\"_timeline\"),timelineId:\"\".concat(timelineId).concat(onlyMedia?':media':''),onLoadMore:this.handleLoadMore,onRefresh:this.handleRefresh,emptyMessage:/*#__PURE__*/_jsx(FormattedMessage,{id:\"empty_column.public\",defaultMessage:\"There is nothing here! Write something publicly, or manually follow users from other servers to fill it up\"})}));}})||_class)||_class);export{CommunityTimeline as default};","import\"core-js/modules/web.dom-collections.iterator.js\";import{connect}from'react-redux';import{getSettings,changeSetting}from'../../../actions/settings';import ColumnSettings from'../components/column_settings';const mapStateToProps=state=>({settings:getSettings(state).get('public')});const mapDispatchToProps=dispatch=>{return{onChange(key,checked){dispatch(changeSetting(['public',...key],checked));}};};export default connect(mapStateToProps,mapDispatchToProps)(ColumnSettings);"],"names":["_class","messages","close","ColumnSettings","injectIntl","render","this","props","intl","settings","onChange","onClose","className","id","defaultMessage","title","formatMessage","src","onClick","prefix","settingPath","label","state","get","dispatch","key","checked","dismiss","CommunityTimeline","onlyMedia","getIn","timelineId","hasUnread","concat","siteTitle","explanationBoxExpanded","showExplanationBox","_dec","args","text","action","dismissExplanationBox","setting","maxId","componentDidMount","disconnect","componentDidUpdate","prevProps","componentWillUnmount","transparent","message","headline","menu","explanationBoxMenu","expanded","onToggle","toggleExplanationBox","values","site_title","local","to","scrollKey","onLoadMore","handleLoadMore","onRefresh","handleRefresh","emptyMessage"],"sourceRoot":""}