"use strict";(self.webpackChunksoapbox_fe=self.webpackChunksoapbox_fe||[]).push([[14],{1127:function(e,a,t){t.r(a),t.d(a,{default:function(){return Y}});var n,s,o,r,i,l,c,u=t(1019),d=t(1018),p=(t(1),t(320)),f=t(4),h=t(1797),v=t(1017),_=t(1021),g=t(2),m=t(284),Z=t(8),y=t(25),b=t(12),M=t(10),N=t(16),C=t(1024),w=t(3),O=t.n(w),I=t(5),j=t.n(I),A=t(21),P=t(31),k=t(11),x=(n=function(e,a){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,a){e.__proto__=a}||function(e,a){for(var t in a)Object.prototype.hasOwnProperty.call(a,t)&&(e[t]=a[t])},n(e,a)},function(e,a){if("function"!=typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function t(){this.constructor=e}n(e,a),e.prototype=null===a?Object.create(a):(t.prototype=a.prototype,new t)}),S=(0,h.vU)({add:{id:"aliases.account.add",defaultMessage:"Create alias"}}),T=(s=(0,g.$j)((function(){var e=(0,b.Tm)();return function(a,t){var n=t.accountId,s=t.added,o=t.aliases,r=a.get("me"),i=a.get("instance"),l=(0,M.N$)(i),c=e(a,n),u=c.getIn(["pleroma","ap_id"]),d=l.accountMoving?c.get("acct"):u;return{account:c,apId:u,added:void 0===s?o.includes(d):s,me:r}}}),(function(e){return{onAdd:function(a,t){return e((0,m.j4)(a,t))}}})),s(o=(0,v.ZP)((i=r=function(e){function a(){for(var a=[],t=0;t<arguments.length;t++)a[t]=arguments[t];var n=e.apply(this,a)||this;return(0,d.Z)(n,"handleOnAdd",(function(){return n.props.onAdd(n.props.intl,n.props.account)})),n}return x(a,e),a.prototype.render=function(){var e,a=this.props,n=a.account,s=a.accountId,o=a.intl,r=a.added,i=a.me;return r||s===i||(e=(0,u.Z)("div",{className:"account__relationship"},void 0,(0,u.Z)(k.Z,{src:t(86),title:o.formatMessage(S.add),onClick:this.handleOnAdd}))),(0,u.Z)("div",{className:"account"},void 0,(0,u.Z)("div",{className:"account__wrapper"},void 0,(0,u.Z)("div",{className:"account__display-name"},void 0,(0,u.Z)("div",{className:"account__avatar-wrapper"},void 0,(0,u.Z)(A.Z,{account:n,size:36})),(0,u.Z)(P.Z,{account:n})),e))},a}(f.ZP),(0,d.Z)(r,"propTypes",{account:j().map.isRequired,apId:O().string.isRequired,intl:O().object.isRequired,onAdd:O().func.isRequired,added:O().bool}),(0,d.Z)(r,"defaultProps",{added:!1}),o=i))||o)||o),U=t(7),E=t.n(U),$=t(0),q=t(35),D=function(){var e=function(a,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,a){e.__proto__=a}||function(e,a){for(var t in a)Object.prototype.hasOwnProperty.call(a,t)&&(e[t]=a[t])},e(a,t)};return function(a,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=a}e(a,t),a.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}(),K=(0,h.vU)({search:{id:"aliases.search",defaultMessage:"Search your old account"},searchTitle:{id:"tabs_bar.search",defaultMessage:"Search"}}),R=(0,g.$j)((function(e){return{value:e.getIn(["aliases","suggestions","value"])}}),(function(e){return{onSubmit:function(a){return e((0,m.YX)(a))},onClear:function(){return e((0,m.oy)())},onChange:function(a){return e((0,m.lt)(a))}}}))(l=(0,v.ZP)(l=function(e){function a(){for(var a=[],t=0;t<arguments.length;t++)a[t]=arguments[t];var n=e.apply(this,a)||this;return(0,d.Z)(n,"handleChange",(function(e){n.props.onChange(e.target.value)})),(0,d.Z)(n,"handleKeyUp",(function(e){13===e.keyCode&&n.props.onSubmit(n.props.value)})),(0,d.Z)(n,"handleSubmit",(function(){n.props.onSubmit(n.props.value)})),(0,d.Z)(n,"handleClear",(function(){n.props.onClear()})),n}return D(a,e),a.prototype.render=function(){var e=this.props,a=e.value,n=e.intl,s=a.length>0;return(0,u.Z)("div",{className:"aliases_search search"},void 0,(0,u.Z)("label",{},void 0,(0,u.Z)("span",{style:{display:"none"}},void 0,n.formatMessage(K.search)),(0,u.Z)("input",{className:"search__input",type:"text",value:a,onChange:this.handleChange,onKeyUp:this.handleKeyUp,placeholder:n.formatMessage(K.search)})),(0,u.Z)("div",{role:"button",tabIndex:"0",className:"search__icon",onClick:this.handleClear},void 0,(0,u.Z)(Z.Z,{src:t(280),"aria-label":n.formatMessage(K.search),className:E()("svg-icon--backspace",{active:s})})),(0,u.Z)(q.Z,{onClick:this.handleSubmit},void 0,n.formatMessage(K.searchTitle)))},a}($.PureComponent))||l)||l,z=function(){var e=function(a,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,a){e.__proto__=a}||function(e,a){for(var t in a)Object.prototype.hasOwnProperty.call(a,t)&&(e[t]=a[t])},e(a,t)};return function(a,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=a}e(a,t),a.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}(),F=(0,h.vU)({heading:{id:"column.aliases",defaultMessage:"Account aliases"},subheading_add_new:{id:"column.aliases.subheading_add_new",defaultMessage:"Add New Alias"},create_error:{id:"column.aliases.create_error",defaultMessage:"Error creating alias"},delete_error:{id:"column.aliases.delete_error",defaultMessage:"Error deleting alias"},subheading_aliases:{id:"column.aliases.subheading_aliases",defaultMessage:"Current aliases"},delete:{id:"column.aliases.delete",defaultMessage:"Delete"}}),Y=(0,g.$j)((function(){var e=(0,b.Tm)();return function(a){var t=a.get("me"),n=e(a,t),s=a.get("instance");return{aliases:(0,M.N$)(s).accountMoving?a.getIn(["aliases","aliases","items"],(0,p.List)()):n.getIn(["pleroma","also_known_as"]),searchAccountIds:a.getIn(["aliases","suggestions","items"]),loaded:a.getIn(["aliases","suggestions","loaded"])}}}))(c=(0,v.ZP)(c=function(e){function a(){for(var a=[],t=0;t<arguments.length;t++)a[t]=arguments[t];var n=e.apply(this,a)||this;return(0,d.Z)(n,"componentDidMount",(function(e){(0,n.props.dispatch)(m.Ir)})),(0,d.Z)(n,"handleFilterDelete",(function(e){var a=n.props,t=a.dispatch,s=a.intl;t((0,m.vu)(s,e.currentTarget.dataset.value))})),n}return z(a,e),a.prototype.render=function(){var e=this,a=this.props,t=a.intl,n=a.aliases,s=a.searchAccountIds,o=a.loaded,r=(0,u.Z)(_.Z,{id:"empty_column.aliases",defaultMessage:"You haven't created any account alias yet."});return(0,u.Z)(N.Z,{className:"aliases-settings-panel",icon:"suitcase",heading:t.formatMessage(F.heading)},void 0,(0,u.Z)(C.Z,{text:t.formatMessage(F.subheading_add_new)}),(0,u.Z)(R,{}),o&&0===s.size?(0,u.Z)("div",{className:"aliases__accounts empty-column-indicator"},void 0,(0,u.Z)(_.Z,{id:"empty_column.aliases.suggestions",defaultMessage:"There are no account suggestions available for the provided term."})):(0,u.Z)("div",{className:"aliases__accounts"},void 0,s.map((function(e){return(0,u.Z)(T,{accountId:e,aliases:n},e)}))),(0,u.Z)(C.Z,{text:t.formatMessage(F.subheading_aliases)}),(0,u.Z)("div",{className:"aliases-settings-panel"},void 0,(0,u.Z)(y.Z,{scrollKey:"aliases",emptyMessage:r},void 0,n.map((function(a,n){return(0,u.Z)("div",{className:"alias__container"},n,(0,u.Z)("div",{className:"alias__details"},void 0,(0,u.Z)("span",{className:"alias__list-label"},void 0,(0,u.Z)(_.Z,{id:"aliases.account_label",defaultMessage:"Old account:"})),(0,u.Z)("span",{className:"alias__list-value"},void 0,a)),(0,u.Z)("div",{className:"alias__delete",role:"button",tabIndex:"0",onClick:e.handleFilterDelete,"data-value":a,"aria-label":t.formatMessage(F.delete)},void 0,(0,u.Z)(Z.Z,{className:"alias__delete-icon",id:"times",size:40}),(0,u.Z)("span",{className:"alias__delete-label"},void 0,(0,u.Z)(_.Z,{id:"aliases.aliases_list_delete",defaultMessage:"Unlink alias"}))))})))))},a}(f.ZP))||c)||c}}]);
//# sourceMappingURL=aliases-7a8fcff888748895c17e.chunk.js.map