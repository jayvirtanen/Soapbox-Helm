{"version":3,"file":"packs/js/features/list_adder-02ac237838e435999dd2.chunk.js","mappings":"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","sources":["webpack://soapbox-fe/./app/soapbox/features/list_adder/components/account.js","webpack://soapbox-fe/./app/soapbox/features/list_adder/components/list.js","webpack://soapbox-fe/./app/soapbox/features/list_adder/index.js"],"sourcesContent":["import _jsx from\"@babel/runtime/helpers/esm/jsx\";import _defineProperty from\"@babel/runtime/helpers/esm/defineProperty\";var _dec,_class,_class2,_temp;import React from'react';import ImmutablePropTypes from'react-immutable-proptypes';import ImmutablePureComponent from'react-immutable-pure-component';import{injectIntl}from'react-intl';import{connect}from'react-redux';import Avatar from'../../../components/avatar';import DisplayName from'../../../components/display_name';import{makeGetAccount}from'../../../selectors';const makeMapStateToProps=()=>{const getAccount=makeGetAccount();const mapStateToProps=(state,{accountId})=>({account:getAccount(state,accountId)});return mapStateToProps;};let Account=(_dec=connect(makeMapStateToProps),_dec(_class=injectIntl(_class=(_temp=_class2=class Account extends ImmutablePureComponent{render(){const{account}=this.props;return/*#__PURE__*/_jsx(\"div\",{className:\"account\"},void 0,/*#__PURE__*/_jsx(\"div\",{className:\"account__wrapper\"},void 0,/*#__PURE__*/_jsx(\"div\",{className:\"account__display-name\"},void 0,/*#__PURE__*/_jsx(\"div\",{className:\"account__avatar-wrapper\"},void 0,/*#__PURE__*/_jsx(Avatar,{account:account,size:36})),/*#__PURE__*/_jsx(DisplayName,{account:account}))));}},_defineProperty(_class2,\"propTypes\",{account:ImmutablePropTypes.map.isRequired}),_temp))||_class)||_class);export{Account as default};","import _jsx from\"@babel/runtime/helpers/esm/jsx\";import _defineProperty from\"@babel/runtime/helpers/esm/defineProperty\";var _dec,_class,_class2,_temp;import PropTypes from'prop-types';import React from'react';import ImmutablePropTypes from'react-immutable-proptypes';import ImmutablePureComponent from'react-immutable-pure-component';import{defineMessages,injectIntl}from'react-intl';import{connect}from'react-redux';import Icon from'soapbox/components/icon';import{removeFromListAdder,addToListAdder}from'../../../actions/lists';import IconButton from'../../../components/icon_button';const messages=defineMessages({remove:{\"id\":\"lists.account.remove\",\"defaultMessage\":\"Remove from list\"},add:{\"id\":\"lists.account.add\",\"defaultMessage\":\"Add to list\"}});const MapStateToProps=(state,{listId,added})=>({list:state.get('lists').get(listId),added:typeof added==='undefined'?state.getIn(['listAdder','lists','items']).includes(listId):added});const mapDispatchToProps=(dispatch,{listId})=>({onRemove:()=>dispatch(removeFromListAdder(listId)),onAdd:()=>dispatch(addToListAdder(listId))});let List=(_dec=connect(MapStateToProps,mapDispatchToProps),_dec(_class=injectIntl(_class=(_temp=_class2=class List extends ImmutablePureComponent{render(){const{list,intl,onRemove,onAdd,added}=this.props;let button;if(added){button=/*#__PURE__*/_jsx(IconButton,{src:require('@tabler/icons/icons/x.svg'),title:intl.formatMessage(messages.remove),onClick:onRemove});}else{button=/*#__PURE__*/_jsx(IconButton,{src:require('@tabler/icons/icons/plus.svg'),title:intl.formatMessage(messages.add),onClick:onAdd});}return/*#__PURE__*/_jsx(\"div\",{className:\"list\"},void 0,/*#__PURE__*/_jsx(\"div\",{className:\"list__wrapper\"},void 0,/*#__PURE__*/_jsx(\"div\",{className:\"list__display-name\"},void 0,/*#__PURE__*/_jsx(Icon,{id:\"list-ul\",className:\"column-link__icon\",fixedWidth:true}),list.get('title')),/*#__PURE__*/_jsx(\"div\",{className:\"account__relationship\"},void 0,button)));}},_defineProperty(_class2,\"propTypes\",{list:ImmutablePropTypes.map.isRequired,intl:PropTypes.object.isRequired,onRemove:PropTypes.func.isRequired,onAdd:PropTypes.func.isRequired,added:PropTypes.bool}),_defineProperty(_class2,\"defaultProps\",{added:false}),_temp))||_class)||_class);export{List as default};","import _jsx from\"@babel/runtime/helpers/esm/jsx\";import _defineProperty from\"@babel/runtime/helpers/esm/defineProperty\";var _dec,_class,_class2,_temp;import\"core-js/modules/web.dom-collections.iterator.js\";import PropTypes from'prop-types';import React from'react';import ImmutablePropTypes from'react-immutable-proptypes';import ImmutablePureComponent from'react-immutable-pure-component';import{defineMessages,injectIntl,FormattedMessage}from'react-intl';import{connect}from'react-redux';import{createSelector}from'reselect';import IconButton from'soapbox/components/icon_button';import{setupListAdder,resetListAdder}from'../../actions/lists';import NewListForm from'../lists/components/new_list_form';import ColumnSubheading from'../ui/components/column_subheading';import Account from'./components/account';import List from'./components/list';// hack\nconst getOrderedLists=createSelector([state=>state.get('lists')],lists=>{if(!lists){return lists;}return lists.toList().filter(item=>!!item).sort((a,b)=>a.get('title').localeCompare(b.get('title')));});const mapStateToProps=(state,{accountId})=>({listIds:getOrderedLists(state).map(list=>list.get('id')),account:state.getIn(['accounts',accountId])});const mapDispatchToProps=dispatch=>({onInitialize:accountId=>dispatch(setupListAdder(accountId)),onReset:()=>dispatch(resetListAdder())});const messages=defineMessages({close:{\"id\":\"lightbox.close\",\"defaultMessage\":\"Close\"},subheading:{\"id\":\"lists.subheading\",\"defaultMessage\":\"Your lists\"},add:{\"id\":\"lists.new.create\",\"defaultMessage\":\"Add List\"}});let ListAdder=(_dec=connect(mapStateToProps,mapDispatchToProps),_dec(_class=injectIntl(_class=(_temp=_class2=class ListAdder extends ImmutablePureComponent{constructor(...args){super(...args);_defineProperty(this,\"onClickClose\",()=>{this.props.onClose('LIST_ADDER');});}componentDidMount(){const{onInitialize,accountId}=this.props;onInitialize(accountId);}componentWillUnmount(){const{onReset}=this.props;onReset();}render(){const{accountId,listIds,intl}=this.props;return/*#__PURE__*/_jsx(\"div\",{className:\"modal-root__modal compose-modal list-editor__content\"},void 0,/*#__PURE__*/_jsx(\"div\",{className:\"compose-modal__header\"},void 0,/*#__PURE__*/_jsx(\"h3\",{className:\"compose-modal__header__title\"},void 0,/*#__PURE__*/_jsx(FormattedMessage,{id:\"list_adder.header_title\",defaultMessage:\"Add or Remove from Lists\"})),/*#__PURE__*/_jsx(IconButton,{className:\"compose-modal__close\",title:intl.formatMessage(messages.close),src:require('@tabler/icons/icons/x.svg'),onClick:this.onClickClose})),/*#__PURE__*/_jsx(\"div\",{className:\"compose-modal__content\"},void 0,/*#__PURE__*/_jsx(\"div\",{className:\"list-adder\"},void 0,/*#__PURE__*/_jsx(\"div\",{className:\"list-adder__account\"},void 0,/*#__PURE__*/_jsx(Account,{accountId:accountId})),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(ColumnSubheading,{text:intl.formatMessage(messages.add)}),/*#__PURE__*/_jsx(NewListForm,{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(ColumnSubheading,{text:intl.formatMessage(messages.subheading)}),/*#__PURE__*/_jsx(\"div\",{className:\"list-adder__lists\"},void 0,listIds.map(ListId=>/*#__PURE__*/_jsx(List,{listId:ListId},ListId))))));}},_defineProperty(_class2,\"propTypes\",{accountId:PropTypes.string.isRequired,onClose:PropTypes.func.isRequired,intl:PropTypes.object.isRequired,onInitialize:PropTypes.func.isRequired,onReset:PropTypes.func.isRequired,listIds:ImmutablePropTypes.list.isRequired,account:ImmutablePropTypes.map}),_temp))||_class)||_class);export{ListAdder as default};"],"names":["_class","_class2","_temp","Account","getAccount","state","accountId","account","_dec","injectIntl","render","this","props","className","size","messages","remove","add","List","listId","added","list","get","getIn","includes","dispatch","onRemove","onAdd","button","intl","src","title","formatMessage","onClick","id","fixedWidth","getOrderedLists","lists","toList","filter","item","sort","a","b","localeCompare","close","subheading","ListAdder","listIds","map","onInitialize","onReset","args","onClose","componentDidMount","componentWillUnmount","defaultMessage","onClickClose","text","ListId"],"sourceRoot":""}