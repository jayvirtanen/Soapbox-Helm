{"version":3,"file":"packs/js/features/community_timeline-9af57459f98add029d8a.chunk.js","mappings":"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","sources":["webpack://soapbox-fe/./app/soapbox/features/community_timeline/components/column_settings.js","webpack://soapbox-fe/./app/soapbox/features/community_timeline/index.js","webpack://soapbox-fe/./app/soapbox/features/community_timeline/containers/column_settings_container.js"],"sourcesContent":["import _jsx from\"@babel/runtime/helpers/esm/jsx\";var _class;import React from'react';import{injectIntl,defineMessages,FormattedMessage}from'react-intl';import IconButton from'soapbox/components/icon_button';import SettingToggle from'../../notifications/components/setting_toggle';const messages=defineMessages({close:{\"id\":\"lightbox.close\",\"defaultMessage\":\"Close\"}});let ColumnSettings=injectIntl(_class=class ColumnSettings extends React.PureComponent{render(){const{intl,settings,onChange,onClose}=this.props;return/*#__PURE__*/_jsx(\"div\",{className:\"column-settings\"},void 0,/*#__PURE__*/_jsx(\"div\",{className:\"column-settings__header\"},void 0,/*#__PURE__*/_jsx(\"h1\",{className:\"column-settings__title\"},void 0,/*#__PURE__*/_jsx(FormattedMessage,{id:\"community.column_settings.title\",defaultMessage:\"Local timeline settings\"})),/*#__PURE__*/_jsx(\"div\",{className:\"column-settings__close\"},void 0,/*#__PURE__*/_jsx(IconButton,{title:intl.formatMessage(messages.close),src:require('@tabler/icons/icons/x.svg'),onClick:onClose}))),/*#__PURE__*/_jsx(\"div\",{className:\"column-settings__content\"},void 0,/*#__PURE__*/_jsx(\"div\",{className:\"column-settings__row\"},void 0,/*#__PURE__*/_jsx(SettingToggle,{prefix:\"community_timeline\",settings:settings,settingPath:['shows','reply'],onChange:onChange,label:/*#__PURE__*/_jsx(FormattedMessage,{id:\"home.column_settings.show_replies\",defaultMessage:\"Show replies\"})})),/*#__PURE__*/_jsx(\"div\",{className:\"column-settings__row\"},void 0,/*#__PURE__*/_jsx(SettingToggle,{settings:settings,settingPath:['other','onlyMedia'],onChange:onChange,label:/*#__PURE__*/_jsx(FormattedMessage,{id:\"community.column_settings.media_only\",defaultMessage:\"Media Only\"})}))));}})||_class;export{ColumnSettings as default};","import _jsx from\"@babel/runtime/helpers/esm/jsx\";import _defineProperty from\"@babel/runtime/helpers/esm/defineProperty\";var _dec,_class;import\"core-js/modules/web.dom-collections.iterator.js\";import React from'react';import{defineMessages,injectIntl,FormattedMessage}from'react-intl';import{connect}from'react-redux';import{getSettings}from'soapbox/actions/settings';import SubNavigation from'soapbox/components/sub_navigation';import{connectCommunityStream}from'../../actions/streaming';import{expandCommunityTimeline}from'../../actions/timelines';import Column from'../../components/column';import StatusListContainer from'../ui/containers/status_list_container';import ColumnSettings from'./containers/column_settings_container';const messages=defineMessages({title:{\"id\":\"column.community\",\"defaultMessage\":\"Local timeline\"}});const mapStateToProps=state=>{const onlyMedia=getSettings(state).getIn(['community','other','onlyMedia']);const timelineId='community';return{timelineId,onlyMedia,hasUnread:state.getIn(['timelines',\"\".concat(timelineId).concat(onlyMedia?':media':''),'unread'])>0};};let CommunityTimeline=(_dec=connect(mapStateToProps),_dec(_class=injectIntl(_class=class CommunityTimeline extends React.PureComponent{constructor(...args){super(...args);_defineProperty(this,\"handleLoadMore\",maxId=>{const{dispatch,onlyMedia}=this.props;dispatch(expandCommunityTimeline({maxId,onlyMedia}));});_defineProperty(this,\"handleRefresh\",()=>{const{dispatch,onlyMedia}=this.props;return dispatch(expandCommunityTimeline({onlyMedia}));});}componentDidMount(){const{dispatch,onlyMedia}=this.props;dispatch(expandCommunityTimeline({onlyMedia}));this.disconnect=dispatch(connectCommunityStream({onlyMedia}));}componentDidUpdate(prevProps){if(prevProps.onlyMedia!==this.props.onlyMedia){const{dispatch,onlyMedia}=this.props;this.disconnect();dispatch(expandCommunityTimeline({onlyMedia}));this.disconnect=dispatch(connectCommunityStream({onlyMedia}));}}componentWillUnmount(){if(this.disconnect){this.disconnect();this.disconnect=null;}}render(){const{intl,onlyMedia,timelineId}=this.props;return/*#__PURE__*/_jsx(Column,{label:intl.formatMessage(messages.title),transparent:true},void 0,/*#__PURE__*/_jsx(SubNavigation,{message:intl.formatMessage(messages.title),settings:ColumnSettings}),/*#__PURE__*/_jsx(StatusListContainer,{scrollKey:\"\".concat(timelineId,\"_timeline\"),timelineId:\"\".concat(timelineId).concat(onlyMedia?':media':''),onLoadMore:this.handleLoadMore,onRefresh:this.handleRefresh,emptyMessage:/*#__PURE__*/_jsx(FormattedMessage,{id:\"empty_column.community\",defaultMessage:\"The local timeline is empty. Write something publicly to get the ball rolling!\"})}));}})||_class)||_class);export{CommunityTimeline as default};","import\"core-js/modules/web.dom-collections.iterator.js\";import{connect}from'react-redux';import{getSettings,changeSetting}from'../../../actions/settings';import ColumnSettings from'../components/column_settings';const mapStateToProps=state=>({settings:getSettings(state).get('community')});const mapDispatchToProps=dispatch=>{return{onChange(key,checked){dispatch(changeSetting(['community',...key],checked));}};};export default connect(mapStateToProps,mapDispatchToProps)(ColumnSettings);"],"names":["_class","messages","close","ColumnSettings","injectIntl","render","this","props","intl","settings","onChange","onClose","className","id","defaultMessage","title","formatMessage","src","onClick","prefix","settingPath","label","state","get","dispatch","key","checked","CommunityTimeline","onlyMedia","getIn","timelineId","hasUnread","concat","_dec","args","maxId","componentDidMount","disconnect","componentDidUpdate","prevProps","componentWillUnmount","transparent","message","scrollKey","onLoadMore","handleLoadMore","onRefresh","handleRefresh","emptyMessage"],"sourceRoot":""}