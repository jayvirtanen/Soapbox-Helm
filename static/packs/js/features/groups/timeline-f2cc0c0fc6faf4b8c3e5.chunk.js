"use strict";(self.webpackChunksoapbox_fe=self.webpackChunksoapbox_fe||[]).push([[43],{1185:function(o,t,e){e.r(t),e.d(t,{default:function(){return _}});var n,r,i=e(1019),s=e(1018),a=e(7),p=e.n(a),u=e(0),c=e(1797),d=e(1017),l=e(2),f=e(1794),g=e(1267),h=e(285),m=e(36),v=e(1259),Z=(n=function(o,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,t){o.__proto__=t}||function(o,t){for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(o[e]=t[e])},n(o,t)},function(o,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=o}n(o,t),o.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}),y=(0,c.vU)({title:{id:"groups.form.title",defaultMessage:"Title"},description:{id:"groups.form.description",defaultMessage:"Description"},coverImage:{id:"groups.form.coverImage",defaultMessage:"Upload new banner image (optional)"},coverImageChange:{id:"groups.form.coverImageChange",defaultMessage:"Banner image selected"},update:{id:"groups.form.update",defaultMessage:"Update group"}}),_=(0,l.$j)((function(o,t){return{group:o.getIn(["groups",t.params.id]),title:o.getIn(["group_editor","title"]),description:o.getIn(["group_editor","description"]),coverImage:o.getIn(["group_editor","coverImage"]),disabled:o.getIn(["group_editor","isSubmitting"])}}),(function(o){return{onTitleChange:function(t){return o((0,h.Se)("title",t))},onDescriptionChange:function(t){return o((0,h.Se)("description",t))},onCoverImageChange:function(t){return o((0,h.Se)("coverImage",t))},onSubmit:function(t){return o((0,h.Ps)(t))},setUp:function(t){return o((0,h.Z_)(t))}}}))(r=(0,d.ZP)(r=(0,f.EN)(r=function(o){function t(t){var e=o.call(this,t)||this;return(0,s.Z)(e,"handleTitleChange",(function(o){e.props.onTitleChange(o.target.value)})),(0,s.Z)(e,"handleDescriptionChange",(function(o){e.props.onDescriptionChange(o.target.value)})),(0,s.Z)(e,"handleCoverImageChange",(function(o){e.props.onCoverImageChange(o.target.files[0])})),(0,s.Z)(e,"handleSubmit",(function(o){o.preventDefault(),e.props.onSubmit(e.props.history)})),(0,s.Z)(e,"handleClick",(function(){e.props.onSubmit(e.props.history)})),t.group&&t.setUp(t.group),e}return Z(t,o),t.prototype.componentDidUpdate=function(o){!o.group&&this.props.group&&this.props.setUp(this.props.group)},t.prototype.render=function(){var o=this.props,t=o.group,e=o.title,n=o.description,r=o.coverImage,s=o.disabled,a=o.intl;return void 0===t?(0,i.Z)(m.Z,{},void 0,(0,i.Z)(v.Z,{})):!1===t?(0,i.Z)(m.Z,{},void 0,(0,i.Z)(g.Z,{})):(0,i.Z)("form",{className:"group-form",method:"post",onSubmit:this.handleSubmit},void 0,(0,i.Z)("div",{},void 0,(0,i.Z)("input",{className:"standard",type:"text",value:e,disabled:s,onChange:this.handleTitleChange,placeholder:a.formatMessage(y.title)})),(0,i.Z)("div",{},void 0,(0,i.Z)("textarea",{className:"standard",type:"text",value:n,disabled:s,onChange:this.handleDescriptionChange,placeholder:a.formatMessage(y.description)})),(0,i.Z)("div",{},void 0,(0,i.Z)("label",{htmlFor:"group_cover_image",className:p()("group-form__file-label",{"group-form__file-label--selected":null!==r})},void 0,a.formatMessage(null===r?y.coverImage:y.coverImageChange)),(0,i.Z)("input",{type:"file",className:"group-form__file",id:"group_cover_image",disabled:s,onChange:this.handleCoverImageChange}),(0,i.Z)("button",{},void 0,a.formatMessage(y.update))))},t}(u.PureComponent))||r)||r)||r},1183:function(o,t,e){e.r(t),e.d(t,{default:function(){return C}});var n,r,i,s,a=e(1019),p=e(1018),u=e(24),c=e.n(u),d=(e(1),e(3)),l=e.n(d),f=e(5),g=e.n(f),h=e(4),m=e(1021),v=e(2),Z=e(99),y=e(1259),_=e(25),b=e(46),M=e(16),I=(n=function(o,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,t){o.__proto__=t}||function(o,t){for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(o[e]=t[e])},n(o,t)},function(o,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=o}n(o,t),o.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}),C=(0,v.$j)((function(o,t){var e=t.params.id;return{group:o.getIn(["groups",e]),accountIds:o.getIn(["user_lists","groups",e,"items"]),hasMore:!!o.getIn(["user_lists","groups",e,"next"])}}))((s=i=function(o){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=o.apply(this,t)||this;return(0,p.Z)(n,"handleLoadMore",c()((function(){n.props.dispatch((0,Z.BZ)(n.props.params.id))}),300,{leading:!0})),n}return I(t,o),t.prototype.componentDidMount=function(){var o=this.props.params.id;this.props.dispatch((0,Z.Mv)(o))},t.prototype.componentDidUpdate=function(o){this.props.params.id!==o.params.id&&this.props.dispatch((0,Z.Mv)(this.props.params.id))},t.prototype.render=function(){var o=this.props,t=o.accountIds,e=o.hasMore;return o.group&&t?(0,a.Z)(M.Z,{},void 0,(0,a.Z)(_.Z,{scrollKey:"members",hasMore:e,onLoadMore:this.handleLoadMore,emptyMessage:(0,a.Z)(m.Z,{id:"group.members.empty",defaultMessage:"This group does not has any members."})},void 0,t.map((function(o){return(0,a.Z)(b.Z,{id:o,withNote:!1},o)})))):(0,a.Z)(M.Z,{},void 0,(0,a.Z)(y.Z,{}))},t}(h.ZP),(0,p.Z)(i,"propTypes",{params:l().object.isRequired,dispatch:l().func.isRequired,accountIds:g().orderedSet,hasMore:l().bool}),r=s))||r},1184:function(o,t,e){e.r(t),e.d(t,{default:function(){return j}});var n,r,i,s,a=e(1019),p=e(1018),u=e(24),c=e.n(u),d=(e(1),e(3)),l=e.n(d),f=e(5),g=e.n(f),h=e(4),m=e(1021),v=e(1797),Z=e(1017),y=e(2),_=e(99),b=e(1259),M=e(25),I=e(46),C=e(16),w=(n=function(o,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,t){o.__proto__=t}||function(o,t){for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(o[e]=t[e])},n(o,t)},function(o,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=o}n(o,t),o.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}),O=(0,v.vU)({remove:{id:"groups.removed_accounts",defaultMessage:"Allow joining"}}),j=(0,y.$j)((function(o,t){var e=t.params.id;return{group:o.getIn(["groups",e]),accountIds:o.getIn(["user_lists","groups_removed_accounts",e,"items"]),hasMore:!!o.getIn(["user_lists","groups_removed_accounts",e,"next"])}}))(r=(0,Z.ZP)((s=i=function(o){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=o.apply(this,t)||this;return(0,p.Z)(n,"handleLoadMore",c()((function(){n.props.dispatch((0,_.M$)(n.props.params.id))}),300,{leading:!0})),(0,p.Z)(n,"handleOnActionClick",(function(o,t){return function(){n.props.dispatch((0,_.Ly)(o.get("id"),t))}})),n}return w(t,o),t.prototype.componentDidMount=function(){var o=this.props.params.id;this.props.dispatch((0,_.Zn)(o))},t.prototype.componentDidUpdate=function(o){this.props.params.id!==o.params.id&&this.props.dispatch((0,_.Zn)(this.props.params.id))},t.prototype.render=function(){var o=this,t=this.props,n=t.accountIds,r=t.hasMore,i=t.group,s=t.intl;return i&&n?(0,a.Z)(C.Z,{},void 0,(0,a.Z)(M.Z,{scrollKey:"removed_accounts",hasMore:r,onLoadMore:this.handleLoadMore,emptyMessage:(0,a.Z)(m.Z,{id:"group.removed_accounts.empty",defaultMessage:"This group does not has any removed accounts."})},void 0,n.map((function(t){return(0,a.Z)(I.Z,{id:t,actionIcon:e(18),onActionClick:o.handleOnActionClick(i,t),actionTitle:s.formatMessage(O.remove)},t)})))):(0,a.Z)(C.Z,{},void 0,(0,a.Z)(b.Z,{}))},t}(h.ZP),(0,p.Z)(i,"propTypes",{params:l().object.isRequired,dispatch:l().func.isRequired,accountIds:g().orderedSet,hasMore:l().bool}),r=s))||r)||r},1182:function(o,t,e){e.r(t),e.d(t,{default:function(){return b}});var n,r,i=e(1019),s=e(1018),a=(e(1),e(0)),p=e(1017),u=e(1021),c=e(2),d=e(1800),l=e(374),f=e(51),g=e(33),h=e(21),m=e(36),v=e(1259),Z=e(1267),y=e(1171),_=(n=function(o,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,t){o.__proto__=t}||function(o,t){for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(o[e]=t[e])},n(o,t)},function(o,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=o}n(o,t),o.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}),b=(0,c.$j)((function(o,t){var e=o.get("me");return{account:o.getIn(["accounts",e]),group:o.getIn(["groups",t.params.id]),relationships:o.getIn(["group_relationships",t.params.id]),hasUnread:o.getIn(["timelines","group:".concat(t.params.id),"unread"])>0}}))(r=(0,p.ZP)(r=function(o){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=o.apply(this,t)||this;return(0,s.Z)(n,"handleLoadMore",(function(o){var t=n.props.params.id;n.props.dispatch((0,g.F0)(t,{maxId:o}))})),n}return _(t,o),t.prototype.componentDidMount=function(){var o=this.props.dispatch,t=this.props.params.id;o((0,g.F0)(t)),this.disconnect=o((0,f.iZ)(t))},t.prototype.componentWillUnmount=function(){this.disconnect&&(this.disconnect(),this.disconnect=null)},t.prototype.render=function(){var o=this.props,t=o.columnId,e=o.group,n=o.relationships,r=o.account,s=this.props.params.id;if(void 0===e||!n)return(0,i.Z)(m.Z,{},void 0,(0,i.Z)(v.Z,{}));if(!1===e)return(0,i.Z)(m.Z,{},void 0,(0,i.Z)(Z.Z,{}));var a=r?r.get("acct"):"";return(0,i.Z)("div",{},void 0,n.get("member")&&(0,i.Z)("div",{className:"timeline-compose-block"},void 0,(0,i.Z)(d.rU,{className:"timeline-compose-block__avatar",to:"/@".concat(a)},void 0,(0,i.Z)(h.Z,{account:r,size:46})),(0,i.Z)(l.Z,{group:e,shouldCondense:!0,autoFocus:!1})),(0,i.Z)("div",{className:"group__feed"},void 0,(0,i.Z)(y.Z,{alwaysPrepend:!0,scrollKey:"group_timeline-".concat(t),timelineId:"group:".concat(s),onLoadMore:this.handleLoadMore,group:e,withGroupAdmin:n&&n.get("admin"),emptyMessage:(0,i.Z)(u.Z,{id:"empty_column.group",defaultMessage:"There is nothing in this group yet. When members of this group make new posts, they will appear here."})})))},t}(a.PureComponent))||r)||r}}]);
//# sourceMappingURL=timeline-f2cc0c0fc6faf4b8c3e5.chunk.js.map