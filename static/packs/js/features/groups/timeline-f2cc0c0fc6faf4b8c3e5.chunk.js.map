{"version":3,"file":"packs/js/features/groups/timeline-f2cc0c0fc6faf4b8c3e5.chunk.js","mappings":"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","sources":["webpack://soapbox-fe/./app/soapbox/features/groups/edit/index.js","webpack://soapbox-fe/./app/soapbox/features/groups/members/index.js","webpack://soapbox-fe/./app/soapbox/features/groups/removed_accounts/index.js","webpack://soapbox-fe/./app/soapbox/features/groups/timeline/index.js"],"sourcesContent":["import _jsx from\"@babel/runtime/helpers/esm/jsx\";import _defineProperty from\"@babel/runtime/helpers/esm/defineProperty\";var _dec,_class;import classNames from'classnames';import React from'react';import{defineMessages,injectIntl}from'react-intl';import{connect}from'react-redux';import{withRouter}from'react-router-dom';import MissingIndicator from'soapbox/components/missing_indicator';import{changeValue,submit,setUp}from'../../../actions/group_editor';import Column from'../../../components/column';import LoadingIndicator from'../../../components/loading_indicator';const messages=defineMessages({title:{\"id\":\"groups.form.title\",\"defaultMessage\":\"Title\"},description:{\"id\":\"groups.form.description\",\"defaultMessage\":\"Description\"},coverImage:{\"id\":\"groups.form.coverImage\",\"defaultMessage\":\"Upload new banner image (optional)\"},coverImageChange:{\"id\":\"groups.form.coverImageChange\",\"defaultMessage\":\"Banner image selected\"},update:{\"id\":\"groups.form.update\",\"defaultMessage\":\"Update group\"}});const mapStateToProps=(state,props)=>({group:state.getIn(['groups',props.params.id]),title:state.getIn(['group_editor','title']),description:state.getIn(['group_editor','description']),coverImage:state.getIn(['group_editor','coverImage']),disabled:state.getIn(['group_editor','isSubmitting'])});const mapDispatchToProps=dispatch=>({onTitleChange:value=>dispatch(changeValue('title',value)),onDescriptionChange:value=>dispatch(changeValue('description',value)),onCoverImageChange:value=>dispatch(changeValue('coverImage',value)),onSubmit:routerHistory=>dispatch(submit(routerHistory)),setUp:group=>dispatch(setUp(group))});let Edit=(_dec=connect(mapStateToProps,mapDispatchToProps),_dec(_class=injectIntl(_class=withRouter(_class=class Edit extends React.PureComponent{constructor(props){super(props);_defineProperty(this,\"handleTitleChange\",e=>{this.props.onTitleChange(e.target.value);});_defineProperty(this,\"handleDescriptionChange\",e=>{this.props.onDescriptionChange(e.target.value);});_defineProperty(this,\"handleCoverImageChange\",e=>{this.props.onCoverImageChange(e.target.files[0]);});_defineProperty(this,\"handleSubmit\",e=>{e.preventDefault();this.props.onSubmit(this.props.history);});_defineProperty(this,\"handleClick\",()=>{this.props.onSubmit(this.props.history);});if(props.group)props.setUp(props.group);}componentDidUpdate(prevProps){if(!prevProps.group&&this.props.group){this.props.setUp(this.props.group);}}render(){const{group,title,description,coverImage,disabled,intl}=this.props;if(typeof group==='undefined'){return/*#__PURE__*/_jsx(Column,{},void 0,/*#__PURE__*/_jsx(LoadingIndicator,{}));}else if(group===false){return/*#__PURE__*/_jsx(Column,{},void 0,/*#__PURE__*/_jsx(MissingIndicator,{}));}return/*#__PURE__*/_jsx(\"form\",{className:\"group-form\",method:\"post\",onSubmit:this.handleSubmit},void 0,/*#__PURE__*/_jsx(\"div\",{},void 0,/*#__PURE__*/_jsx(\"input\",{className:\"standard\",type:\"text\",value:title,disabled:disabled,onChange:this.handleTitleChange,placeholder:intl.formatMessage(messages.title)})),/*#__PURE__*/_jsx(\"div\",{},void 0,/*#__PURE__*/_jsx(\"textarea\",{className:\"standard\",type:\"text\",value:description,disabled:disabled,onChange:this.handleDescriptionChange,placeholder:intl.formatMessage(messages.description)})),/*#__PURE__*/_jsx(\"div\",{},void 0,/*#__PURE__*/_jsx(\"label\",{htmlFor:\"group_cover_image\",className:classNames('group-form__file-label',{'group-form__file-label--selected':coverImage!==null})},void 0,intl.formatMessage(coverImage===null?messages.coverImage:messages.coverImageChange)),/*#__PURE__*/_jsx(\"input\",{type:\"file\",className:\"group-form__file\",id:\"group_cover_image\",disabled:disabled,onChange:this.handleCoverImageChange}),/*#__PURE__*/_jsx(\"button\",{},void 0,intl.formatMessage(messages.update))));}})||_class)||_class)||_class);export{Edit as default};","import _jsx from\"@babel/runtime/helpers/esm/jsx\";import _defineProperty from\"@babel/runtime/helpers/esm/defineProperty\";import _debounce from\"lodash/debounce\";var _dec,_class,_class2,_temp;import\"core-js/modules/web.dom-collections.iterator.js\";import PropTypes from'prop-types';import React from'react';import ImmutablePropTypes from'react-immutable-proptypes';import ImmutablePureComponent from'react-immutable-pure-component';import{FormattedMessage}from'react-intl';import{connect}from'react-redux';import{fetchMembers,expandMembers}from'../../../actions/groups';import LoadingIndicator from'../../../components/loading_indicator';import ScrollableList from'../../../components/scrollable_list';import AccountContainer from'../../../containers/account_container';import Column from'../../ui/components/column';const mapStateToProps=(state,{params:{id}})=>({group:state.getIn(['groups',id]),accountIds:state.getIn(['user_lists','groups',id,'items']),hasMore:!!state.getIn(['user_lists','groups',id,'next'])});let GroupMembers=(_dec=connect(mapStateToProps),_dec(_class=(_temp=_class2=class GroupMembers extends ImmutablePureComponent{constructor(...args){super(...args);_defineProperty(this,\"handleLoadMore\",_debounce(()=>{this.props.dispatch(expandMembers(this.props.params.id));},300,{leading:true}));}componentDidMount(){const{params:{id}}=this.props;this.props.dispatch(fetchMembers(id));}componentDidUpdate(prevProps){if(this.props.params.id!==prevProps.params.id){this.props.dispatch(fetchMembers(this.props.params.id));}}render(){const{accountIds,hasMore,group}=this.props;if(!group||!accountIds){return/*#__PURE__*/_jsx(Column,{},void 0,/*#__PURE__*/_jsx(LoadingIndicator,{}));}return/*#__PURE__*/_jsx(Column,{},void 0,/*#__PURE__*/_jsx(ScrollableList,{scrollKey:\"members\",hasMore:hasMore,onLoadMore:this.handleLoadMore,emptyMessage:/*#__PURE__*/_jsx(FormattedMessage,{id:\"group.members.empty\",defaultMessage:\"This group does not has any members.\"})},void 0,accountIds.map(id=>/*#__PURE__*/_jsx(AccountContainer,{id:id,withNote:false},id))));}},_defineProperty(_class2,\"propTypes\",{params:PropTypes.object.isRequired,dispatch:PropTypes.func.isRequired,accountIds:ImmutablePropTypes.orderedSet,hasMore:PropTypes.bool}),_temp))||_class);export{GroupMembers as default};","import _jsx from\"@babel/runtime/helpers/esm/jsx\";import _defineProperty from\"@babel/runtime/helpers/esm/defineProperty\";import _debounce from\"lodash/debounce\";var _dec,_class,_class2,_temp;import\"core-js/modules/web.dom-collections.iterator.js\";import PropTypes from'prop-types';import React from'react';import ImmutablePropTypes from'react-immutable-proptypes';import ImmutablePureComponent from'react-immutable-pure-component';import{FormattedMessage}from'react-intl';import{defineMessages,injectIntl}from'react-intl';import{connect}from'react-redux';import{fetchRemovedAccounts,expandRemovedAccounts,removeRemovedAccount}from'../../../actions/groups';import LoadingIndicator from'../../../components/loading_indicator';import ScrollableList from'../../../components/scrollable_list';import AccountContainer from'../../../containers/account_container';import Column from'../../ui/components/column';const messages=defineMessages({remove:{\"id\":\"groups.removed_accounts\",\"defaultMessage\":\"Allow joining\"}});const mapStateToProps=(state,{params:{id}})=>({group:state.getIn(['groups',id]),accountIds:state.getIn(['user_lists','groups_removed_accounts',id,'items']),hasMore:!!state.getIn(['user_lists','groups_removed_accounts',id,'next'])});let GroupRemovedAccounts=(_dec=connect(mapStateToProps),_dec(_class=injectIntl(_class=(_temp=_class2=class GroupRemovedAccounts extends ImmutablePureComponent{constructor(...args){super(...args);_defineProperty(this,\"handleLoadMore\",_debounce(()=>{this.props.dispatch(expandRemovedAccounts(this.props.params.id));},300,{leading:true}));_defineProperty(this,\"handleOnActionClick\",(group,id)=>{return()=>{this.props.dispatch(removeRemovedAccount(group.get('id'),id));};});}componentDidMount(){const{params:{id}}=this.props;this.props.dispatch(fetchRemovedAccounts(id));}componentDidUpdate(prevProps){if(this.props.params.id!==prevProps.params.id){this.props.dispatch(fetchRemovedAccounts(this.props.params.id));}}render(){const{accountIds,hasMore,group,intl}=this.props;if(!group||!accountIds){return/*#__PURE__*/_jsx(Column,{},void 0,/*#__PURE__*/_jsx(LoadingIndicator,{}));}return/*#__PURE__*/_jsx(Column,{},void 0,/*#__PURE__*/_jsx(ScrollableList,{scrollKey:\"removed_accounts\",hasMore:hasMore,onLoadMore:this.handleLoadMore,emptyMessage:/*#__PURE__*/_jsx(FormattedMessage,{id:\"group.removed_accounts.empty\",defaultMessage:\"This group does not has any removed accounts.\"})},void 0,accountIds.map(id=>/*#__PURE__*/_jsx(AccountContainer,{id:id,actionIcon:require('@tabler/icons/icons/x.svg'),onActionClick:this.handleOnActionClick(group,id),actionTitle:intl.formatMessage(messages.remove)},id))));}},_defineProperty(_class2,\"propTypes\",{params:PropTypes.object.isRequired,dispatch:PropTypes.func.isRequired,accountIds:ImmutablePropTypes.orderedSet,hasMore:PropTypes.bool}),_temp))||_class)||_class);export{GroupRemovedAccounts as default};","import _jsx from\"@babel/runtime/helpers/esm/jsx\";import _defineProperty from\"@babel/runtime/helpers/esm/defineProperty\";var _dec,_class;import\"core-js/modules/web.dom-collections.iterator.js\";import React from'react';import{FormattedMessage,injectIntl}from'react-intl';import{connect}from'react-redux';import{Link}from'react-router-dom';import ComposeFormContainer from'../../../../soapbox/features/compose/containers/compose_form_container';import{connectGroupStream}from'../../../actions/streaming';import{expandGroupTimeline}from'../../../actions/timelines';import Avatar from'../../../components/avatar';import Column from'../../../components/column';import LoadingIndicator from'../../../components/loading_indicator';import MissingIndicator from'../../../components/missing_indicator';import StatusListContainer from'../../ui/containers/status_list_container';const mapStateToProps=(state,props)=>{const me=state.get('me');return{account:state.getIn(['accounts',me]),group:state.getIn(['groups',props.params.id]),relationships:state.getIn(['group_relationships',props.params.id]),hasUnread:state.getIn(['timelines',\"group:\".concat(props.params.id),'unread'])>0};};let GroupTimeline=(_dec=connect(mapStateToProps),_dec(_class=injectIntl(_class=class GroupTimeline extends React.PureComponent{constructor(...args){super(...args);_defineProperty(this,\"handleLoadMore\",maxId=>{const{id}=this.props.params;this.props.dispatch(expandGroupTimeline(id,{maxId}));});}componentDidMount(){const{dispatch}=this.props;const{id}=this.props.params;dispatch(expandGroupTimeline(id));this.disconnect=dispatch(connectGroupStream(id));}componentWillUnmount(){if(this.disconnect){this.disconnect();this.disconnect=null;}}render(){const{columnId,group,relationships,account}=this.props;const{id}=this.props.params;if(typeof group==='undefined'||!relationships){return/*#__PURE__*/_jsx(Column,{},void 0,/*#__PURE__*/_jsx(LoadingIndicator,{}));}else if(group===false){return/*#__PURE__*/_jsx(Column,{},void 0,/*#__PURE__*/_jsx(MissingIndicator,{}));}const acct=account?account.get('acct'):'';return/*#__PURE__*/_jsx(\"div\",{},void 0,relationships.get('member')&&/*#__PURE__*/_jsx(\"div\",{className:\"timeline-compose-block\"},void 0,/*#__PURE__*/_jsx(Link,{className:\"timeline-compose-block__avatar\",to:\"/@\".concat(acct)},void 0,/*#__PURE__*/_jsx(Avatar,{account:account,size:46})),/*#__PURE__*/_jsx(ComposeFormContainer,{group:group,shouldCondense:true,autoFocus:false})),/*#__PURE__*/_jsx(\"div\",{className:\"group__feed\"},void 0,/*#__PURE__*/_jsx(StatusListContainer,{alwaysPrepend:true,scrollKey:\"group_timeline-\".concat(columnId),timelineId:\"group:\".concat(id),onLoadMore:this.handleLoadMore,group:group,withGroupAdmin:relationships&&relationships.get('admin'),emptyMessage:/*#__PURE__*/_jsx(FormattedMessage,{id:\"empty_column.group\",defaultMessage:\"There is nothing in this group yet. When members of this group make new posts, they will appear here.\"})})));}})||_class)||_class);export{GroupTimeline as default};"],"names":["_class","messages","title","description","coverImage","coverImageChange","update","Edit","state","props","group","getIn","params","id","disabled","dispatch","onTitleChange","value","onDescriptionChange","onCoverImageChange","onSubmit","routerHistory","setUp","_dec","e","target","files","preventDefault","history","componentDidUpdate","prevProps","this","render","intl","className","method","handleSubmit","type","onChange","handleTitleChange","placeholder","formatMessage","handleDescriptionChange","htmlFor","handleCoverImageChange","_class2","_temp","GroupMembers","accountIds","hasMore","args","leading","componentDidMount","scrollKey","onLoadMore","handleLoadMore","emptyMessage","defaultMessage","map","withNote","remove","GroupRemovedAccounts","get","actionIcon","onActionClick","handleOnActionClick","actionTitle","GroupTimeline","me","account","relationships","hasUnread","concat","maxId","disconnect","componentWillUnmount","columnId","acct","to","size","shouldCondense","autoFocus","alwaysPrepend","timelineId","withGroupAdmin"],"sourceRoot":""}