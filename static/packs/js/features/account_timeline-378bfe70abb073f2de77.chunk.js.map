{"version":3,"file":"packs/js/features/account_timeline-378bfe70abb073f2de77.chunk.js","mappings":"8JAAiIA,EAAOC,EAAQC,E,+pBACgyEC,GAAsB,SAA9jD,WAAK,IAAMC,GAAa,UAAm/C,OAA18C,SAACC,EAAM,G,IAACC,EAAM,SAAC,IAAAC,YAAAA,OAAW,OAAM,EAAWC,EAASF,EAAOE,UAAU,GAASC,EAAGJ,EAAMK,IAAI,MAAYC,GAAmBN,EAAMO,MAAM,CAAC,YAAY,EAAE,cAAc,IAAIC,gBAAgBL,EAASK,cAAoBC,GAAc,QAAiBT,GAAaU,GAAS,QAAYV,EAAMK,IAAI,aAAiBM,GAAW,EAAMC,EAAgBT,EAAaU,EAAY,KAAK,GAAGP,EAAmBK,EAAU,SAAU,CAAC,IAAMG,GAAQ,QAAsBd,EAAMG,GAAUQ,EAAUG,EAAQA,EAAQP,MAAM,CAAC,MAAM,OAAO,EAAEK,EAAgBE,EAAQA,EAAQP,MAAM,CAAC,QAAQ,IAAI,GAAGM,EAAYC,EAAQA,EAAQT,IAAI,OAAO,GAAI,IAAMU,EAAKb,EAAY,GAAGc,OAAOL,EAAU,iBAAiBA,EAAgBM,EAAUjB,EAAMO,MAAM,CAAC,gBAAgBI,EAAU,eAAc,GAAaO,EAAYd,IAAKO,GAAgBM,IAAYP,EAASS,gBAAsBC,GAAS,QAAYpB,GAAOO,MAAM,CAAC,mBAAmB,QAAQ,aAAaL,EAAY,MAAM,CAACS,UAAS,EAACO,YAAW,EAACN,gBAAe,EAACC,YAAW,EAACI,UAAS,EAACI,YAAYrB,EAAMO,MAAM,CAAC,WAAWI,IAAYW,UAAUvB,EAAaC,EAAM,CAACuB,KAAK,WAAWP,OAAOD,GAAMS,OAAO,qBAAqBC,kBAAkBL,EAASrB,EAAaC,EAAM,CAACuB,KAAK,WAAWP,OAAOL,EAAU,WAAWa,OAAO,sBAAqB,kBAAsBE,UAAU1B,EAAMO,MAAM,CAAC,YAAY,WAAWS,OAAOD,GAAM,cAAcY,QAAQ3B,EAAMO,MAAM,CAAC,YAAY,WAAWS,OAAOD,GAAM,YAAYX,GAAE,EAACwB,cAAcnB,EAAcF,MAAM,CAAC,aAAa,SAAS,gBAA+FsB,EAAahC,EAAMD,EAAO,YAAsD,a,IAAY,sDAAZ,mBAA8BkC,IAAI,K,OAAE,OAAgB,EAAK,QAAQ,CAACC,WAAU,EAAKC,WAAU,KAAQ,OAAgB,EAAK,kBAAiB,SAAAC,GAAW,EAAKC,MAAMvB,YAAmC,IAAxB,EAAKuB,MAAMvB,WAAgB,EAAKuB,MAAMC,UAAS,QAAsB,EAAKD,MAAMvB,UAAU,CAACsB,MAAK,EAAC/B,YAAY,EAAKgC,MAAMhC,mBAAmB,OAAgB,EAAK,qBAAoB,SAAAkC,GAAIA,EAAEC,kBAAkB,EAAKC,SAAS,CAACP,WAAW,EAAK/B,MAAM+B,UAAUC,WAAU,QAAU,OAAgB,EAAK,uBAAsB,WAAK,EAAKM,SAAS,CAACN,WAAU,O,EAAytG,OAAlvH,OAAqiB,YAAAO,kBAAA,WAAyB,MAAuEC,KAAKN,MAAnE/B,EAAQ,kBAAEQ,EAAS,YAACE,EAAW,cAACX,EAAW,cAACE,EAAE,KAACwB,EAAa,gBAAgBjB,IAAwB,IAAbA,GAAgB6B,KAAKN,MAAMC,UAAS,QAAaxB,IAAeP,GAAGoC,KAAKN,MAAMC,UAAS,QAA2BxB,IAAgBT,GAAasC,KAAKN,MAAMC,UAAS,QAA8BxB,IAAgBiB,GAAef,GAAa2B,KAAKN,MAAMC,UAAS,QAAmBtB,IAAe2B,KAAKN,MAAMC,UAAS,QAAsBxB,EAAU,CAACT,YAAW,MAAUsC,KAAKN,MAAMC,UAAS,QAAuBhC,KAAa,YAAAsC,mBAAA,SAAmBC,GAAgB,MAAuEF,KAAKN,MAAnE/B,EAAQ,kBAAEC,EAAE,KAACO,EAAS,YAACT,EAAW,cAACW,EAAW,cAACe,EAAa,gBAAgBjB,IAAwB,IAAbA,GAAgBA,IAAY+B,EAAU/B,WAAWT,IAAcwC,EAAUxC,aAAasC,KAAKN,MAAMC,UAAS,QAAaxB,IAAeP,GAAGoC,KAAKN,MAAMC,UAAS,QAA2BxB,IAAgBT,GAAasC,KAAKN,MAAMC,UAAS,QAA8BxB,IAAgBiB,GAAef,GAAa2B,KAAKN,MAAMC,UAAS,QAAmBtB,IAAe2B,KAAKN,MAAMC,UAAS,QAAsBxB,EAAU,CAACT,YAAW,MAAaC,GAAUA,IAAWuC,EAAUzC,OAAOE,UAAUqC,KAAKN,MAAMC,UAAS,QAAuBhC,KAAa,YAAAwC,OAAA,WAAc,MAA0GH,KAAKN,MAA9GZ,EAAS,YAACG,EAAiB,oBAACC,EAAS,YAACC,EAAO,UAACV,EAAS,YAACI,EAAS,YAACV,EAAS,YAACO,EAAW,cAACN,EAAe,kBAAa,OAAIS,IAAwB,IAAbV,GAAkH,IAAbA,IAAiBW,GAAWI,GAA8B,OAAK,IAAO,QAAG,GAAoB,OAAK,IAAiB,KAASR,GAAgC,OAAK,IAAO,QAAG,GAAoB,OAAK,MAAM,CAAC0B,UAAU,+BAA0B,EAAO3B,GAAuB,OAAK,IAAiB,CAAC4B,GAAG,+BAA+BC,eAAe,yCAAyCC,OAAO,CAACnC,gBAAgBA,MAAgC,OAAK,IAAiB,CAACiC,GAAG,mCAAmCC,eAAe,2BAA8C,OAAK,IAAO,CAACF,UAAU,mBAAmBI,aAAY,QAAM,GAAoB,OAAK,IAAc,CAACC,QAAQ,IAAIjC,OAAOJ,MAAsE,OAAK,MAAM,CAACgC,UAAU,kCAA6B,GAAoB,OAAK,KAAQ,CAACM,OAAM,EAAKC,GAAG,KAAKnC,OAAOJ,SAAkB,GAAoB,OAAK,IAAiB,CAACiC,GAAG,gBAAgBC,eAAe,YAAwB,OAAK,KAAQ,CAACI,OAAM,EAAKC,GAAG,KAAKnC,OAAOJ,EAAgB,uBAAkB,GAAoB,OAAK,IAAiB,CAACiC,GAAG,6BAA6BC,eAAe,wBAAoC,OAAK,KAAQ,CAACI,OAAM,EAAKC,GAAG,KAAKnC,OAAOJ,EAAgB,gBAAW,GAAoB,OAAK,IAAiB,CAACiC,GAAG,gBAAgBC,eAAe,YAAwB,OAAK,MAAM,CAACF,UAAU,+BAA0B,GAAoB,OAAK,SAAS,CAACQ,QAAQZ,KAAKa,wBAAmB,GAAoB,OAAK,IAAK,CAACR,GAAG,gBAA4B,OAAK,IAAW,CAACS,UAAU,mBAAmBhC,UAAUA,EAAUG,kBAAkBA,EAAkBC,UAAUA,EAAUC,QAAQA,EAAQ4B,WAAWf,KAAKgB,eAAeC,cAA0B,OAAK,IAAiB,CAACZ,GAAG,gCAAgCC,eAAe,uBAAl0D,OAAK,IAAO,QAAG,GAAoB,OAAK,IAAiB,MAAgyD,EAAjxH,CAA+B,OAAovH,OAAgBlD,EAAQ,YAAY,CAACK,OAAO,sBAA4BkC,SAAS,oBAA0Bb,UAAU,eAA8BG,kBAAkB,eAA8BC,UAAU,SAAeC,QAAQ,SAAezB,YAAY,SAAemB,UAAU,SAAeH,YAAY,WAA3lIvB,EAA4mIE,KAASF,G,wECDxiNA,E,iqBAAsN+D,GAAS,QAAe,CAACC,UAAU,CAAC,GAAK,oBAAoB,eAAiB,aAAaC,QAAQ,CAAC,GAAK,kBAAkB,eAAiB,aAAiBC,GAAa,EAAAC,EAAA,IAAWnE,EAAM,YAAC,a,+CAAqiC,OAA1gC,OAAoB,YAAAgD,OAAA,WAAc,MAAiBH,KAAKN,MAArB6B,EAAI,OAACnB,EAAS,YAAmB9B,EAAS0B,KAAKN,MAAK,QAAC,IAAIpB,EAAS,OAAO,KAAM,IAAMkD,EAAKlD,EAAQT,IAAI,QAAQ,OAAmB,OAAK,MAAM,CAACuC,UAAU,IAAW,gBAAgBA,SAAY,GAAoB,OAAK,KAAQ,CAACA,UAAU,eAAeO,GAAG,KAAKnC,OAAOgD,EAAK,cAAcZ,QAAQZ,KAAKyB,YAAYC,MAAMH,EAAKI,aAAarD,EAAQT,IAAI,0BAAqB,GAAoB,OAAK,SAAS,CAACuC,UAAU,4BAAuB,GAAO,QAAkB9B,EAAQT,IAAI,sBAAkC,OAAK,OAAO,CAACuC,UAAU,4BAAuB,EAAOmB,EAAKK,cAAcV,EAASC,cAA0B,OAAK,KAAQ,CAACf,UAAU,eAAeO,GAAG,KAAKnC,OAAOgD,EAAK,cAAcZ,QAAQZ,KAAKyB,YAAYC,MAAMH,EAAKI,aAAarD,EAAQT,IAAI,0BAAqB,GAAoB,OAAK,SAAS,CAACuC,UAAU,4BAAuB,GAAO,QAAkB9B,EAAQT,IAAI,sBAAkC,OAAK,OAAO,CAACuC,UAAU,4BAAuB,EAAOmB,EAAKK,cAAcV,EAASE,aAAa,EAAtiC,CAA4B,mBAA8gCjE,E,0dCAtb0E,EAAa,iBAAuBC,EAAU,SAAAC,GAAO,OAACA,EAAMC,MAAMH,IAAe,IAAI,IAAyD,GAAS,QAAe,CAACI,eAAe,CAAC,GAAK,2BAA2B,eAAiB,gDAAgDC,eAAe,CAAC,GAAK,sBAAsB,eAAiB,iGAAiGC,YAAY,CAAC,GAAK,sBAAsB,eAAiB,eAAeC,IAAI,CAAC,GAAK,qBAAqB,eAAiB,SAAeC,EAAkB,CAACC,MAAM,QAAQC,IAAI,UAAUC,KAAK,UAAUC,QAAO,EAAMC,KAAK,UAAUC,OAAO,WAAW,cAAsD,a,IAAY,sDAAZ,mBAA8BrD,IAAI,K,OAAE,OAAgB,EAAK,iBAAgB,WAAW,IAAAhB,EAAS,EAAKoB,MAAK,QAAC,OAAG,QAAQpB,IAA6B,OAAK,IAAM,CAACsE,KAAK,QAAQlB,MAAM,SAAS,UAAkB,QAAYpD,IAA6B,OAAK,IAAM,CAACsE,KAAK,YAAYlB,MAAM,aAAa,SAAsB,SAAS,OAAgB,EAAK,aAAY,WAAW,IAAApD,EAAS,EAAKoB,MAAK,QAAOmD,EAAW,EAAKC,gBAAsBC,EAASzE,EAAQP,MAAM,CAAC,SAAS,cAAoBiF,EAAO,GAAuI,OAAjIH,GAAYG,EAAOC,KAAKJ,GAAgBE,GAAUC,EAAOC,MAAkB,OAAK,IAAM,CAACL,KAAK,SAASlB,MAAM,UAAU,WAAmBsB,MAAU,OAAgB,EAAK,eAAc,WAAU,MAAe,EAAKtD,MAAnBpB,EAAO,UAACiD,EAAI,OAAmB2B,EAAS5E,EAAQT,IAAI,YAAY,IAAIqF,EAAS,OAAO,KAAK,IAAMC,EAAkB5B,EAAK6B,WAAWF,EAAS,CAACG,SAAS,MAAMd,IAAI,UAAUD,MAAM,OAAOE,KAAK,YAAkBc,EAAK,IAAIC,KAAKL,GAAgBM,EAAM,IAAID,KAA8F,OAArED,EAAKG,YAAYD,EAAMC,WAAWH,EAAKI,aAAaF,EAAME,YAA8C,OAAK,MAAM,CAACtD,UAAU,uCAAuCsB,MAAMyB,QAAmB,GAAoB,OAAK,IAAK,CAACQ,IAAI,EAAQ,QAAiD,OAAK,IAAiB,CAACtD,GAAG,yBAAyBC,eAAe,yBAA4C,OAAK,MAAM,CAACF,UAAU,6CAAwC,GAAoB,OAAK,IAAK,CAACuD,IAAI,EAAQ,QAAiD,OAAK,IAAiB,CAACtD,GAAG,mBAAmBC,eAAe,cAAcC,OAAO,CAAC+C,KAAKH,UAAyB,OAAgB,EAAK,kBAAiB,SAAAvD,GAAS,MAAqB,EAAKF,MAAzBpB,EAAO,UAACsF,EAAU,aAAahE,EAAEiE,iBAAiBD,EAAWtF,M,EAAyqJ,OAA53M,OAAguD,YAAA6B,OAAA,WAAc,MAAmDH,KAAKN,MAAvDpB,EAAO,UAACwF,EAAU,aAACvC,EAAI,OAACwC,EAAe,kBAACpG,EAAQ,WAAa,IAAIW,EAAS,OAAmB,OAAK,MAAM,CAAC8B,UAAU,2BAAsB,GAAoB,OAAK,MAAM,CAACA,UAAU,oCAA+B,GAAoB,OAAK,MAAM,CAACA,UAAU,yCAAoC,GAAoB,OAAK,KAAK,QAAG,GAAoB,OAAK,OAAO,KAAiB,OAAK,QAAQ,QAAG,EAAO,IAAIzC,OAAe,IAAMqG,EAAQ,CAACC,OAAO3F,EAAQT,IAAI,mBAAyBqG,EAAO5F,EAAQT,IAAI,UAAgBsE,GAAa7D,EAAQP,MAAM,CAAC,UAAU,cAAa,GAAYoG,EAAgBhC,EAAY,CAAC8B,OAAO1C,EAAKK,cAAc,EAASO,cAAc,CAAC8B,OAAO3F,EAAQT,IAAI,sBAA4BuG,EAAgB7C,EAAK6B,WAAW9E,EAAQT,IAAI,cAAc,CAACyE,MAAM,OAAOE,KAAK,YAAkB6B,EAAS/F,EAAQT,IAAI,YAAkBmF,EAAOhD,KAAKsE,YAAY,OAAmB,OAAK,MAAM,CAAClE,UAAU,IAAW,qBAAqB,CAAC,YAAc+B,UAAe,GAAoB,OAAK,MAAM,CAAC/B,UAAU,oCAA+B,GAAoB,OAAK,MAAM,CAACA,UAAU,yCAAoC,GAAoB,OAAK,KAAK,QAAG,GAAoB,OAAK,OAAO,CAACmE,wBAAwBJ,EAAgB/D,UAAU,qCAAqCiE,IAAuB,OAAK,IAAkB,IAAI/F,EAAQT,IAAI,SAAqB,OAAK,IAAM,CAAC+E,KAAK,MAAMlB,MAAMH,EAAKK,cAAc,EAASQ,QAAoB,OAAK,QAAQ,QAAG,EAAO,KAAI,QAAQ9D,EAAQwF,GAAYxF,EAAQT,IAAI,YAAwB,OAAK,IAAK,CAAC8F,IAAI,EAAQ,IAAgCjC,MAAMH,EAAKK,cAAc,EAASM,qBAAqBc,EAAOwB,OAAO,IAAgB,OAAK,MAAM,CAACpE,UAAU,2CAAsC,EAAO4C,IAAqB,OAAK,MAAM,CAAC5C,UAAU,gDAA2C,GAAoB,OAAK,IAAiB,CAACC,GAAG,kCAAkCC,eAAe,wCAAwChC,EAAQT,IAAI,QAAQ2G,OAAO,GAAyB,YAAtBlG,EAAQT,IAAI,UAAkC,OAAK,MAAM,CAACuC,UAAU,kCAAkCmE,wBAAwBP,KAAU,QAAQ1F,KAAuB,OAAK,MAAM,CAAC8B,UAAU,8CAAyC,GAAoB,OAAK,IAAK,CAACuD,IAAI,EAAQ,SAAmD,OAAK,IAAiB,CAACtD,GAAG,uBAAuBC,eAAe,gBAAgBC,OAAO,CAAC+C,KAAKc,MAAoBpE,KAAKyE,cAAcnG,EAAQT,IAAI,cAA0B,OAAK,MAAM,CAACuC,UAAU,6CAAwC,GAAoB,OAAK,IAAK,CAACuD,IAAI,EAAQ,QAAqCrF,EAAQT,IAAI,eAAeS,EAAQP,MAAM,CAAC,eAAe,WAAuB,OAAK,IAAI,CAAC2G,KAAK,IAAItE,UAAU,mCAAmCQ,QAAQZ,KAAK2E,qBAAgB,GAAoB,OAAK,IAAK,CAAChB,IAAI,EAAQ,QAA+C,OAAK,IAAiB,CAACtD,GAAG,oBAAoBC,eAAe,gBAA4B,OAAKe,EAAa,CAACjB,UAAU,oCAAoC9B,QAAQA,KAAW4F,EAAOU,KAAK,GAAGb,EAAgBa,KAAK,KAAiB,OAAK,MAAM,CAACxE,UAAU,2CAAsC,EAAO2D,EAAgBc,KAAI,SAACC,EAAMC,GAAiB,cAAK,KAAK,CAAC3E,UAAU,QAAQ2E,GAAe,OAAK,KAAK,CAACR,wBAAwB,CAACN,OAAOa,EAAMjH,IAAI,gBAA4B,OAAK,KAAK,CAACuC,UAAU,iBAAY,GAAoB,OAAK,IAAI,CAACsE,KAAKI,EAAMjH,IAAI,aAAamH,OAAO,SAASC,IAAI,iBAAY,GAAoB,OAAK,OAAO,CAACvD,MAAMH,EAAKK,cAAc,EAASK,eAAe,CAACqB,KAAK/B,EAAK6B,WAAW0B,EAAMjH,IAAI,cAAcwE,WAAsB,GAAoB,OAAK,IAAK,CAAChC,GAAG,QAAQD,UAAU,sBAAkC,OAAK,IAAI,CAACsE,KAAKI,EAAMjH,IAAI,eAAemH,OAAO,SAASC,IAAI,iBAAY,GAAoB,OAAK,OAAO,CAACV,wBAAwB,CAACN,OAAO,IAAIa,EAAMjH,IAAI,8BAA4BqG,EAAOW,KAAI,SAACK,EAAKH,GAAI,OAAhoMhD,EAAyoMmD,EAAKrH,IAAI,OAAO,IAAlpMsH,QAAQrD,EAAUC,KAAkpM,OAAK,IAAgB,CAACqD,eAAe,MAAeL,GAAE,SAAAM,GAAwB,cAAKA,EAAU,CAACC,OAAOxD,EAAUoD,EAAKrH,IAAI,SAASG,cAAcuH,QAAQL,EAAKrH,IAAI,gBAAgBkH,OAAiB,OAAK,KAAK,CAAC3E,UAAU,4CAA4C2E,GAAe,OAAK,KAAK,CAACR,wBAAwB,CAACN,OAAOiB,EAAKrH,IAAI,mBAAmB6D,MAAMwD,EAAKrH,IAAI,WAAuB,OAAK,KAAK,CAACuC,UAAU8E,EAAKrH,IAAI,gBAAgB,WAAW6D,MAAMwD,EAAKrH,IAAI,qBAAgB,EAAOqH,EAAKrH,IAAI,iBAA6B,OAAK,OAAO,CAAC6D,MAAMH,EAAKK,cAAc,EAASK,eAAe,CAACqB,KAAK/B,EAAK6B,WAAW8B,EAAKrH,IAAI,eAAewE,WAAsB,GAAoB,OAAK,IAAK,CAAChC,GAAG,QAAQD,UAAU,oBAAoB,KAAiB,OAAK,OAAO,CAACmE,wBAAwB,CAACN,OAAOiB,EAAKrH,IAAI,wBAA/7N,IAAAkE,SAA49N,EAA35M,CAA+B,OAA63M,OAAgByD,EAAiB,YAAY,CAAClH,QAAQ,QAAuByF,gBAAgB,SAAwBxC,KAAK,sBAA4B5D,SAAS,WAAiBmG,WAAW,SAAeF,WAAW,WAAiB,IAA6V,GAAe,EAAAtC,EAAA,KAAW,SAAjW,SAAC9D,EAAM,G,IAACc,EAAO,UAAsH,MAAM,CAACyF,gBAAlGzF,EAAQd,EAAMO,MAAM,CAAC,kBAAkBO,EAAQT,IAAI,QAAO,cAAiB,YAAuC4H,OAAOjI,EAAMO,MAAM,CAAC,OAAO,WAAW+F,YAAW,QAAWtG,OAAmC,SAAAmC,GAAU,OAAEiE,WAAU,SAACtF,GAASqB,GAAS,QAAqBrB,QAAmF,KAAK,CAACoH,YAAW,GAA5D,CAAmEF,K","sources":["webpack://soapbox-fe/./app/soapbox/features/account_timeline/index.js","webpack://soapbox-fe/./app/soapbox/features/ui/components/profile_stats.js","webpack://soapbox-fe/./app/soapbox/features/ui/components/profile_info_panel.js"],"sourcesContent":["import _jsx from\"@babel/runtime/helpers/esm/jsx\";import _defineProperty from\"@babel/runtime/helpers/esm/defineProperty\";var _dec,_class,_class2,_temp;import\"core-js/modules/web.dom-collections.iterator.js\";import{OrderedSet as ImmutableOrderedSet}from'immutable';import PropTypes from'prop-types';import React from'react';import ImmutablePropTypes from'react-immutable-proptypes';import ImmutablePureComponent from'react-immutable-pure-component';import{FormattedMessage}from'react-intl';import{connect}from'react-redux';// import ColumnSettingsContainer from './containers/column_settings_container';\nimport{NavLink}from'react-router-dom';import{getSettings}from'soapbox/actions/settings';import{getSoapboxConfig}from'soapbox/actions/soapbox';import Column from'soapbox/components/column';import Icon from'soapbox/components/icon';import MissingIndicator from'soapbox/components/missing_indicator';import SubNavigation from'soapbox/components/sub_navigation';import{makeGetStatusIds,findAccountByUsername}from'soapbox/selectors';import{getFeatures}from'soapbox/utils/features';import{fetchAccount,fetchAccountByUsername}from'../../actions/accounts';import{fetchAccountIdentityProofs}from'../../actions/identity_proofs';import{fetchPatronAccount}from'../../actions/patron';import{expandAccountFeaturedTimeline,expandAccountTimeline}from'../../actions/timelines';import LoadingIndicator from'../../components/loading_indicator';import StatusList from'../../components/status_list';const makeMapStateToProps=()=>{const getStatusIds=makeGetStatusIds();const mapStateToProps=(state,{params,withReplies=false})=>{const username=params.username||'';const me=state.get('me');const accountFetchError=(state.getIn(['accounts',-1,'username'])||'').toLowerCase()===username.toLowerCase();const soapboxConfig=getSoapboxConfig(state);const features=getFeatures(state.get('instance'));let accountId=-1;let accountUsername=username;let accountApId=null;if(accountFetchError){accountId=null;}else{const account=findAccountByUsername(state,username);accountId=account?account.getIn(['id'],null):-1;accountUsername=account?account.getIn(['acct'],''):'';accountApId=account?account.get('url'):'';}const path=withReplies?\"\".concat(accountId,\":with_replies\"):accountId;const isBlocked=state.getIn(['relationships',accountId,'blocked_by'],false);const unavailable=me===accountId?false:isBlocked&&!features.blockersVisible;const showPins=getSettings(state).getIn(['account_timeline','shows','pinned'])&&!withReplies;return{accountId,unavailable,accountUsername,accountApId,isBlocked,isAccount:!!state.getIn(['accounts',accountId]),statusIds:getStatusIds(state,{type:\"account:\".concat(path),prefix:'account_timeline'}),featuredStatusIds:showPins?getStatusIds(state,{type:\"account:\".concat(accountId,\":pinned\"),prefix:'account_timeline'}):ImmutableOrderedSet(),isLoading:state.getIn(['timelines',\"account:\".concat(path),'isLoading']),hasMore:state.getIn(['timelines',\"account:\".concat(path),'hasMore']),me,patronEnabled:soapboxConfig.getIn(['extensions','patron','enabled'])};};return mapStateToProps;};let AccountTimeline=(_dec=connect(makeMapStateToProps),_dec(_class=(_temp=_class2=class AccountTimeline extends ImmutablePureComponent{constructor(...args){super(...args);_defineProperty(this,\"state\",{collapsed:true,animating:false});_defineProperty(this,\"handleLoadMore\",maxId=>{if(this.props.accountId&&this.props.accountId!==-1){this.props.dispatch(expandAccountTimeline(this.props.accountId,{maxId,withReplies:this.props.withReplies}));}});_defineProperty(this,\"handleToggleClick\",e=>{e.stopPropagation();this.setState({collapsed:!this.state.collapsed,animating:true});});_defineProperty(this,\"handleTransitionEnd\",()=>{this.setState({animating:false});});}componentDidMount(){const{params:{username},accountId,accountApId,withReplies,me,patronEnabled}=this.props;if(accountId&&accountId!==-1){this.props.dispatch(fetchAccount(accountId));if(me)this.props.dispatch(fetchAccountIdentityProofs(accountId));if(!withReplies){this.props.dispatch(expandAccountFeaturedTimeline(accountId));}if(patronEnabled&&accountApId){this.props.dispatch(fetchPatronAccount(accountApId));}this.props.dispatch(expandAccountTimeline(accountId,{withReplies}));}else{this.props.dispatch(fetchAccountByUsername(username));}}componentDidUpdate(prevProps){const{params:{username},me,accountId,withReplies,accountApId,patronEnabled}=this.props;if(accountId&&accountId!==-1&&accountId!==prevProps.accountId||withReplies!==prevProps.withReplies){this.props.dispatch(fetchAccount(accountId));if(me)this.props.dispatch(fetchAccountIdentityProofs(accountId));if(!withReplies){this.props.dispatch(expandAccountFeaturedTimeline(accountId));}if(patronEnabled&&accountApId){this.props.dispatch(fetchPatronAccount(accountApId));}this.props.dispatch(expandAccountTimeline(accountId,{withReplies}));}else if(username&&username!==prevProps.params.username){this.props.dispatch(fetchAccountByUsername(username));}}render(){const{statusIds,featuredStatusIds,isLoading,hasMore,isBlocked,isAccount,accountId,unavailable,accountUsername}=this.props;if(!isAccount&&accountId!==-1){return/*#__PURE__*/_jsx(Column,{},void 0,/*#__PURE__*/_jsx(MissingIndicator,{}));}if(accountId===-1||!statusIds&&isLoading){return/*#__PURE__*/_jsx(Column,{},void 0,/*#__PURE__*/_jsx(LoadingIndicator,{}));}if(unavailable){return/*#__PURE__*/_jsx(Column,{},void 0,/*#__PURE__*/_jsx(\"div\",{className:\"empty-column-indicator\"},void 0,isBlocked?/*#__PURE__*/_jsx(FormattedMessage,{id:\"empty_column.account_blocked\",defaultMessage:\"You are blocked by @{accountUsername}.\",values:{accountUsername:accountUsername}}):/*#__PURE__*/_jsx(FormattedMessage,{id:\"empty_column.account_unavailable\",defaultMessage:\"Profile unavailable\"})));}return/*#__PURE__*/_jsx(Column,{className:\"account-timeline\",transparent:true},void 0,/*#__PURE__*/_jsx(SubNavigation,{message:\"@\".concat(accountUsername)/*settings={ColumnSettingsContainer}*/}),/*#__PURE__*/_jsx(\"div\",{className:\"account__section-headline\"},void 0,/*#__PURE__*/_jsx(NavLink,{exact:true,to:\"/@\".concat(accountUsername)},void 0,/*#__PURE__*/_jsx(FormattedMessage,{id:\"account.posts\",defaultMessage:\"Posts\"})),/*#__PURE__*/_jsx(NavLink,{exact:true,to:\"/@\".concat(accountUsername,\"/with_replies\")},void 0,/*#__PURE__*/_jsx(FormattedMessage,{id:\"account.posts_with_replies\",defaultMessage:\"Posts and replies\"})),/*#__PURE__*/_jsx(NavLink,{exact:true,to:\"/@\".concat(accountUsername,\"/media\")},void 0,/*#__PURE__*/_jsx(FormattedMessage,{id:\"account.media\",defaultMessage:\"Media\"})),/*#__PURE__*/_jsx(\"div\",{className:\"column-header__buttons\"},void 0,/*#__PURE__*/_jsx(\"button\",{onClick:this.handleToggleClick},void 0,/*#__PURE__*/_jsx(Icon,{id:\"sliders\"})))),/*#__PURE__*/_jsx(StatusList,{scrollKey:\"account_timeline\",statusIds:statusIds,featuredStatusIds:featuredStatusIds,isLoading:isLoading,hasMore:hasMore,onLoadMore:this.handleLoadMore,emptyMessage:/*#__PURE__*/_jsx(FormattedMessage,{id:\"empty_column.account_timeline\",defaultMessage:\"No posts here!\"})}));}},_defineProperty(_class2,\"propTypes\",{params:PropTypes.object.isRequired,dispatch:PropTypes.func.isRequired,statusIds:ImmutablePropTypes.orderedSet,featuredStatusIds:ImmutablePropTypes.orderedSet,isLoading:PropTypes.bool,hasMore:PropTypes.bool,withReplies:PropTypes.bool,isAccount:PropTypes.bool,unavailable:PropTypes.bool}),_temp))||_class);export{AccountTimeline as default};","import _jsx from\"@babel/runtime/helpers/esm/jsx\";var _class;import classNames from'classnames';import React from'react';import{injectIntl,defineMessages}from'react-intl';import{NavLink}from'react-router-dom';import{shortNumberFormat}from'soapbox/utils/numbers';const messages=defineMessages({followers:{\"id\":\"account.followers\",\"defaultMessage\":\"Followers\"},follows:{\"id\":\"account.follows\",\"defaultMessage\":\"Follows\"}});let ProfileStats=injectIntl(_class=class ProfileStats extends React.PureComponent{render(){const{intl,className}=this.props;const{account}=this.props;if(!account){return null;}const acct=account.get('acct');return/*#__PURE__*/_jsx(\"div\",{className:classNames('profile-stats',className)},void 0,/*#__PURE__*/_jsx(NavLink,{className:\"profile-stat\",to:\"/@\".concat(acct,\"/followers\"),onClick:this.handleClose,title:intl.formatNumber(account.get('followers_count'))},void 0,/*#__PURE__*/_jsx(\"strong\",{className:\"profile-stat__value\"},void 0,shortNumberFormat(account.get('followers_count'))),/*#__PURE__*/_jsx(\"span\",{className:\"profile-stat__label\"},void 0,intl.formatMessage(messages.followers))),/*#__PURE__*/_jsx(NavLink,{className:\"profile-stat\",to:\"/@\".concat(acct,\"/following\"),onClick:this.handleClose,title:intl.formatNumber(account.get('following_count'))},void 0,/*#__PURE__*/_jsx(\"strong\",{className:\"profile-stat__value\"},void 0,shortNumberFormat(account.get('following_count'))),/*#__PURE__*/_jsx(\"span\",{className:\"profile-stat__label\"},void 0,intl.formatMessage(messages.follows))));}})||_class;export{ProfileStats as default};","'use strict';import _jsx from\"@babel/runtime/helpers/esm/jsx\";import _defineProperty from\"@babel/runtime/helpers/esm/defineProperty\";import\"core-js/modules/web.dom-collections.iterator.js\";import classNames from'classnames';import{List as ImmutableList}from'immutable';import PropTypes from'prop-types';import React from'react';import ImmutablePropTypes from'react-immutable-proptypes';import ImmutablePureComponent from'react-immutable-pure-component';import{defineMessages,injectIntl,FormattedMessage}from'react-intl';import{connect}from'react-redux';import{initAccountNoteModal}from'soapbox/actions/account_notes';import Badge from'soapbox/components/badge';import Icon from'soapbox/components/icon';import VerificationBadge from'soapbox/components/verification_badge';import BundleContainer from'soapbox/features/ui/containers/bundle_container';import{CryptoAddress}from'soapbox/features/ui/util/async-components';import{getAcct,isAdmin,isModerator,isLocal}from'soapbox/utils/accounts';import{displayFqn}from'soapbox/utils/state';import ProfileStats from'./profile_stats';const TICKER_REGEX=/\\$([a-zA-Z]*)/i;const getTicker=value=>(value.match(TICKER_REGEX)||[])[1];const isTicker=value=>Boolean(getTicker(value));const messages=defineMessages({linkVerifiedOn:{\"id\":\"account.link_verified_on\",\"defaultMessage\":\"Ownership of this link was checked on {date}\"},account_locked:{\"id\":\"account.locked_info\",\"defaultMessage\":\"This account privacy status is set to locked. The owner manually reviews who can follow them.\"},deactivated:{\"id\":\"account.deactivated\",\"defaultMessage\":\"Deactivated\"},bot:{\"id\":\"account.badges.bot\",\"defaultMessage\":\"Bot\"}});const dateFormatOptions={month:'short',day:'numeric',year:'numeric',hour12:false,hour:'2-digit',minute:'2-digit'};class ProfileInfoPanel extends ImmutablePureComponent{constructor(...args){super(...args);_defineProperty(this,\"getStaffBadge\",()=>{const{account}=this.props;if(isAdmin(account)){return/*#__PURE__*/_jsx(Badge,{slug:\"admin\",title:\"Admin\"},\"staff\");}else if(isModerator(account)){return/*#__PURE__*/_jsx(Badge,{slug:\"moderator\",title:\"Moderator\"},\"staff\");}else{return null;}});_defineProperty(this,\"getBadges\",()=>{const{account}=this.props;const staffBadge=this.getStaffBadge();const isPatron=account.getIn(['patron','is_patron']);const badges=[];if(staffBadge){badges.push(staffBadge);}if(isPatron){badges.push(/*#__PURE__*/_jsx(Badge,{slug:\"patron\",title:\"Patron\"},\"patron\"));}return badges;});_defineProperty(this,\"getBirthday\",()=>{const{account,intl}=this.props;const birthday=account.get('birthday');if(!birthday)return null;const formattedBirthday=intl.formatDate(birthday,{timeZone:'UTC',day:'numeric',month:'long',year:'numeric'});const date=new Date(birthday);const today=new Date();const hasBirthday=date.getDate()===today.getDate()&&date.getMonth()===today.getMonth();if(hasBirthday){return/*#__PURE__*/_jsx(\"div\",{className:\"profile-info-panel-content__birthday\",title:formattedBirthday},void 0,/*#__PURE__*/_jsx(Icon,{src:require('@tabler/icons/icons/ballon.svg')}),/*#__PURE__*/_jsx(FormattedMessage,{id:\"account.birthday_today\",defaultMessage:\"Birthday is today!\"}));}return/*#__PURE__*/_jsx(\"div\",{className:\"profile-info-panel-content__birthday\"},void 0,/*#__PURE__*/_jsx(Icon,{src:require('@tabler/icons/icons/ballon.svg')}),/*#__PURE__*/_jsx(FormattedMessage,{id:\"account.birthday\",defaultMessage:\"Born {date}\",values:{date:formattedBirthday}}));});_defineProperty(this,\"handleShowNote\",e=>{const{account,onShowNote}=this.props;e.preventDefault();onShowNote(account);});}render(){const{account,displayFqn,intl,identity_proofs,username}=this.props;if(!account){return/*#__PURE__*/_jsx(\"div\",{className:\"profile-info-panel\"},void 0,/*#__PURE__*/_jsx(\"div\",{className:\"profile-info-panel__content\"},void 0,/*#__PURE__*/_jsx(\"div\",{className:\"profile-info-panel-content__name\"},void 0,/*#__PURE__*/_jsx(\"h1\",{},void 0,/*#__PURE__*/_jsx(\"span\",{}),/*#__PURE__*/_jsx(\"small\",{},void 0,\"@\",username)))));}const content={__html:account.get('note_emojified')};const fields=account.get('fields');const deactivated=!account.getIn(['pleroma','is_active'],true);const displayNameHtml=deactivated?{__html:intl.formatMessage(messages.deactivated)}:{__html:account.get('display_name_html')};const memberSinceDate=intl.formatDate(account.get('created_at'),{month:'long',year:'numeric'});const verified=account.get('verified');const badges=this.getBadges();return/*#__PURE__*/_jsx(\"div\",{className:classNames('profile-info-panel',{'deactivated':deactivated})},void 0,/*#__PURE__*/_jsx(\"div\",{className:\"profile-info-panel__content\"},void 0,/*#__PURE__*/_jsx(\"div\",{className:\"profile-info-panel-content__name\"},void 0,/*#__PURE__*/_jsx(\"h1\",{},void 0,/*#__PURE__*/_jsx(\"span\",{dangerouslySetInnerHTML:displayNameHtml,className:\"profile-info-panel__name-content\"}),verified&&/*#__PURE__*/_jsx(VerificationBadge,{}),account.get('bot')&&/*#__PURE__*/_jsx(Badge,{slug:\"bot\",title:intl.formatMessage(messages.bot)}),/*#__PURE__*/_jsx(\"small\",{},void 0,\"@\",getAcct(account,displayFqn),account.get('locked')&&/*#__PURE__*/_jsx(Icon,{src:require('@tabler/icons/icons/lock.svg'),title:intl.formatMessage(messages.account_locked)})))),badges.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"profile-info-panel-content__badges\"},void 0,badges),/*#__PURE__*/_jsx(\"div\",{className:\"profile-info-panel-content__deactivated\"},void 0,/*#__PURE__*/_jsx(FormattedMessage,{id:\"account.deactivated_description\",defaultMessage:\"This account has been deactivated.\"})),account.get('note').length>0&&account.get('note')!=='<p></p>'&&/*#__PURE__*/_jsx(\"div\",{className:\"profile-info-panel-content__bio\",dangerouslySetInnerHTML:content}),isLocal(account)&&/*#__PURE__*/_jsx(\"div\",{className:\"profile-info-panel-content__join-date\"},void 0,/*#__PURE__*/_jsx(Icon,{src:require('@tabler/icons/icons/calendar.svg')}),/*#__PURE__*/_jsx(FormattedMessage,{id:\"account.member_since\",defaultMessage:\"Joined {date}\",values:{date:memberSinceDate}})),this.getBirthday(),account.get('location')&&/*#__PURE__*/_jsx(\"div\",{className:\"profile-info-panel-content__location\"},void 0,/*#__PURE__*/_jsx(Icon,{src:require('@tabler/icons/icons/map-pin.svg')}),account.get('location')),!!account.getIn(['relationship','note'])&&/*#__PURE__*/_jsx(\"a\",{href:\"#\",className:\"profile-info-panel-content__note\",onClick:this.handleShowNote},void 0,/*#__PURE__*/_jsx(Icon,{src:require('@tabler/icons/icons/note.svg')}),/*#__PURE__*/_jsx(FormattedMessage,{id:\"account.show_note\",defaultMessage:\"Show note\"})),/*#__PURE__*/_jsx(ProfileStats,{className:\"profile-info-panel-content__stats\",account:account}),(fields.size>0||identity_proofs.size>0)&&/*#__PURE__*/_jsx(\"div\",{className:\"profile-info-panel-content__fields\"},void 0,identity_proofs.map((proof,i)=>/*#__PURE__*/_jsx(\"dl\",{className:\"test\"},i,/*#__PURE__*/_jsx(\"dt\",{dangerouslySetInnerHTML:{__html:proof.get('provider')}}),/*#__PURE__*/_jsx(\"dd\",{className:\"verified\"},void 0,/*#__PURE__*/_jsx(\"a\",{href:proof.get('proof_url'),target:\"_blank\",rel:\"noopener\"},void 0,/*#__PURE__*/_jsx(\"span\",{title:intl.formatMessage(messages.linkVerifiedOn,{date:intl.formatDate(proof.get('updated_at'),dateFormatOptions)})},void 0,/*#__PURE__*/_jsx(Icon,{id:\"check\",className:\"verified__mark\"}))),/*#__PURE__*/_jsx(\"a\",{href:proof.get('profile_url'),target:\"_blank\",rel:\"noopener\"},void 0,/*#__PURE__*/_jsx(\"span\",{dangerouslySetInnerHTML:{__html:' '+proof.get('provider_username')}}))))),fields.map((pair,i)=>isTicker(pair.get('name',''))?/*#__PURE__*/_jsx(BundleContainer,{fetchComponent:CryptoAddress},i,Component=>/*#__PURE__*/_jsx(Component,{ticker:getTicker(pair.get('name')).toLowerCase(),address:pair.get('value_plain')},i)):/*#__PURE__*/_jsx(\"dl\",{className:\"profile-info-panel-content__fields__item\"},i,/*#__PURE__*/_jsx(\"dt\",{dangerouslySetInnerHTML:{__html:pair.get('name_emojified')},title:pair.get('name')}),/*#__PURE__*/_jsx(\"dd\",{className:pair.get('verified_at')&&'verified',title:pair.get('value_plain')},void 0,pair.get('verified_at')&&/*#__PURE__*/_jsx(\"span\",{title:intl.formatMessage(messages.linkVerifiedOn,{date:intl.formatDate(pair.get('verified_at'),dateFormatOptions)})},void 0,/*#__PURE__*/_jsx(Icon,{id:\"check\",className:\"verified__mark\"})),\" \",/*#__PURE__*/_jsx(\"span\",{dangerouslySetInnerHTML:{__html:pair.get('value_emojified')}})))))));}}_defineProperty(ProfileInfoPanel,\"propTypes\",{account:ImmutablePropTypes.map,identity_proofs:ImmutablePropTypes.list,intl:PropTypes.object.isRequired,username:PropTypes.string,displayFqn:PropTypes.bool,onShowNote:PropTypes.func});const mapStateToProps=(state,{account})=>{const identity_proofs=account?state.getIn(['identity_proofs',account.get('id')],ImmutableList()):ImmutableList();return{identity_proofs,domain:state.getIn(['meta','domain']),displayFqn:displayFqn(state)};};const mapDispatchToProps=dispatch=>({onShowNote(account){dispatch(initAccountNoteModal(account));}});export default injectIntl(connect(mapStateToProps,mapDispatchToProps,null,{forwardRef:true})(ProfileInfoPanel));"],"names":["_class","_class2","_temp","AccountTimeline","getStatusIds","state","params","withReplies","username","me","get","accountFetchError","getIn","toLowerCase","soapboxConfig","features","accountId","accountUsername","accountApId","account","path","concat","isBlocked","unavailable","blockersVisible","showPins","isAccount","statusIds","type","prefix","featuredStatusIds","isLoading","hasMore","patronEnabled","_dec","args","collapsed","animating","maxId","props","dispatch","e","stopPropagation","setState","componentDidMount","this","componentDidUpdate","prevProps","render","className","id","defaultMessage","values","transparent","message","exact","to","onClick","handleToggleClick","scrollKey","onLoadMore","handleLoadMore","emptyMessage","messages","followers","follows","ProfileStats","injectIntl","intl","acct","handleClose","title","formatNumber","formatMessage","TICKER_REGEX","getTicker","value","match","linkVerifiedOn","account_locked","deactivated","bot","dateFormatOptions","month","day","year","hour12","hour","minute","slug","staffBadge","getStaffBadge","isPatron","badges","push","birthday","formattedBirthday","formatDate","timeZone","date","Date","today","getDate","getMonth","src","onShowNote","preventDefault","displayFqn","identity_proofs","content","__html","fields","displayNameHtml","memberSinceDate","verified","getBadges","dangerouslySetInnerHTML","length","getBirthday","href","handleShowNote","size","map","proof","i","target","rel","pair","Boolean","fetchComponent","Component","ticker","address","ProfileInfoPanel","domain","forwardRef"],"sourceRoot":""}