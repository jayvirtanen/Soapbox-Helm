"use strict";(self.webpackChunksoapbox_fe=self.webpackChunksoapbox_fe||[]).push([[40],{1191:function(o,t,e){e.r(t),e.d(t,{default:function(){return P}});var n,a,i,s,r=e(1019),c=e(1018),u=e(24),l=e.n(u),p=(e(1),e(3)),d=e.n(p),f=e(5),h=e.n(f),g=e(4),Z=e(1797),v=e(1017),b=e(1021),y=e(2),m=e(1267),w=e(12),I=e(17),_=e(10),M=e(15),C=e(1259),k=e(25),j=e(46),L=e(16),O=(n=function(o,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,t){o.__proto__=t}||function(o,t){for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(o[e]=t[e])},n(o,t)},function(o,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=o}n(o,t),o.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}),$=(0,Z.vU)({heading:{id:"column.following",defaultMessage:"Following"}}),P=(0,y.$j)((function(o,t){var e=t.params,n=(t.withReplies,e.username||""),a=o.get("me"),i=(o.getIn(["accounts",-1,"username"])||"").toLowerCase()===n.toLowerCase(),s=(0,_.N$)(o.get("instance")),r=-1;if(i)r=null;else{var c=(0,w.XO)(o,n);r=c?c.getIn(["id"],null):-1}var u=(0,I.qn)(o,r,"following"),l=o.getIn(["relationships",r,"blocked_by"],!1);return{accountId:r,unavailable:a!==r&&l&&!s.blockersVisible,isAccount:!!o.getIn(["accounts",r]),accountIds:o.getIn(["user_lists","following",r,"items"]),hasMore:!!o.getIn(["user_lists","following",r,"next"]),diffCount:u}}))(a=(0,v.ZP)((s=i=function(o){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=o.apply(this,t)||this;return(0,c.Z)(n,"handleLoadMore",l()((function(){n.props.accountId&&-1!==n.props.accountId&&n.props.dispatch((0,M.kU)(n.props.accountId))}),300,{leading:!0})),n}return O(t,o),t.prototype.componentDidMount=function(){var o=this.props,t=o.params.username,e=o.accountId;e&&-1!==e?(this.props.dispatch((0,M.$G)(e)),this.props.dispatch((0,M.$9)(e))):this.props.dispatch((0,M.UL)(t))},t.prototype.componentDidUpdate=function(o){var t=this.props,e=t.accountId,n=t.dispatch;e&&-1!==e&&e!==o.accountId&&e&&(n((0,M.$G)(e)),n((0,M.$9)(e)))},t.prototype.render=function(){var o=this.props,t=o.intl,e=o.accountIds,n=o.hasMore,a=o.isAccount,i=o.diffCount,s=o.accountId,c=o.unavailable;return a||-1===s?-1!==s&&e?c?(0,r.Z)(L.Z,{},void 0,(0,r.Z)("div",{className:"empty-column-indicator"},void 0,(0,r.Z)(b.Z,{id:"empty_column.account_unavailable",defaultMessage:"Profile unavailable"}))):(0,r.Z)(L.Z,{heading:t.formatMessage($.heading)},void 0,(0,r.Z)(k.Z,{scrollKey:"following",hasMore:n,diffCount:i,onLoadMore:this.handleLoadMore,emptyMessage:(0,r.Z)(b.Z,{id:"account.follows.empty",defaultMessage:"This user doesn't follow anyone yet."})},void 0,e.map((function(o){return(0,r.Z)(j.Z,{id:o,withNote:!1},o)})))):(0,r.Z)(L.Z,{},void 0,(0,r.Z)(C.Z,{})):(0,r.Z)(L.Z,{},void 0,(0,r.Z)(m.Z,{}))},t}(g.ZP),(0,c.Z)(i,"propTypes",{intl:d().object.isRequired,params:d().object.isRequired,dispatch:d().func.isRequired,accountIds:h().orderedSet,hasMore:d().bool,isAccount:d().bool,unavailable:d().bool,diffCount:d().number}),a=s))||a)||a}}]);
//# sourceMappingURL=following-e8c00c5ad3ce8a648c73.chunk.js.map