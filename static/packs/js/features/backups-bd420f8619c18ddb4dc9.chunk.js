"use strict";(self.webpackChunksoapbox_fe=self.webpackChunksoapbox_fe||[]).push([[16],{1198:function(e,t,n){n.r(t),n.d(t,{default:function(){return _}});var a,o,s,i,r=n(1019),c=n(1018),u=(n(1),n(7)),p=n.n(u),d=n(3),f=n.n(d),g=n(4),l=n(1797),h=n(1017),k=n(2),m=n(672),b=n(25),y=n(790),M=(a=function(e,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},a(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),v=(0,l.vU)({heading:{id:"column.backups",defaultMessage:"Backups"},create:{id:"backups.actions.create",defaultMessage:"Create backup"},emptyMessage:{id:"backups.empty_message",defaultMessage:"No backups found. {action}"},emptyMessageAction:{id:"backups.empty_message.action",defaultMessage:"Create one now?"},pending:{id:"backups.pending",defaultMessage:"Pending"}}),_=(0,k.$j)((function(e){return{backups:e.get("backups").toList().sortBy((function(e){return e.get("inserted_at")}))}}))(o=(0,h.ZP)((i=s=function(e){function t(){for(var t=[],a=0;a<arguments.length;a++)t[a]=arguments[a];var o=e.apply(this,t)||this;return(0,c.Z)(o,"state",{isLoading:!0}),(0,c.Z)(o,"handleCreateBackup",(function(e){o.props.dispatch((0,m.id)()),e.preventDefault()})),(0,c.Z)(o,"makeColumnMenu",(function(){return[{text:o.props.intl.formatMessage(v.create),action:o.handleCreateBackup,icon:n(86)}]})),o}return M(t,e),t.prototype.componentDidMount=function(){var e=this;this.props.dispatch((0,m.xX)()).then((function(){e.setState({isLoading:!1})})).catch((function(){}))},t.prototype.render=function(){var e=this.props,t=e.intl,n=e.backups,a=this.state.isLoading,o=a&&0===n.count(),s=(0,r.Z)("a",{href:"#",onClick:this.handleCreateBackup},void 0,t.formatMessage(v.emptyMessageAction));return(0,r.Z)(y.Z,{icon:"cloud-download",heading:t.formatMessage(v.heading),menu:this.makeColumnMenu()},void 0,(0,r.Z)(b.Z,{isLoading:a,showLoading:o,scrollKey:"backups",emptyMessage:t.formatMessage(v.emptyMessage,{action:s})},void 0,n.map((function(e){return(0,r.Z)("div",{className:p()("backup",{"backup--pending":!e.get("processed")})},e.get("id"),e.get("processed")?(0,r.Z)("a",{href:e.get("url"),target:"_blank"},void 0,e.get("inserted_at")):(0,r.Z)("div",{},void 0,t.formatMessage(v.pending),": ",e.get("inserted_at")))}))))},t}(g.ZP),(0,c.Z)(s,"propTypes",{intl:f().object.isRequired}),o=i))||o)||o}}]);
//# sourceMappingURL=backups-bd420f8619c18ddb4dc9.chunk.js.map