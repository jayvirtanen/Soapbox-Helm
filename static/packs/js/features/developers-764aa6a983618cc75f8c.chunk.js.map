{"version":3,"file":"packs/js/features/developers-764aa6a983618cc75f8c.chunk.js","mappings":"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","sources":["webpack://soapbox-fe/./app/soapbox/features/developers/apps/create.js","webpack://soapbox-fe/./app/soapbox/features/developers/developers_challenge.js","webpack://soapbox-fe/./app/soapbox/features/developers/developers_menu.js","webpack://soapbox-fe/./app/soapbox/features/developers/index.js","webpack://soapbox-fe/./app/soapbox/features/developers/settings_store.js"],"sourcesContent":["import _jsx from\"@babel/runtime/helpers/esm/jsx\";import _defineProperty from\"@babel/runtime/helpers/esm/defineProperty\";var _dec,_class,_class2,_temp;import\"core-js/modules/web.dom-collections.iterator.js\";import{Map as ImmutableMap}from'immutable';import PropTypes from'prop-types';import React from'react';import ImmutablePropTypes from'react-immutable-proptypes';import ImmutablePureComponent from'react-immutable-pure-component';import{injectIntl,FormattedMessage,defineMessages}from'react-intl';import{connect}from'react-redux';import{createApp}from'soapbox/actions/apps';import{obtainOAuthToken}from'soapbox/actions/oauth';import{SimpleForm,TextInput,SimpleTextarea,FieldsGroup}from'soapbox/features/forms';import Accordion from'soapbox/features/ui/components/accordion';import Column from'soapbox/features/ui/components/column';import{getBaseURL}from'soapbox/utils/accounts';import{getFeatures}from'soapbox/utils/features';const messages=defineMessages({heading:{\"id\":\"column.app_create\",\"defaultMessage\":\"Create app\"},namePlaceholder:{\"id\":\"app_create.name_placeholder\",\"defaultMessage\":\"e.g. 'Soapbox'\"},scopesPlaceholder:{\"id\":\"app_create.scopes_placeholder\",\"defaultMessage\":\"e.g. 'read write follow'\"}});const mapStateToProps=state=>{const me=state.get('me');const account=state.getIn(['accounts',me]);const instance=state.get('instance');const features=getFeatures(instance);return{account,defaultScopes:features.scopes};};let CreateApp=(_dec=connect(mapStateToProps),_dec(_class=injectIntl(_class=(_temp=_class2=class CreateApp extends ImmutablePureComponent{constructor(...args){super(...args);_defineProperty(this,\"initialState\",()=>{return{params:ImmutableMap({client_name:'',redirect_uris:'urn:ietf:wg:oauth:2.0:oob',scopes:'',website:''}),app:null,token:null,isLoading:false,explanationExpanded:true};});_defineProperty(this,\"state\",this.initialState());_defineProperty(this,\"handleCreateApp\",()=>{const{dispatch,account}=this.props;const{params}=this.state;const baseURL=getBaseURL(account);return dispatch(createApp(params.toJS(),baseURL)).then(app=>this.setState({app}));});_defineProperty(this,\"handleCreateToken\",()=>{const{dispatch,account}=this.props;const{app,params:appParams}=this.state;const baseURL=getBaseURL(account);const tokenParams={client_id:app.client_id,client_secret:app.client_secret,redirect_uri:appParams.get('redirect_uri'),grant_type:'client_credentials',scope:appParams.get('scopes')};return dispatch(obtainOAuthToken(tokenParams,baseURL)).then(token=>this.setState({token}));});_defineProperty(this,\"handleSubmit\",e=>{this.setState({isLoading:true});this.handleCreateApp().then(this.handleCreateToken).then(()=>{this.scrollToTop();this.setState({isLoading:false});}).catch(error=>{console.error(error);this.setState({isLoading:false});});});_defineProperty(this,\"setParam\",(key,value)=>{const{params}=this.state;const newParams=params.set(key,value);this.setState({params:newParams});});_defineProperty(this,\"handleParamChange\",key=>{return e=>{this.setParam(key,e.target.value);};});_defineProperty(this,\"resetState\",()=>{this.setState(this.initialState());});_defineProperty(this,\"handleReset\",e=>{this.resetState();this.scrollToTop();});_defineProperty(this,\"toggleExplanation\",expanded=>{this.setState({explanationExpanded:expanded});});_defineProperty(this,\"scrollToTop\",()=>{window.scrollTo({top:0,behavior:'smooth'});});_defineProperty(this,\"renderResults\",()=>{const{intl}=this.props;const{app,token,explanationExpanded}=this.state;return/*#__PURE__*/_jsx(Column,{heading:intl.formatMessage(messages.heading)},void 0,/*#__PURE__*/_jsx(SimpleForm,{},void 0,/*#__PURE__*/_jsx(FieldsGroup,{},void 0,/*#__PURE__*/_jsx(Accordion,{headline:/*#__PURE__*/_jsx(FormattedMessage,{id:\"app_create.results.explanation_title\",defaultMessage:\"App created successfully\"}),expanded:explanationExpanded,onToggle:this.toggleExplanation},void 0,/*#__PURE__*/_jsx(FormattedMessage,{id:\"app_create.results.explanation_text\",defaultMessage:\"You created a new app and token! Please copy the credentials somewhere; you will not see them again after navigating away from this page.\"}))),/*#__PURE__*/_jsx(FieldsGroup,{},void 0,/*#__PURE__*/_jsx(\"div\",{className:\"code-editor\"},void 0,/*#__PURE__*/_jsx(SimpleTextarea,{label:/*#__PURE__*/_jsx(FormattedMessage,{id:\"app_create.results.app_label\",defaultMessage:\"App\"}),value:JSON.stringify(app,null,2),rows:10,readOnly:true}))),/*#__PURE__*/_jsx(FieldsGroup,{},void 0,/*#__PURE__*/_jsx(\"div\",{className:\"code-editor\"},void 0,/*#__PURE__*/_jsx(SimpleTextarea,{label:/*#__PURE__*/_jsx(FormattedMessage,{id:\"app_create.results.token_label\",defaultMessage:\"OAuth token\"}),value:JSON.stringify(token,null,2),rows:10,readOnly:true}))),/*#__PURE__*/_jsx(\"div\",{className:\"actions\"},void 0,/*#__PURE__*/_jsx(\"button\",{name:\"button\",onClick:this.handleReset,className:\"btn button button-primary\"},void 0,/*#__PURE__*/_jsx(FormattedMessage,{id:\"app_create.restart\",defaultMessage:\"Create another\"})))));});}render(){const{intl}=this.props;const{params,app,token,isLoading}=this.state;if(app&&token){return this.renderResults();}return/*#__PURE__*/_jsx(Column,{heading:intl.formatMessage(messages.heading)},void 0,/*#__PURE__*/_jsx(SimpleForm,{onSubmit:this.handleSubmit},void 0,/*#__PURE__*/_jsx(\"fieldset\",{disabled:isLoading},void 0,/*#__PURE__*/_jsx(TextInput,{label:/*#__PURE__*/_jsx(FormattedMessage,{id:\"app_create.name_label\",defaultMessage:\"App name\"}),placeholder:intl.formatMessage(messages.namePlaceholder),onChange:this.handleParamChange('client_name'),value:params.get('client_name'),required:true}),/*#__PURE__*/_jsx(TextInput,{label:/*#__PURE__*/_jsx(FormattedMessage,{id:\"app_create.website_label\",defaultMessage:\"Website\"}),placeholder:\"https://soapbox.pub\",onChange:this.handleParamChange('website'),value:params.get('website')}),/*#__PURE__*/_jsx(TextInput,{label:/*#__PURE__*/_jsx(FormattedMessage,{id:\"app_create.redirect_uri_label\",defaultMessage:\"Redirect URIs\"}),placeholder:\"https://example.com\",onChange:this.handleParamChange('redirect_uris'),value:params.get('redirect_uris'),required:true}),/*#__PURE__*/_jsx(TextInput,{label:/*#__PURE__*/_jsx(FormattedMessage,{id:\"app_create.scopes_label\",defaultMessage:\"Scopes\"}),placeholder:intl.formatMessage(messages.scopesPlaceholder),onChange:this.handleParamChange('scopes'),value:params.get('scopes'),required:true}),/*#__PURE__*/_jsx(\"div\",{className:\"actions\"},void 0,/*#__PURE__*/_jsx(\"button\",{name:\"button\",type:\"submit\",className:\"btn button button-primary\"},void 0,/*#__PURE__*/_jsx(FormattedMessage,{id:\"app_create.submit\",defaultMessage:\"Create app\"}))))));}},_defineProperty(_class2,\"propTypes\",{intl:PropTypes.object.isRequired,dispatch:PropTypes.func.isRequired,account:ImmutablePropTypes.map.isRequired,defaultScopes:PropTypes.string}),_temp))||_class)||_class);export{CreateApp as default};","import _jsx from\"@babel/runtime/helpers/esm/jsx\";import _defineProperty from\"@babel/runtime/helpers/esm/defineProperty\";var _dec,_class;import\"core-js/modules/web.dom-collections.iterator.js\";import React from'react';import{FormattedMessage,injectIntl,defineMessages}from'react-intl';import{connect}from'react-redux';import{changeSettingImmediate}from'soapbox/actions/settings';import snackbar from'soapbox/actions/snackbar';import{SimpleForm,TextInput}from'soapbox/features/forms';import Column from'../ui/components/column';const messages=defineMessages({heading:{\"id\":\"column.developers\",\"defaultMessage\":\"Developers\"},answerLabel:{\"id\":\"developers.challenge.answer_label\",\"defaultMessage\":\"Answer\"},answerPlaceholder:{\"id\":\"developers.challenge.answer_placeholder\",\"defaultMessage\":\"Your answer\"},success:{\"id\":\"developers.challenge.success\",\"defaultMessage\":\"You are now a developer\"},fail:{\"id\":\"developers.challenge.fail\",\"defaultMessage\":\"Wrong answer\"}});let DevelopersChallenge=(_dec=connect(),_dec(_class=injectIntl(_class=class DevelopersChallenge extends React.Component{constructor(...args){super(...args);_defineProperty(this,\"state\",{answer:''});_defineProperty(this,\"handleChangeAnswer\",e=>{this.setState({answer:e.target.value});});_defineProperty(this,\"handleSubmit\",e=>{const{intl,dispatch}=this.props;const{answer}=this.state;if(answer==='boxsoap'){dispatch(changeSettingImmediate(['isDeveloper'],true));dispatch(snackbar.success(intl.formatMessage(messages.success)));}else{dispatch(snackbar.error(intl.formatMessage(messages.fail)));}});}render(){const{intl}=this.props;const challenge=\"function soapbox() {\\n  return 'soap|box'.split('|').reverse().join('');\\n}\";return/*#__PURE__*/_jsx(Column,{heading:intl.formatMessage(messages.heading)},void 0,/*#__PURE__*/_jsx(\"div\",{className:\"developers-challenge\"},void 0,/*#__PURE__*/_jsx(SimpleForm,{onSubmit:this.handleSubmit},void 0,/*#__PURE__*/_jsx(FormattedMessage,{id:\"developers.challenge.message\",defaultMessage:\"What is the result of calling {function}?\",values:{function:/*#__PURE__*/_jsx(\"span\",{className:\"code\"},void 0,\"soapbox()\")}}),/*#__PURE__*/_jsx(\"pre\",{className:\"code\"},void 0,challenge),/*#__PURE__*/_jsx(TextInput,{name:\"answer\",label:intl.formatMessage(messages.answerLabel),placeholder:intl.formatMessage(messages.answerPlaceholder),onChange:this.handleChangeAnswer,value:this.state.answer}),/*#__PURE__*/_jsx(\"div\",{className:\"actions\"},void 0,/*#__PURE__*/_jsx(\"button\",{name:\"button\",type:\"submit\",className:\"btn button button-primary\"},void 0,/*#__PURE__*/_jsx(FormattedMessage,{id:\"developers.challenge.submit\",defaultMessage:\"Become a developer\"}))))));}})||_class)||_class);export{DevelopersChallenge as default};","import _jsx from\"@babel/runtime/helpers/esm/jsx\";import _defineProperty from\"@babel/runtime/helpers/esm/defineProperty\";var _dec,_class;import\"core-js/modules/web.dom-collections.iterator.js\";import React from'react';import{FormattedMessage,injectIntl,defineMessages}from'react-intl';import{connect}from'react-redux';import{Link,withRouter}from'react-router-dom';import{changeSettingImmediate}from'soapbox/actions/settings';import snackbar from'soapbox/actions/snackbar';import Icon from'soapbox/components/icon';import Column from'../ui/components/column';const messages=defineMessages({heading:{\"id\":\"column.developers\",\"defaultMessage\":\"Developers\"},leave:{\"id\":\"developers.leave\",\"defaultMessage\":\"You have left developers\"}});let DevelopersMenu=(_dec=connect(),_dec(_class=injectIntl(_class=withRouter(_class=class DevelopersMenu extends React.Component{constructor(...args){super(...args);_defineProperty(this,\"leaveDevelopers\",e=>{const{intl,dispatch}=this.props;dispatch(changeSettingImmediate(['isDeveloper'],false));dispatch(snackbar.success(intl.formatMessage(messages.leave)));this.props.history.push('/');e.preventDefault();});}render(){const{intl}=this.props;return/*#__PURE__*/_jsx(Column,{heading:intl.formatMessage(messages.heading)},void 0,/*#__PURE__*/_jsx(\"div\",{className:\"dashcounters\"},void 0,/*#__PURE__*/_jsx(\"div\",{className:\"dashcounter\"},void 0,/*#__PURE__*/_jsx(Link,{to:\"/developers/apps/create\"},void 0,/*#__PURE__*/_jsx(\"div\",{className:\"dashcounter__icon\"},void 0,/*#__PURE__*/_jsx(Icon,{src:require('@tabler/icons/icons/apps.svg')})),/*#__PURE__*/_jsx(\"div\",{className:\"dashcounter__label\"},void 0,/*#__PURE__*/_jsx(FormattedMessage,{id:\"developers.navigation.app_create_label\",defaultMessage:\"Create an app\"})))),/*#__PURE__*/_jsx(\"div\",{className:\"dashcounter\"},void 0,/*#__PURE__*/_jsx(Link,{to:\"/developers/settings_store\"},void 0,/*#__PURE__*/_jsx(\"div\",{className:\"dashcounter__icon\"},void 0,/*#__PURE__*/_jsx(Icon,{src:require('@tabler/icons/icons/code-plus.svg')})),/*#__PURE__*/_jsx(\"div\",{className:\"dashcounter__label\"},void 0,/*#__PURE__*/_jsx(FormattedMessage,{id:\"developers.navigation.settings_store_label\",defaultMessage:\"Settings store\"})))),/*#__PURE__*/_jsx(\"div\",{className:\"dashcounter\"},void 0,/*#__PURE__*/_jsx(Link,{to:\"/error\"},void 0,/*#__PURE__*/_jsx(\"div\",{className:\"dashcounter__icon\"},void 0,/*#__PURE__*/_jsx(Icon,{src:require('@tabler/icons/icons/mood-sad.svg')})),/*#__PURE__*/_jsx(\"div\",{className:\"dashcounter__label\"},void 0,/*#__PURE__*/_jsx(FormattedMessage,{id:\"developers.navigation.intentional_error_label\",defaultMessage:\"Trigger an error\"})))),/*#__PURE__*/_jsx(\"div\",{className:\"dashcounter\"},void 0,/*#__PURE__*/_jsx(\"a\",{href:\"#\",onClick:this.leaveDevelopers},void 0,/*#__PURE__*/_jsx(\"div\",{className:\"dashcounter__icon\"},void 0,/*#__PURE__*/_jsx(Icon,{src:require('@tabler/icons/icons/logout.svg')})),/*#__PURE__*/_jsx(\"div\",{className:\"dashcounter__label\"},void 0,/*#__PURE__*/_jsx(FormattedMessage,{id:\"developers.navigation.leave_developers_label\",defaultMessage:\"Leave developers\"}))))));}})||_class)||_class)||_class);export{DevelopersMenu as default};","import _jsx from\"@babel/runtime/helpers/esm/jsx\";var _dec,_class;import React from'react';import{connect}from'react-redux';import{getSettings}from'soapbox/actions/settings';import DevelopersChallenge from'./developers_challenge';import DevelopersMenu from'./developers_menu';const mapStateToProps=state=>{const settings=getSettings(state);return{isDeveloper:settings.get('isDeveloper')};};let Developers=(_dec=connect(mapStateToProps),_dec(_class=class Developers extends React.Component{render(){const{isDeveloper}=this.props;return isDeveloper?/*#__PURE__*/_jsx(DevelopersMenu,{}):/*#__PURE__*/_jsx(DevelopersChallenge,{});}})||_class);export{Developers as default};","import _jsx from\"@babel/runtime/helpers/esm/jsx\";import _defineProperty from\"@babel/runtime/helpers/esm/defineProperty\";var _dec,_class,_class2,_temp;import\"core-js/modules/web.dom-collections.iterator.js\";import PropTypes from'prop-types';import React from'react';import ImmutablePropTypes from'react-immutable-proptypes';import ImmutablePureComponent from'react-immutable-pure-component';import{injectIntl,FormattedMessage,defineMessages}from'react-intl';import{connect}from'react-redux';import{showAlertForError}from'soapbox/actions/alerts';import{patchMe}from'soapbox/actions/me';import{FE_NAME,SETTINGS_UPDATE}from'soapbox/actions/settings';import{SimpleForm,SimpleTextarea}from'soapbox/features/forms';import Column from'soapbox/features/ui/components/column';const isJSONValid=text=>{try{JSON.parse(text);return true;}catch{return false;}};const messages=defineMessages({heading:{\"id\":\"column.settings_store\",\"defaultMessage\":\"Settings store\"},hint:{\"id\":\"developers.settings_store.hint\",\"defaultMessage\":\"It is possible to directly edit your user settings here. BE CAREFUL! Editing this section can break your account, and you will only be able to recover through the API.\"}});const mapStateToProps=state=>{return{settingsStore:state.get('settings')};};let SettingsStore=(_dec=connect(mapStateToProps),_dec(_class=injectIntl(_class=(_temp=_class2=class SettingsStore extends ImmutablePureComponent{constructor(...args){super(...args);_defineProperty(this,\"state\",{rawJSON:JSON.stringify(this.props.settingsStore,null,2),jsonValid:true,isLoading:false});_defineProperty(this,\"handleEditJSON\",({target})=>{const rawJSON=target.value;this.setState({rawJSON,jsonValid:isJSONValid(rawJSON)});});_defineProperty(this,\"handleSubmit\",e=>{const{dispatch}=this.props;const{rawJSON}=this.state;const settings=JSON.parse(rawJSON);this.setState({isLoading:true});dispatch(patchMe({pleroma_settings_store:{[FE_NAME]:settings}})).then(response=>{dispatch({type:SETTINGS_UPDATE,settings});this.setState({isLoading:false});}).catch(error=>{dispatch(showAlertForError(error));this.setState({isLoading:false});});});}componentDidUpdate(prevProps){const{settingsStore}=this.props;if(settingsStore!==prevProps.settingsStore){this.setState({rawJSON:JSON.stringify(settingsStore,null,2),jsonValid:true});}}render(){const{intl}=this.props;const{rawJSON,jsonValid,isLoading}=this.state;return/*#__PURE__*/_jsx(Column,{heading:intl.formatMessage(messages.heading)},void 0,/*#__PURE__*/_jsx(SimpleForm,{onSubmit:this.handleSubmit,disabled:!jsonValid||isLoading},void 0,/*#__PURE__*/_jsx(\"div\",{className:jsonValid?'code-editor':'code-editor code-editor--invalid'},void 0,/*#__PURE__*/_jsx(SimpleTextarea,{hint:intl.formatMessage(messages.hint),value:rawJSON,onChange:this.handleEditJSON,disabled:isLoading,rows:12})),/*#__PURE__*/_jsx(\"div\",{className:\"actions\"},void 0,/*#__PURE__*/_jsx(\"button\",{name:\"button\",type:\"submit\",className:\"btn button button-primary\",disabled:!jsonValid||isLoading},void 0,/*#__PURE__*/_jsx(FormattedMessage,{id:\"soapbox_config.save\",defaultMessage:\"Save\"})))));}},_defineProperty(_class2,\"propTypes\",{intl:PropTypes.object.isRequired,dispatch:PropTypes.func.isRequired,settingsStore:ImmutablePropTypes.map.isRequired}),_temp))||_class)||_class);export{SettingsStore as default};"],"names":["_class","_class2","_temp","messages","heading","namePlaceholder","scopesPlaceholder","CreateApp","state","me","get","account","getIn","instance","defaultScopes","scopes","_dec","args","params","client_name","redirect_uris","website","app","token","isLoading","explanationExpanded","initialState","props","dispatch","baseURL","toJS","then","setState","appParams","tokenParams","client_id","client_secret","redirect_uri","grant_type","scope","e","handleCreateApp","handleCreateToken","scrollToTop","catch","error","console","key","value","newParams","set","setParam","target","resetState","expanded","window","scrollTo","top","behavior","intl","formatMessage","headline","id","defaultMessage","onToggle","toggleExplanation","className","label","JSON","stringify","rows","readOnly","name","onClick","handleReset","render","this","renderResults","onSubmit","handleSubmit","disabled","placeholder","onChange","handleParamChange","required","type","answerLabel","answerPlaceholder","success","fail","DevelopersChallenge","injectIntl","answer","snackbar","values","function","handleChangeAnswer","leave","DevelopersMenu","history","push","preventDefault","to","src","href","leaveDevelopers","Developers","isDeveloper","isJSONValid","text","parse","hint","SettingsStore","settingsStore","rawJSON","jsonValid","settings","pleroma_settings_store","response","componentDidUpdate","prevProps","handleEditJSON"],"sourceRoot":""}