"use strict";(self.webpackChunksoapbox_fe=self.webpackChunksoapbox_fe||[]).push([[48],{526:function(t,e,n){n.r(e),n.d(e,{default:function(){return F}});var o,r,i,s,a,c,u,l,d,p=n(1019),f=n(1018),v=(n(1),n(3)),h=n.n(v),m=n(5),_=n.n(m),Z=n(4),g=n(1797),y=n(1017),b=n(2),C=n(11),M=n(64),w=n(1024),I=n(21),R=n(31),O=n(12),N=(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),S=(0,g.vU)({remove:{id:"lists.account.remove",defaultMessage:"Remove from list"},add:{id:"lists.account.add",defaultMessage:"Add to list"}}),j=(0,b.$j)((function(){var t=(0,O.Tm)();return function(e,n){var o=n.accountId,r=n.added;return{account:t(e,o),added:void 0===r?e.getIn(["listEditor","accounts","items"]).includes(o):r}}}),(function(t,e){var n=e.accountId;return{onRemove:function(){return t((0,M.v)(n))},onAdd:function(){return t((0,M.tR)(n))}}}))(r=(0,y.ZP)((s=i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return N(e,t),e.prototype.render=function(){var t,e=this.props,o=e.account,r=e.intl,i=e.onRemove,s=e.onAdd;return t=e.added?(0,p.Z)(C.Z,{src:n(18),title:r.formatMessage(S.remove),onClick:i}):(0,p.Z)(C.Z,{src:n(86),title:r.formatMessage(S.add),onClick:s}),(0,p.Z)("div",{className:"account"},void 0,(0,p.Z)("div",{className:"account__wrapper"},void 0,(0,p.Z)("div",{className:"account__display-name"},void 0,(0,p.Z)("div",{className:"account__avatar-wrapper"},void 0,(0,p.Z)(I.Z,{account:o,size:36})),(0,p.Z)(R.Z,{account:o})),(0,p.Z)("div",{className:"account__relationship"},void 0,t)))},e}(Z.ZP),(0,f.Z)(i,"propTypes",{account:_().map.isRequired,intl:h().object.isRequired,onRemove:h().func.isRequired,onAdd:h().func.isRequired,added:h().bool}),(0,f.Z)(i,"defaultProps",{added:!1}),r=s))||r)||r,P=n(0),k=n(35),T=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),x=(0,g.vU)({title:{id:"lists.edit.submit",defaultMessage:"Change title"},save:{id:"lists.new.save_title",defaultMessage:"Save Title"}}),A=(0,b.$j)((function(t){return{value:t.getIn(["listEditor","title"]),disabled:!t.getIn(["listEditor","isChanged"])}}),(function(t){return{onChange:function(e){return t((0,M.OU)(e))},onSubmit:function(){return t((0,M.Mw)(!1))}}}))(a=(0,y.ZP)(a=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var o=t.apply(this,e)||this;return(0,f.Z)(o,"handleChange",(function(t){o.props.onChange(t.target.value)})),(0,f.Z)(o,"handleSubmit",(function(t){t.preventDefault(),o.props.onSubmit()})),(0,f.Z)(o,"handleClick",(function(){o.props.onSubmit()})),o}return T(e,t),e.prototype.render=function(){var t=this.props,e=t.value,n=t.disabled,o=t.intl.formatMessage(x.save);return(0,p.Z)("form",{className:"column-inline-form",method:"post",onSubmit:this.handleSubmit},void 0,(0,p.Z)("input",{className:"setting-text new-list-form__input",value:e,onChange:this.handleChange}),!n&&(0,p.Z)(k.Z,{className:"new-list-form__btn",onClick:this.handleClick},void 0,o))},e}(P.PureComponent))||a)||a,q=n(7),E=n.n(q),U=n(8),L=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),z=(0,g.vU)({search:{id:"lists.search",defaultMessage:"Search among people you follow"},searchTitle:{id:"tabs_bar.search",defaultMessage:"Search"}}),D=(0,b.$j)((function(t){return{value:t.getIn(["listEditor","suggestions","value"])}}),(function(t){return{onSubmit:function(e){return t((0,M.pT)(e))},onClear:function(){return t((0,M.MC)())},onChange:function(e){return t((0,M.pQ)(e))}}}))(c=(0,y.ZP)(c=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var o=t.apply(this,e)||this;return(0,f.Z)(o,"handleChange",(function(t){o.props.onChange(t.target.value)})),(0,f.Z)(o,"handleKeyUp",(function(t){13===t.keyCode&&o.props.onSubmit(o.props.value)})),(0,f.Z)(o,"handleSubmit",(function(){o.props.onSubmit(o.props.value)})),(0,f.Z)(o,"handleClear",(function(){o.props.onClear()})),o}return L(e,t),e.prototype.render=function(){var t=this.props,e=t.value,o=t.intl,r=e.length>0;return(0,p.Z)("div",{className:"list-editor__search search"},void 0,(0,p.Z)("label",{},void 0,(0,p.Z)("span",{style:{display:"none"}},void 0,o.formatMessage(z.search)),(0,p.Z)("input",{className:"search__input",type:"text",value:e,onChange:this.handleChange,onKeyUp:this.handleKeyUp,placeholder:o.formatMessage(z.search)})),(0,p.Z)("div",{role:"button",tabIndex:"0",className:"search__icon",onClick:this.handleClear},void 0,(0,p.Z)(U.Z,{src:n(280),"aria-label":o.formatMessage(z.search),className:E()("svg-icon--backspace",{active:r})})),(0,p.Z)(k.Z,{onClick:this.handleSubmit},void 0,o.formatMessage(z.searchTitle)))},e}(P.PureComponent))||c)||c,$=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),K=(0,g.vU)({close:{id:"lightbox.close",defaultMessage:"Close"},changeTitle:{id:"lists.edit.submit",defaultMessage:"Change title"},addToList:{id:"lists.account.add",defaultMessage:"Add to list"},removeFromList:{id:"lists.account.remove",defaultMessage:"Remove from list"},editList:{id:"lists.edit",defaultMessage:"Edit list"}}),F=(0,b.$j)((function(t){return{accountIds:t.getIn(["listEditor","accounts","items"]),searchAccountIds:t.getIn(["listEditor","suggestions","items"])}}),(function(t){return{onInitialize:function(e){return t((0,M.Ru)(e))},onClear:function(){return t((0,M.MC)())},onReset:function(){return t((0,M.QS)())}}}))(u=(0,y.ZP)((d=l=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var o=t.apply(this,e)||this;return(0,f.Z)(o,"onClickClose",(function(){o.props.onClose("LIST_ADDER")})),o}return $(e,t),e.prototype.componentDidMount=function(){var t=this.props;(0,t.onInitialize)(t.listId)},e.prototype.componentWillUnmount=function(){(0,this.props.onReset)()},e.prototype.render=function(){var t=this.props,e=t.accountIds,o=t.searchAccountIds,r=t.intl;return(0,p.Z)("div",{className:"modal-root__modal compose-modal"},void 0,(0,p.Z)("div",{className:"compose-modal__header"},void 0,(0,p.Z)("h3",{className:"compose-modal__header__title"},void 0,r.formatMessage(K.editList)),(0,p.Z)(C.Z,{className:"compose-modal__close",title:r.formatMessage(K.close),src:n(18),onClick:this.onClickClose})),(0,p.Z)("div",{className:"compose-modal__content list-editor__content"},void 0,(0,p.Z)("div",{className:"list-editor"},void 0,(0,p.Z)(w.Z,{text:r.formatMessage(K.changeTitle)}),(0,p.Z)(A,{}),(0,p.Z)("br",{}),e.size>0&&(0,p.Z)("div",{},void 0,(0,p.Z)(w.Z,{text:r.formatMessage(K.removeFromList)}),(0,p.Z)("div",{className:"list-editor__accounts"},void 0,e.map((function(t){return(0,p.Z)(j,{accountId:t,added:!0},t)})))),(0,p.Z)("br",{}),(0,p.Z)(w.Z,{text:r.formatMessage(K.addToList)}),(0,p.Z)(D,{}),(0,p.Z)("div",{className:"list-editor__accounts"},void 0,o.map((function(t){return(0,p.Z)(j,{accountId:t},t)}))))))},e}(Z.ZP),(0,f.Z)(l,"propTypes",{listId:h().string.isRequired,onClose:h().func.isRequired,intl:h().object.isRequired,onInitialize:h().func.isRequired,onClear:h().func.isRequired,onReset:h().func.isRequired,accountIds:_().list.isRequired,searchAccountIds:_().list.isRequired}),u=d))||u)||u}}]);
//# sourceMappingURL=list_editor-0d5b1ba338f84be917bb.chunk.js.map