{"version":3,"file":"packs/js/features/follow_recommendations-3b120a3f2b71a126972e.chunk.js","mappings":"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","sources":["webpack://soapbox-fe/./app/soapbox/features/follow_recommendations/components/account.js","webpack://soapbox-fe/./app/soapbox/features/follow_recommendations/components/follow_recommendations_list.js","webpack://soapbox-fe/./app/soapbox/features/follow_recommendations/components/follow_recommendations_container.js","webpack://soapbox-fe/./app/soapbox/features/follow_recommendations/index.js","webpack://soapbox-fe/./app/soapbox/features/ui/components/who_to_follow_panel.js"],"sourcesContent":["import _jsx from\"@babel/runtime/helpers/esm/jsx\";import _defineProperty from\"@babel/runtime/helpers/esm/defineProperty\";var _dec,_class,_class2,_temp;import PropTypes from'prop-types';import React from'react';import ImmutablePropTypes from'react-immutable-proptypes';import ImmutablePureComponent from'react-immutable-pure-component';import{connect}from'react-redux';import Avatar from'soapbox/components/avatar';import DisplayName from'soapbox/components/display_name';import Permalink from'soapbox/components/permalink';import ActionButton from'soapbox/features/ui/components/action_button';import{makeGetAccount}from'soapbox/selectors';const makeMapStateToProps=()=>{const getAccount=makeGetAccount();const mapStateToProps=(state,props)=>({account:getAccount(state,props.id)});return mapStateToProps;};const getFirstSentence=str=>{const arr=str.split(/(([.?!]+\\s)|[．。？！\\n•])/);return arr[0];};let Account=(_dec=connect(makeMapStateToProps),_dec(_class=(_temp=_class2=class Account extends ImmutablePureComponent{render(){const{account}=this.props;return/*#__PURE__*/_jsx(\"div\",{className:\"account follow-recommendations-account\"},void 0,/*#__PURE__*/_jsx(\"div\",{className:\"account__wrapper\"},void 0,/*#__PURE__*/_jsx(Permalink,{className:\"account__display-name account__display-name--with-note\",title:account.get('acct'),href:account.get('url'),to:\"/@\".concat(account.get('acct'))},void 0,/*#__PURE__*/_jsx(\"div\",{className:\"account__avatar-wrapper\"},void 0,/*#__PURE__*/_jsx(Avatar,{account:account,size:36})),/*#__PURE__*/_jsx(DisplayName,{account:account}),/*#__PURE__*/_jsx(\"div\",{className:\"account__note\"},void 0,getFirstSentence(account.get('note_plain')))),/*#__PURE__*/_jsx(\"div\",{className:\"account__relationship\"},void 0,/*#__PURE__*/_jsx(ActionButton,{account:account}))));}},_defineProperty(_class2,\"propTypes\",{account:ImmutablePropTypes.map.isRequired,intl:PropTypes.object.isRequired,dispatch:PropTypes.func.isRequired}),_temp))||_class);export{Account as default};","import _jsx from\"@babel/runtime/helpers/esm/jsx\";import _defineProperty from\"@babel/runtime/helpers/esm/defineProperty\";var _dec,_class,_class2,_temp;import PropTypes from'prop-types';import React from'react';import ImmutablePropTypes from'react-immutable-proptypes';import ImmutablePureComponent from'react-immutable-pure-component';import{FormattedMessage}from'react-intl';import{connect}from'react-redux';import{fetchSuggestions}from'soapbox/actions/suggestions';import LoadingIndicator from'soapbox/components/loading_indicator';import Account from'./account';const mapStateToProps=state=>({suggestions:state.getIn(['suggestions','items']),isLoading:state.getIn(['suggestions','isLoading'])});let FollowRecommendationsList=(_dec=connect(mapStateToProps),_dec(_class=(_temp=_class2=class FollowRecommendationsList extends ImmutablePureComponent{componentDidMount(){const{dispatch,suggestions}=this.props;// Don't re-fetch if we're e.g. navigating backwards to this page,\n// since we don't want followed accounts to disappear from the list\nif(suggestions.size===0){dispatch(fetchSuggestions(true));}}render(){const{suggestions,isLoading}=this.props;if(isLoading){return/*#__PURE__*/_jsx(\"div\",{className:\"column-list\"},void 0,/*#__PURE__*/_jsx(LoadingIndicator,{}));}return/*#__PURE__*/_jsx(\"div\",{className:\"column-list\"},void 0,suggestions.size>0?suggestions.map(suggestion=>/*#__PURE__*/_jsx(Account,{id:suggestion.get('account')},suggestion.get('account'))):/*#__PURE__*/_jsx(\"div\",{className:\"column-list__empty-message\"},void 0,/*#__PURE__*/_jsx(FormattedMessage,{id:\"empty_column.follow_recommendations\",defaultMessage:\"Looks like no suggestions could be generated for you. You can try using search to look for people you might know or explore trending hashtags.\"})));}},_defineProperty(_class2,\"propTypes\",{dispatch:PropTypes.func.isRequired,suggestions:ImmutablePropTypes.list,isLoading:PropTypes.bool}),_temp))||_class);export{FollowRecommendationsList as default};","import _jsx from\"@babel/runtime/helpers/esm/jsx\";import _defineProperty from\"@babel/runtime/helpers/esm/defineProperty\";import\"core-js/modules/web.dom-collections.iterator.js\";import React from'react';import{FormattedMessage}from'react-intl';import Button from'soapbox/components/button';import FollowRecommendationsList from'./follow_recommendations_list';export default class FollowRecommendationsContainer extends React.Component{constructor(...args){super(...args);_defineProperty(this,\"handleDone\",()=>{this.props.onDone();});}render(){return/*#__PURE__*/_jsx(\"div\",{className:\"scrollable follow-recommendations-container\"},void 0,/*#__PURE__*/_jsx(\"div\",{className:\"column-title\"},void 0,/*#__PURE__*/_jsx(\"h3\",{},void 0,/*#__PURE__*/_jsx(FormattedMessage,{id:\"follow_recommendations.heading\",defaultMessage:\"Follow people you'd like to see posts from! Here are some suggestions.\"})),/*#__PURE__*/_jsx(\"p\",{},void 0,/*#__PURE__*/_jsx(FormattedMessage,{id:\"follow_recommendations.lead\",defaultMessage:\"Posts from people you follow will show up in chronological order on your home feed. Don't be afraid to make mistakes, you can unfollow people just as easily any time!\"}))),/*#__PURE__*/_jsx(FollowRecommendationsList,{}),/*#__PURE__*/_jsx(\"div\",{className:\"column-actions\"},void 0,/*#__PURE__*/_jsx(Button,{onClick:this.handleDone},void 0,/*#__PURE__*/_jsx(FormattedMessage,{id:\"follow_recommendations.done\",defaultMessage:\"Done\"}))));}}","import _jsx from\"@babel/runtime/helpers/esm/jsx\";import _defineProperty from\"@babel/runtime/helpers/esm/defineProperty\";var _class;import\"core-js/modules/web.dom-collections.iterator.js\";import React from'react';import{withRouter}from'react-router-dom';import Column from'soapbox/features/ui/components/column';import FollowRecommendationsContainer from'./components/follow_recommendations_container';let FollowRecommendations=withRouter(_class=class FollowRecommendations extends React.Component{constructor(...args){super(...args);_defineProperty(this,\"onDone\",()=>{this.props.history.push('/');});}render(){return/*#__PURE__*/_jsx(Column,{},void 0,/*#__PURE__*/_jsx(FollowRecommendationsContainer,{onDone:this.onDone}));}})||_class;export{FollowRecommendations as default};","import _jsx from\"@babel/runtime/helpers/esm/jsx\";import _defineProperty from\"@babel/runtime/helpers/esm/defineProperty\";import PropTypes from'prop-types';import React from'react';import ImmutablePropTypes from'react-immutable-proptypes';import ImmutablePureComponent from'react-immutable-pure-component';import{FormattedMessage,defineMessages,injectIntl}from'react-intl';import{connect}from'react-redux';import Icon from'soapbox/components/icon';import{fetchSuggestions,dismissSuggestion}from'../../../actions/suggestions';import AccountContainer from'../../../containers/account_container';const messages=defineMessages({dismissSuggestion:{\"id\":\"suggestions.dismiss\",\"defaultMessage\":\"Dismiss suggestion\"}});class WhoToFollowPanel extends ImmutablePureComponent{componentDidMount(){this.props.fetchSuggestions();}render(){const{intl,dismissSuggestion}=this.props;const suggestions=this.props.suggestions.slice(0,this.props.limit);if(suggestions.isEmpty()){return null;}return/*#__PURE__*/_jsx(\"div\",{className:\"wtf-panel\"},void 0,/*#__PURE__*/_jsx(\"div\",{className:\"wtf-panel-header\"},void 0,/*#__PURE__*/_jsx(Icon,{src:require('@tabler/icons/icons/users.svg'),className:\"wtf-panel-header__icon\"}),/*#__PURE__*/_jsx(\"span\",{className:\"wtf-panel-header__label\"},void 0,/*#__PURE__*/_jsx(FormattedMessage,{id:\"who_to_follow.title\",defaultMessage:\"Who To Follow\"}))),/*#__PURE__*/_jsx(\"div\",{className:\"wtf-panel__content\"},void 0,/*#__PURE__*/_jsx(\"div\",{className:\"wtf-panel__list\"},void 0,suggestions&&suggestions.map(suggestion=>/*#__PURE__*/_jsx(AccountContainer,{id:suggestion.get('account'),actionIcon:require('@tabler/icons/icons/x.svg'),actionTitle:intl.formatMessage(messages.dismissSuggestion),onActionClick:dismissSuggestion},suggestion.get('account'))))));}}_defineProperty(WhoToFollowPanel,\"propTypes\",{suggestions:ImmutablePropTypes.list.isRequired,fetchSuggestions:PropTypes.func.isRequired,dismissSuggestion:PropTypes.func.isRequired,intl:PropTypes.object.isRequired});const mapStateToProps=state=>({suggestions:state.getIn(['suggestions','items'])});const mapDispatchToProps=dispatch=>{return{fetchSuggestions:()=>dispatch(fetchSuggestions()),dismissSuggestion:account=>dispatch(dismissSuggestion(account.get('id')))};};export default injectIntl(connect(mapStateToProps,mapDispatchToProps,null,{forwardRef:true})(WhoToFollowPanel));"],"names":["_class","_class2","_temp","Account","getAccount","state","props","account","id","_dec","render","this","className","title","get","href","to","concat","size","split","intl","dispatch","FollowRecommendationsList","suggestions","getIn","isLoading","componentDidMount","map","suggestion","defaultMessage","args","onDone","onClick","handleDone","FollowRecommendations","history","push","messages","dismissSuggestion","fetchSuggestions","slice","limit","isEmpty","src","actionIcon","actionTitle","formatMessage","onActionClick","WhoToFollowPanel","forwardRef"],"sourceRoot":""}