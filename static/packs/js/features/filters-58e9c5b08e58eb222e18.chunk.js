"use strict";(self.webpackChunksoapbox_fe=self.webpackChunksoapbox_fe||[]).push([[36],{1196:function(e,t,i){i.r(t),i.d(t,{default:function(){return k}});var a,s,l,r,n=i(1019),o=i(1018),d=(i(1),i(3)),c=i.n(d),h=i(4),f=i(1797),u=i(1017),_=i(1021),p=i(2),m=i(30),g=i(35),Z=i(8),v=i(28),b=i(278),w=i(25),M=i(16),x=i(1024),C=(a=function(e,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])},a(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),y=(0,f.vU)({heading:{id:"column.filters",defaultMessage:"Muted words"},subheading_add_new:{id:"column.filters.subheading_add_new",defaultMessage:"Add New Filter"},keyword:{id:"column.filters.keyword",defaultMessage:"Keyword or phrase"},expires:{id:"column.filters.expires",defaultMessage:"Expire after"},expires_hint:{id:"column.filters.expires_hint",defaultMessage:"Expiration dates are not currently supported"},home_timeline:{id:"column.filters.home_timeline",defaultMessage:"Home timeline"},public_timeline:{id:"column.filters.public_timeline",defaultMessage:"Public timeline"},notifications:{id:"column.filters.notifications",defaultMessage:"Notifications"},conversations:{id:"column.filters.conversations",defaultMessage:"Conversations"},drop_header:{id:"column.filters.drop_header",defaultMessage:"Drop instead of hide"},drop_hint:{id:"column.filters.drop_hint",defaultMessage:"Filtered posts will disappear irreversibly, even if filter is later removed"},whole_word_header:{id:"column.filters.whole_word_header",defaultMessage:"Whole word"},whole_word_hint:{id:"column.filters.whole_word_hint",defaultMessage:"When the keyword or phrase is alphanumeric only, it will only be applied if it matches the whole word"},add_new:{id:"column.filters.add_new",defaultMessage:"Add New Filter"},create_error:{id:"column.filters.create_error",defaultMessage:"Error adding filter"},delete_error:{id:"column.filters.delete_error",defaultMessage:"Error deleting filter"},subheading_filters:{id:"column.filters.subheading_filters",defaultMessage:"Current Filters"},delete:{id:"column.filters.delete",defaultMessage:"Delete"}}),N={null:"Never"},k=(0,p.$j)((function(e){return{filters:e.get("filters")}}))(s=(0,u.ZP)((r=l=function(e){function t(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];var a=e.apply(this,t)||this;return(0,o.Z)(a,"state",{phrase:"",expires_at:"",home_timeline:!0,public_timeline:!1,notifications:!1,conversations:!1,irreversible:!1,whole_word:!0}),(0,o.Z)(a,"handleInputChange",(function(e){var t;a.setState(((t={})[e.target.name]=e.target.value,t))})),(0,o.Z)(a,"handleSelectChange",(function(e){var t;a.setState(((t={})[e.target.name]=e.target.value,t))})),(0,o.Z)(a,"handleCheckboxChange",(function(e){var t;a.setState(((t={})[e.target.name]=e.target.checked,t))})),(0,o.Z)(a,"handleAddNew",(function(e){e.preventDefault();var t=a.props,i=t.intl,s=t.dispatch,l=a.state,r=l.phrase,n=l.whole_word,o=l.expires_at,d=l.irreversible,c=a.state,h=c.home_timeline,f=c.public_timeline,u=c.notifications,_=c.conversations,p=[];h&&p.push("home"),f&&p.push("public"),u&&p.push("notifications"),_&&p.push("thread"),s((0,b.cj)(i,r,o,p,n,d)).then((function(e){return s((0,b.a$)())})).catch((function(e){s(m.ZP.error(i.formatMessage(y.create_error)))}))})),(0,o.Z)(a,"handleFilterDelete",(function(e){var t=a.props,i=t.intl,s=t.dispatch;s((0,b.kh)(i,e.currentTarget.dataset.value)).then((function(e){return s((0,b.a$)())})).catch((function(e){s(m.ZP.error(i.formatMessage(y.delete_error)))}))})),a}return C(t,e),t.prototype.componentDidMount=function(){this.props.dispatch((0,b.a$)())},t.prototype.render=function(){var e=this,t=this.props,i=t.intl,a=t.filters,s=(0,n.Z)(_.Z,{id:"empty_column.filters",defaultMessage:"You haven't created any muted words yet."});return(0,n.Z)(M.Z,{className:"filter-settings-panel",icon:"filter",heading:i.formatMessage(y.heading)},void 0,(0,n.Z)(x.Z,{text:i.formatMessage(y.subheading_add_new)}),(0,n.Z)(v.NA,{},void 0,(0,n.Z)("div",{className:"filter-settings-panel"},void 0,(0,n.Z)("fieldset",{disabled:!1},void 0,(0,n.Z)(v.H_,{},void 0,(0,n.Z)("div",{className:"two-col"},void 0,(0,n.Z)(v.Jc,{label:i.formatMessage(y.keyword),required:!0,type:"text",name:"phrase",onChange:this.handleInputChange}),(0,n.Z)("div",{className:"input with_label required"},void 0,(0,n.Z)(v.Fj,{label:i.formatMessage(y.expires),hint:i.formatMessage(y.expires_hint),items:N,defaultValue:N.never,onChange:this.handleSelectChange})))),(0,n.Z)(v.H_,{},void 0,(0,n.Z)("label",{className:"checkboxes required"},void 0,(0,n.Z)(_.Z,{id:"filters.context_header",defaultMessage:"Filter contexts"})),(0,n.Z)("span",{className:"hint"},void 0,(0,n.Z)(_.Z,{id:"filters.context_hint",defaultMessage:"One or multiple contexts where the filter should apply"})),(0,n.Z)("div",{className:"two-col"},void 0,(0,n.Z)(v.XZ,{label:i.formatMessage(y.home_timeline),name:"home_timeline",checked:this.state.home_timeline,onChange:this.handleCheckboxChange}),(0,n.Z)(v.XZ,{label:i.formatMessage(y.public_timeline),name:"public_timeline",checked:this.state.public_timeline,onChange:this.handleCheckboxChange}),(0,n.Z)(v.XZ,{label:i.formatMessage(y.notifications),name:"notifications",checked:this.state.notifications,onChange:this.handleCheckboxChange}),(0,n.Z)(v.XZ,{label:i.formatMessage(y.conversations),name:"conversations",checked:this.state.conversations,onChange:this.handleCheckboxChange}))),(0,n.Z)(v.H_,{},void 0,(0,n.Z)(v.XZ,{label:i.formatMessage(y.drop_header),hint:i.formatMessage(y.drop_hint),name:"irreversible",checked:this.state.irreversible,onChange:this.handleCheckboxChange}),(0,n.Z)(v.XZ,{label:i.formatMessage(y.whole_word_header),hint:i.formatMessage(y.whole_word_hint),name:"whole_word",checked:this.state.whole_word,onChange:this.handleCheckboxChange}))),(0,n.Z)(g.Z,{className:"button button-primary setup",text:i.formatMessage(y.add_new),onClick:this.handleAddNew}))),(0,n.Z)(x.Z,{text:i.formatMessage(y.subheading_filters)}),(0,n.Z)(w.Z,{scrollKey:"filters",emptyMessage:s},void 0,a.map((function(t,a){return(0,n.Z)("div",{className:"filter__container"},a,(0,n.Z)("div",{className:"filter__details"},void 0,(0,n.Z)("div",{className:"filter__phrase"},void 0,(0,n.Z)("span",{className:"filter__list-label"},void 0,(0,n.Z)(_.Z,{id:"filters.filters_list_phrase_label",defaultMessage:"Keyword or phrase:"})),(0,n.Z)("span",{className:"filter__list-value"},void 0,t.get("phrase"))),(0,n.Z)("div",{className:"filter__contexts"},void 0,(0,n.Z)("span",{className:"filter__list-label"},void 0,(0,n.Z)(_.Z,{id:"filters.filters_list_context_label",defaultMessage:"Filter contexts:"})),(0,n.Z)("span",{className:"filter__list-value"},void 0,t.get("context").map((function(e,t){return(0,n.Z)("span",{className:"context"},t,e)})))),(0,n.Z)("div",{className:"filter__details"},void 0,(0,n.Z)("span",{className:"filter__list-label"},void 0,(0,n.Z)(_.Z,{id:"filters.filters_list_details_label",defaultMessage:"Filter settings:"})),(0,n.Z)("span",{className:"filter__list-value"},void 0,t.get("irreversible")?(0,n.Z)("span",{},void 0,(0,n.Z)(_.Z,{id:"filters.filters_list_drop",defaultMessage:"Drop"})):(0,n.Z)("span",{},void 0,(0,n.Z)(_.Z,{id:"filters.filters_list_hide",defaultMessage:"Hide"})),t.get("whole_word")&&(0,n.Z)("span",{},void 0,(0,n.Z)(_.Z,{id:"filters.filters_list_whole-word",defaultMessage:"Whole word"}))))),(0,n.Z)("div",{className:"filter__delete",role:"button",tabIndex:"0",onClick:e.handleFilterDelete,"data-value":t.get("id"),"aria-label":i.formatMessage(y.delete)},void 0,(0,n.Z)(Z.Z,{className:"filter__delete-icon",id:"times",size:40}),(0,n.Z)("span",{className:"filter__delete-label"},void 0,(0,n.Z)(_.Z,{id:"filters.filters_list_delete",defaultMessage:"Delete"}))))}))))},t}(h.ZP),(0,o.Z)(l,"propTypes",{params:c().object.isRequired,dispatch:c().func.isRequired,intl:c().object.isRequired}),s=r))||s)||s}}]);
//# sourceMappingURL=filters-58e9c5b08e58eb222e18.chunk.js.map