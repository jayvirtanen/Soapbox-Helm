"use strict";(self.webpackChunksoapbox_fe=self.webpackChunksoapbox_fe||[]).push([[28],{1128:function(e,t,o){o.r(t),o.d(t,{default:function(){return z}});var a,r,n,i,s,c,l=o(1019),d=o(1018),u=(o(1),o(7)),p=o.n(u),f=o(320),_=o(0),v=o(1797),h=o(1017),m=o(2),g=o(681),y=o(1230),Z=(a=function(e,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},a(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),b=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Z(t,e),t.prototype.render=function(){var e=this.props,t=e.name,o=e.value,a=e.checked,r=e.onChange,n=e.label;return(0,l.Z)("label",{className:"radio-button"},void 0,(0,l.Z)("input",{name:t,type:"radio",value:o,checked:a,onChange:r}),(0,l.Z)("span",{className:p()("radio-button__input",{checked:a})}),(0,l.Z)("span",{},void 0,n))},t}(_.PureComponent),w=b,N=o(16),P=o(10),C=o(3),M=o.n(C),O=o(5),k=o.n(O),j=o(4),L=o(1021),x=o(9),A=o(21),I=o(31),T=o(90),S=o(85),G=o(190),F=o(12),$=o(1254),E=o(137),D=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function a(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(a.prototype=o.prototype,new a)}}(),R=(r=(0,m.$j)((function(){var e=(0,F.Tm)();return function(t,o){var a=o.id;return{me:t.get("me"),account:e(t,a),autoPlayGif:(0,x.Gw)(t).get("autoPlayGif")}}})),(0,h.ZP)(n=r((s=i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return D(t,e),t.prototype.render=function(){var e=this.props,t=e.account,o=e.autoPlayGif,a=e.me!==t.get("id")&&t.getIn(["relationship","followed_by"]);return(0,l.Z)("div",{className:"directory__card"},void 0,a&&(0,l.Z)("div",{className:"directory__card__info"},void 0,(0,l.Z)("span",{className:"relationship-tag"},void 0,(0,l.Z)(L.Z,{id:"account.follows_you",defaultMessage:"Follows you"}))),(0,l.Z)("div",{className:"directory__card__action-button"},void 0,(0,l.Z)(G.Z,{account:t,small:!0})),(0,l.Z)("div",{className:"directory__card__img"},void 0,(0,l.Z)("img",{src:o?t.get("header"):t.get("header_static"),alt:"",className:"parallax"})),(0,l.Z)("div",{className:"directory__card__bar"},void 0,(0,l.Z)(T.Z,{className:"directory__card__bar__name",href:t.get("url"),to:"/@".concat(t.get("acct"))},void 0,(0,l.Z)(A.Z,{account:t,size:48}),(0,l.Z)(I.Z,{account:t}))),(0,l.Z)("div",{className:"directory__card__extra"},void 0,(0,l.Z)("div",{className:p()("account__header__content",(0===t.get("note").length||"<p></p>"===t.get("note"))&&"empty"),dangerouslySetInnerHTML:{__html:t.get("note_emojified")}})),(0,l.Z)("div",{className:"directory__card__extra"},void 0,(0,l.Z)("div",{className:"accounts-table__count"},void 0,(0,$.w8)(t.get("statuses_count"))," ",(0,l.Z)("small",{},void 0,(0,l.Z)(L.Z,{id:"account.posts",defaultMessage:"Toots"}))),(0,l.Z)("div",{className:"accounts-table__count"},void 0,(0,$.w8)(t.get("followers_count"))," ",(0,l.Z)("small",{},void 0,(0,l.Z)(L.Z,{id:"account.followers",defaultMessage:"Followers"}))),(0,l.Z)("div",{className:"accounts-table__count"},void 0,null===t.get("last_status_at")?(0,l.Z)(L.Z,{id:"account.never_active",defaultMessage:"Never"}):(0,l.Z)(S.Z,{timestamp:t.get("last_status_at")})," ",(0,l.Z)("small",{},void 0,(0,l.Z)(L.Z,{id:"account.last_status",defaultMessage:"Last active"})))))},t}(j.ZP),(0,d.Z)(i,"propTypes",{me:E.Z.me,account:k().map.isRequired,autoPlayGif:M().bool}),n=s))||n)||n),U=function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},e(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function a(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(a.prototype=o.prototype,new a)}}(),q=(0,v.vU)({title:{id:"column.directory",defaultMessage:"Browse profiles"},recentlyActive:{id:"directory.recently_active",defaultMessage:"Recently active"},newArrivals:{id:"directory.new_arrivals",defaultMessage:"New arrivals"},local:{id:"directory.local",defaultMessage:"From {domain} only"},federated:{id:"directory.federated",defaultMessage:"From known fediverse"}}),z=(0,m.$j)((function(e){return{accountIds:e.getIn(["user_lists","directory","items"],(0,f.List)()),isLoading:e.getIn(["user_lists","directory","isLoading"],!0),title:e.getIn(["instance","title"]),features:(0,P.N$)(e.get("instance"))}}))(c=(0,h.ZP)(c=function(e){function t(){for(var t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];var a=e.apply(this,t)||this;return(0,d.Z)(a,"state",{order:null,local:null}),(0,d.Z)(a,"getParams",(function(e,t){return{order:null===t.order?e.params.order||"active":t.order,local:null===t.local?e.params.local||!1:t.local}})),(0,d.Z)(a,"handleChangeOrder",(function(e){a.setState({order:e.target.value})})),(0,d.Z)(a,"handleChangeLocal",(function(e){a.setState({local:"1"===e.target.value})})),(0,d.Z)(a,"handleLoadMore",(function(){(0,a.props.dispatch)((0,g.$b)(a.getParams(a.props,a.state)))})),a}return U(t,e),t.prototype.componentDidMount=function(){(0,this.props.dispatch)((0,g._d)(this.getParams(this.props,this.state)))},t.prototype.componentDidUpdate=function(e,t){var o=this.props.dispatch,a=this.getParams(e,t),r=this.getParams(this.props,this.state);a.order===r.order&&a.local===r.local||o((0,g._d)(r))},t.prototype.render=function(){var e=this.props,t=e.isLoading,o=e.accountIds,a=e.intl,r=e.title,n=e.features,i=this.getParams(this.props,this.state),s=i.order,c=i.local;return(0,l.Z)(N.Z,{icon:"address-book-o",heading:a.formatMessage(q.title)},void 0,(0,l.Z)("div",{className:"directory__filter-form"},void 0,(0,l.Z)("div",{className:"directory__filter-form__column",role:"group"},void 0,(0,l.Z)(w,{name:"order",value:"active",label:a.formatMessage(q.recentlyActive),checked:"active"===s,onChange:this.handleChangeOrder}),(0,l.Z)(w,{name:"order",value:"new",label:a.formatMessage(q.newArrivals),checked:"new"===s,onChange:this.handleChangeOrder})),n.federating&&(0,l.Z)("div",{className:"directory__filter-form__column",role:"group"},void 0,(0,l.Z)(w,{name:"local",value:"1",label:a.formatMessage(q.local,{domain:r}),checked:c,onChange:this.handleChangeLocal}),(0,l.Z)(w,{name:"local",value:"0",label:a.formatMessage(q.federated),checked:!c,onChange:this.handleChangeLocal}))),(0,l.Z)("div",{className:p()("directory__list",{loading:t})},void 0,o.map((function(e){return(0,l.Z)(R,{id:e},e)}))),(0,l.Z)(y.Z,{onClick:this.handleLoadMore,visible:!t}))},t}(_.PureComponent))||c)||c}}]);
//# sourceMappingURL=directory-67ff593e0ea6e7050dea.chunk.js.map