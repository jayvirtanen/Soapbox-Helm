"use strict";(self.webpackChunksoapbox_fe=self.webpackChunksoapbox_fe||[]).push([[45],{1177:function(e,t,n){n.r(t),n.d(t,{default:function(){return I}});var o,i,s=n(1019),r=n(1018),a=(n(1),n(320)),l=n(0),p=n(1797),u=n(1017),c=n(1021),d=n(2),h=n(1800),f=n(45),m=n(10),g=n(33),y=n(36),_=n(1171),v=(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},o(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});function Z(){return n.e(37).then(n.bind(n,1151))}var b=(0,p.vU)({title:{id:"column.home",defaultMessage:"Home"}}),I=(0,d.$j)((function(e){var t=e.get("instance"),n=(0,m.N$)(t);return{hasUnread:e.getIn(["timelines","home","unread"])>0,isPartial:e.getIn(["timelines","home","isPartial"]),siteTitle:e.getIn(["instance","title"]),isLoading:e.getIn(["timelines","home","isLoading"],!0),loadingFailed:e.getIn(["timelines","home","loadingFailed"],!1),isEmpty:e.getIn(["timelines","home","items"],(0,a.OrderedSet)()).isEmpty(),features:n}}))(i=(0,u.ZP)(i=function(e){function t(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var o=e.apply(this,t)||this;return(0,r.Z)(o,"state",{done:!1}),(0,r.Z)(o,"handleLoadMore",(function(e){o.props.dispatch((0,g.jW)({maxId:e}))})),(0,r.Z)(o,"handleDone",(function(e){o.props.dispatch((0,g.jW)()),o.setState({done:!0})})),(0,r.Z)(o,"handleRefresh",(function(){return(0,o.props.dispatch)((0,g.jW)())})),o}return v(t,e),t.prototype.componentDidMount=function(){this._checkIfReloadNeeded(!1,this.props.isPartial)},t.prototype.componentDidUpdate=function(e){this._checkIfReloadNeeded(e.isPartial,this.props.isPartial)},t.prototype.componentWillUnmount=function(){this._stopPolling()},t.prototype._checkIfReloadNeeded=function(e,t){var n=this.props.dispatch;e!==t&&(!e&&t?this.polling=setInterval((function(){n((0,g.jW)())}),3e3):e&&!t&&this._stopPolling())},t.prototype._stopPolling=function(){this.polling&&(clearInterval(this.polling),this.polling=null)},t.prototype.render=function(){var e=this,t=this.props,n=t.intl,o=t.siteTitle,i=t.isLoading,r=t.loadingFailed,a=t.isEmpty,l=t.features,p=this.state.done,u=l.suggestions&&a&&!i&&!r&&!p;return(0,s.Z)(y.Z,{label:n.formatMessage(b.title),transparent:!u},void 0,u?(0,s.Z)(f.Z,{fetchComponent:Z},void 0,(function(t){return(0,s.Z)(t,{onDone:e.handleDone})})):(0,s.Z)(_.Z,{scrollKey:"home_timeline",onLoadMore:this.handleLoadMore,onRefresh:this.handleRefresh,timelineId:"home",emptyMessage:(0,s.Z)(c.Z,{id:"empty_column.home",defaultMessage:"Your home timeline is empty! Visit {public} to get started and meet other users.",values:{public:(0,s.Z)(h.rU,{to:"/timeline/local"},void 0,(0,s.Z)(c.Z,{id:"empty_column.home.local_tab",defaultMessage:"the {site_title} tab",values:{site_title:o}}))}})}))},t}(l.PureComponent))||i)||i}}]);
//# sourceMappingURL=home_timeline-a8a6ef8bcbb04054ccb0.chunk.js.map