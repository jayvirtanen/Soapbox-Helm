"use strict";(self.webpackChunksoapbox_fe=self.webpackChunksoapbox_fe||[]).push([[51],{1203:function(t,e,a){a.r(e),a.d(e,{default:function(){return _}});var o,n,s,i,r=a(1019),c=a(1018),u=(a(1),a(3)),l=a.n(u),d=a(4),f=a(1797),g=a(1017),m=a(1021),p=a(2),h=a(1800),v=a(198),b=a(30),Z=a(223),w=a(28),y=a(16),M=(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function a(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}),A=(0,f.vU)({heading:{id:"column.migration",defaultMessage:"Account migration"},submit:{id:"migration.submit",defaultMessage:"Move followers"},moveAccountSuccess:{id:"migration.move_account.success",defaultMessage:"Account successfully moved."},moveAccountFail:{id:"migration.move_account.fail",defaultMessage:"Account migration failed."},acctFieldLabel:{id:"migration.fields.acct.label",defaultMessage:"Handle of the new account"},acctFieldPlaceholder:{id:"migration.fields.acct.placeholder",defaultMessage:"username@domain"},currentPasswordFieldLabel:{id:"migration.fields.confirm_password.label",defaultMessage:"Current password"}}),_=(0,p.$j)()(n=(0,g.ZP)((i=s=function(t){function e(){for(var e=[],a=0;a<arguments.length;a++)e[a]=arguments[a];var o=t.apply(this,e)||this;return(0,c.Z)(o,"state",{targetAccount:"",password:"",isLoading:!1}),(0,c.Z)(o,"handleInputChange",(function(t){var e;o.setState(((e={})[t.target.name]=t.target.value,e))})),(0,c.Z)(o,"clearForm",(function(){o.setState({targetAccount:"",password:""})})),(0,c.Z)(o,"handleSubmit",(function(t){var e=o.state,a=e.targetAccount,n=e.password,s=o.props,i=s.dispatch,r=s.intl;return o.setState({isLoading:!0}),i((0,v.tj)(a,n)).then((function(){o.clearForm(),i(b.ZP.success(r.formatMessage(A.moveAccountSuccess)))})).catch((function(t){i(b.ZP.error(r.formatMessage(A.moveAccountFail)))})).then((function(){o.setState({isLoading:!1})}))})),o}return M(e,t),e.prototype.render=function(){var t=this.props.intl;return(0,r.Z)(y.Z,{heading:t.formatMessage(A.heading)},void 0,(0,r.Z)(w.NA,{onSubmit:this.handleSubmit},void 0,(0,r.Z)("fieldset",{disabled:this.state.isLoading},void 0,(0,r.Z)(w.H_,{},void 0,(0,r.Z)("p",{className:"hint"},void 0,(0,r.Z)(m.Z,{id:"migration.hint",defaultMessage:"This will move your followers to the new account. No other data will be moved. To perform migration, you need to {link} on your new account first.",values:{link:(0,r.Z)(h.rU,{to:"/settings/aliases"},void 0,(0,r.Z)(m.Z,{id:"migration.hint.link",defaultMessage:"create an account alias"}))}})),(0,r.Z)(w.oi,{label:t.formatMessage(A.acctFieldLabel),placeholder:t.formatMessage(A.acctFieldPlaceholder),name:"targetAccount",value:this.state.targetAccount,onChange:this.handleInputChange}),(0,r.Z)(Z.Z,{label:t.formatMessage(A.currentPasswordFieldLabel),name:"password",value:this.state.password,onChange:this.handleInputChange}),(0,r.Z)("div",{className:"actions"},void 0,(0,r.Z)("button",{name:"button",type:"submit",className:"btn button button-primary",disabled:!this.state.password||!this.state.targetAccount},void 0,t.formatMessage(A.submit)))))))},e}(d.ZP),(0,c.Z)(s,"propTypes",{dispatch:l().func.isRequired,intl:l().object.isRequired}),n=i))||n)||n}}]);
//# sourceMappingURL=migration-29e3d169626cb39b03c1.chunk.js.map