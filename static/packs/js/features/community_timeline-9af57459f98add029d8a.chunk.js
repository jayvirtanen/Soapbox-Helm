"use strict";(self.webpackChunksoapbox_fe=self.webpackChunksoapbox_fe||[]).push([[22],{520:function(t,e,n){n.r(e),n.d(e,{default:function(){return j}});var o,i,s,r=n(1019),l=n(1018),a=(n(1),n(0)),c=n(1797),u=n(1017),p=n(1021),d=n(2),y=n(9),m=n(172),f=n(51),h=n(33),g=n(36),_=n(1171),v=n(11),M=n(220),Z=(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),w=(0,c.vU)({close:{id:"lightbox.close",defaultMessage:"Close"}}),b=(0,u.ZP)(i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Z(e,t),e.prototype.render=function(){var t=this.props,e=t.intl,o=t.settings,i=t.onChange,s=t.onClose;return(0,r.Z)("div",{className:"column-settings"},void 0,(0,r.Z)("div",{className:"column-settings__header"},void 0,(0,r.Z)("h1",{className:"column-settings__title"},void 0,(0,r.Z)(p.Z,{id:"community.column_settings.title",defaultMessage:"Local timeline settings"})),(0,r.Z)("div",{className:"column-settings__close"},void 0,(0,r.Z)(v.Z,{title:e.formatMessage(w.close),src:n(18),onClick:s}))),(0,r.Z)("div",{className:"column-settings__content"},void 0,(0,r.Z)("div",{className:"column-settings__row"},void 0,(0,r.Z)(M.Z,{prefix:"community_timeline",settings:o,settingPath:["shows","reply"],onChange:i,label:(0,r.Z)(p.Z,{id:"home.column_settings.show_replies",defaultMessage:"Show replies"})})),(0,r.Z)("div",{className:"column-settings__row"},void 0,(0,r.Z)(M.Z,{settings:o,settingPath:["other","onlyMedia"],onChange:i,label:(0,r.Z)(p.Z,{id:"community.column_settings.media_only",defaultMessage:"Media Only"})}))))},e}(a.PureComponent))||i,C=(0,d.$j)((function(t){return{settings:(0,y.Gw)(t).get("community")}}),(function(t){return{onChange:function(e,n){t((0,y.oz)(function(t,e,n){if(n||2===arguments.length)for(var o,i=0,s=e.length;i<s;i++)!o&&i in e||(o||(o=Array.prototype.slice.call(e,0,i)),o[i]=e[i]);return t.concat(o||Array.prototype.slice.call(e))}(["community"],e,!0),n))}}}))(b),O=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),P=(0,c.vU)({title:{id:"column.community",defaultMessage:"Local timeline"}}),j=(0,d.$j)((function(t){var e=(0,y.Gw)(t).getIn(["community","other","onlyMedia"]),n="community";return{timelineId:n,onlyMedia:e,hasUnread:t.getIn(["timelines","".concat(n).concat(e?":media":""),"unread"])>0}}))(s=(0,u.ZP)(s=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var o=t.apply(this,e)||this;return(0,l.Z)(o,"handleLoadMore",(function(t){var e=o.props,n=e.dispatch,i=e.onlyMedia;n((0,h.$y)({maxId:t,onlyMedia:i}))})),(0,l.Z)(o,"handleRefresh",(function(){var t=o.props,e=t.dispatch,n=t.onlyMedia;return e((0,h.$y)({onlyMedia:n}))})),o}return O(e,t),e.prototype.componentDidMount=function(){var t=this.props,e=t.dispatch,n=t.onlyMedia;e((0,h.$y)({onlyMedia:n})),this.disconnect=e((0,f.lE)({onlyMedia:n}))},e.prototype.componentDidUpdate=function(t){if(t.onlyMedia!==this.props.onlyMedia){var e=this.props,n=e.dispatch,o=e.onlyMedia;this.disconnect(),n((0,h.$y)({onlyMedia:o})),this.disconnect=n((0,f.lE)({onlyMedia:o}))}},e.prototype.componentWillUnmount=function(){this.disconnect&&(this.disconnect(),this.disconnect=null)},e.prototype.render=function(){var t=this.props,e=t.intl,n=t.onlyMedia,o=t.timelineId;return(0,r.Z)(g.Z,{label:e.formatMessage(P.title),transparent:!0},void 0,(0,r.Z)(m.Z,{message:e.formatMessage(P.title),settings:C}),(0,r.Z)(_.Z,{scrollKey:"".concat(o,"_timeline"),timelineId:"".concat(o).concat(n?":media":""),onLoadMore:this.handleLoadMore,onRefresh:this.handleRefresh,emptyMessage:(0,r.Z)(p.Z,{id:"empty_column.community",defaultMessage:"The local timeline is empty. Write something publicly to get the ball rolling!"})}))},e}(a.PureComponent))||s)||s}}]);
//# sourceMappingURL=community_timeline-9af57459f98add029d8a.chunk.js.map