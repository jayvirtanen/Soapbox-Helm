{"version":3,"file":"packs/js/features/admin/reports-c31591785b13e0bfa420.chunk.js","mappings":"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","sources":["webpack://soapbox-fe/./app/soapbox/features/admin/components/report_status.js","webpack://soapbox-fe/./app/soapbox/features/admin/components/report.js","webpack://soapbox-fe/./app/soapbox/features/admin/reports.js"],"sourcesContent":["import _jsx from\"@babel/runtime/helpers/esm/jsx\";import _defineProperty from\"@babel/runtime/helpers/esm/defineProperty\";var _dec,_class,_class2,_temp;import\"core-js/modules/web.dom-collections.iterator.js\";import noop from'lodash/noop';import React from'react';import ImmutablePropTypes from'react-immutable-proptypes';import ImmutablePureComponent from'react-immutable-pure-component';import{injectIntl,defineMessages}from'react-intl';import{connect}from'react-redux';import{openModal}from'soapbox/actions/modals';import{deleteStatusModal}from'soapbox/actions/moderation';import StatusContent from'soapbox/components/status_content';import DropdownMenu from'soapbox/containers/dropdown_menu_container';import Bundle from'soapbox/features/ui/components/bundle';import{MediaGallery,Video,Audio}from'soapbox/features/ui/util/async-components';const messages=defineMessages({viewStatus:{\"id\":\"admin.reports.actions.view_status\",\"defaultMessage\":\"View post\"},deleteStatus:{\"id\":\"admin.statuses.actions.delete_status\",\"defaultMessage\":\"Delete post\"}});let ReportStatus=(_dec=connect(),_dec(_class=injectIntl(_class=(_temp=_class2=class ReportStatus extends ImmutablePureComponent{constructor(...args){super(...args);_defineProperty(this,\"makeMenu\",()=>{const{intl,status}=this.props;const acct=status.getIn(['account','acct']);return[{text:intl.formatMessage(messages.viewStatus,{acct:\"@\".concat(acct)}),to:\"/@\".concat(acct,\"/posts/\").concat(status.get('id')),icon:require('@tabler/icons/icons/pencil.svg')},{text:intl.formatMessage(messages.deleteStatus,{acct:\"@\".concat(acct)}),action:this.handleDeleteStatus,icon:require('@tabler/icons/icons/trash.svg'),destructive:true}];});_defineProperty(this,\"getMedia\",()=>{const{status}=this.props;if(status.get('media_attachments').size>0){if(status.get('media_attachments').some(item=>item.get('type')==='unknown')){// Do nothing\n}else if(status.getIn(['media_attachments',0,'type'])==='video'){const video=status.getIn(['media_attachments',0]);return/*#__PURE__*/_jsx(Bundle,{fetchComponent:Video,loading:this.renderLoadingVideoPlayer},void 0,Component=>/*#__PURE__*/_jsx(Component,{preview:video.get('preview_url'),blurhash:video.get('blurhash'),src:video.get('url'),alt:video.get('description'),aspectRatio:video.getIn(['meta','original','aspect']),width:239,height:110,inline:true,sensitive:status.get('sensitive'),onOpenVideo:noop}));}else if(status.getIn(['media_attachments',0,'type'])==='audio'){const audio=status.getIn(['media_attachments',0]);return/*#__PURE__*/_jsx(Bundle,{fetchComponent:Audio,loading:this.renderLoadingAudioPlayer},void 0,Component=>/*#__PURE__*/_jsx(Component,{src:audio.get('url'),alt:audio.get('description'),inline:true,sensitive:status.get('sensitive'),onOpenAudio:noop}));}else{return/*#__PURE__*/_jsx(Bundle,{fetchComponent:MediaGallery,loading:this.renderLoadingMediaGallery},void 0,Component=>/*#__PURE__*/_jsx(Component,{media:status.get('media_attachments'),sensitive:status.get('sensitive'),height:110,onOpenMedia:this.handleOpenMedia}));}}return null;});_defineProperty(this,\"handleOpenMedia\",(media,index)=>{const{dispatch}=this.props;dispatch(openModal('MEDIA',{media,index}));});_defineProperty(this,\"handleDeleteStatus\",()=>{const{intl,dispatch,status}=this.props;const statusId=status.get('id');dispatch(deleteStatusModal(intl,statusId));});}render(){const{status}=this.props;const media=this.getMedia();const menu=this.makeMenu();return/*#__PURE__*/_jsx(\"div\",{className:\"admin-report__status\"},void 0,/*#__PURE__*/_jsx(\"div\",{className:\"admin-report__status-content\"},void 0,/*#__PURE__*/_jsx(StatusContent,{status:status}),media),/*#__PURE__*/_jsx(\"div\",{className:\"admin-report__status-actions\"},void 0,/*#__PURE__*/_jsx(DropdownMenu,{items:menu,src:require('@tabler/icons/icons/dots-vertical.svg'),direction:\"right\"})));}},_defineProperty(_class2,\"propTypes\",{status:ImmutablePropTypes.map.isRequired,report:ImmutablePropTypes.map}),_temp))||_class)||_class);export{ReportStatus as default};","import _jsx from\"@babel/runtime/helpers/esm/jsx\";import _defineProperty from\"@babel/runtime/helpers/esm/defineProperty\";var _dec,_class,_class2,_temp;import\"core-js/modules/web.dom-collections.iterator.js\";import React from'react';import ImmutablePropTypes from'react-immutable-proptypes';import ImmutablePureComponent from'react-immutable-pure-component';import{injectIntl,FormattedMessage,defineMessages}from'react-intl';import{connect}from'react-redux';import{Link}from'react-router-dom';import{closeReports}from'soapbox/actions/admin';import{deactivateUserModal,deleteUserModal}from'soapbox/actions/moderation';import snackbar from'soapbox/actions/snackbar';import Avatar from'soapbox/components/avatar';import Button from'soapbox/components/button';import DropdownMenu from'soapbox/containers/dropdown_menu_container';import Accordion from'soapbox/features/ui/components/accordion';import ReportStatus from'./report_status';const messages=defineMessages({reportClosed:{\"id\":\"admin.reports.report_closed_message\",\"defaultMessage\":\"Report on @{name} was closed\"},deactivateUser:{\"id\":\"admin.users.actions.deactivate_user\",\"defaultMessage\":\"Deactivate @{name}\"},deleteUser:{\"id\":\"admin.users.actions.delete_user\",\"defaultMessage\":\"Delete @{name}\"}});let Report=(_dec=connect(),_dec(_class=injectIntl(_class=(_temp=_class2=class Report extends ImmutablePureComponent{constructor(...args){super(...args);_defineProperty(this,\"state\",{accordionExpanded:false});_defineProperty(this,\"makeMenu\",()=>{const{intl,report}=this.props;return[{text:intl.formatMessage(messages.deactivateUser,{name:report.getIn(['account','username'])}),action:this.handleDeactivateUser,icon:require('@tabler/icons/icons/user-off.svg')},{text:intl.formatMessage(messages.deleteUser,{name:report.getIn(['account','username'])}),action:this.handleDeleteUser,icon:require('@tabler/icons/icons/user-minus.svg')}];});_defineProperty(this,\"handleCloseReport\",()=>{const{intl,dispatch,report}=this.props;dispatch(closeReports([report.get('id')])).then(()=>{const message=intl.formatMessage(messages.reportClosed,{name:report.getIn(['account','username'])});dispatch(snackbar.success(message));}).catch(()=>{});});_defineProperty(this,\"handleDeactivateUser\",()=>{const{intl,dispatch,report}=this.props;const accountId=report.getIn(['account','id']);dispatch(deactivateUserModal(intl,accountId,()=>this.handleCloseReport()));});_defineProperty(this,\"handleDeleteUser\",()=>{const{intl,dispatch,report}=this.props;const accountId=report.getIn(['account','id']);dispatch(deleteUserModal(intl,accountId,()=>this.handleCloseReport()));});_defineProperty(this,\"handleAccordionToggle\",setting=>{this.setState({accordionExpanded:setting});});}render(){const{report}=this.props;const{accordionExpanded}=this.state;const menu=this.makeMenu();const statuses=report.get('statuses');const statusCount=statuses.count();const acct=report.getIn(['account','acct']);const reporterAcct=report.getIn(['actor','acct']);return/*#__PURE__*/_jsx(\"div\",{className:\"admin-report\"},report.get('id'),/*#__PURE__*/_jsx(\"div\",{className:\"admin-report__avatar\"},void 0,/*#__PURE__*/_jsx(Link,{to:\"/@\".concat(acct),title:acct},void 0,/*#__PURE__*/_jsx(Avatar,{account:report.get('account'),size:32}))),/*#__PURE__*/_jsx(\"div\",{className:\"admin-report__content\"},void 0,/*#__PURE__*/_jsx(\"h4\",{className:\"admin-report__title\"},void 0,/*#__PURE__*/_jsx(FormattedMessage,{id:\"admin.reports.report_title\",defaultMessage:\"Report on {acct}\",values:{acct:/*#__PURE__*/_jsx(Link,{to:\"/@\".concat(acct),title:acct},void 0,\"@\",acct)}})),/*#__PURE__*/_jsx(\"div\",{className:\"admin-report__statuses\"},void 0,statusCount>0&&/*#__PURE__*/_jsx(Accordion,{headline:\"Reported posts (\".concat(statusCount,\")\"),expanded:accordionExpanded,onToggle:this.handleAccordionToggle},void 0,statuses.map(status=>/*#__PURE__*/_jsx(ReportStatus,{report:report,status:status},status.get('id'))))),/*#__PURE__*/_jsx(\"div\",{className:\"admin-report__quote\"},void 0,report.get('content','').length>0&&/*#__PURE__*/_jsx(\"blockquote\",{className:\"md\",dangerouslySetInnerHTML:{__html:report.get('content')}}),/*#__PURE__*/_jsx(\"span\",{className:\"byline\"},void 0,\"\\u2014 \",/*#__PURE__*/_jsx(Link,{to:\"/@\".concat(reporterAcct),title:reporterAcct},void 0,\"@\",reporterAcct)))),/*#__PURE__*/_jsx(\"div\",{className:\"admin-report__actions\"},void 0,/*#__PURE__*/_jsx(Button,{className:\"button-alternative\",size:30,onClick:this.handleCloseReport},void 0,/*#__PURE__*/_jsx(FormattedMessage,{id:\"admin.reports.actions.close\",defaultMessage:\"Close\"})),/*#__PURE__*/_jsx(DropdownMenu,{className:\"admin-report__dropdown\",items:menu,src:require('@tabler/icons/icons/dots-vertical.svg'),direction:\"right\"})));}},_defineProperty(_class2,\"propTypes\",{report:ImmutablePropTypes.map.isRequired}),_temp))||_class)||_class);export{Report as default};","import _jsx from\"@babel/runtime/helpers/esm/jsx\";import _defineProperty from\"@babel/runtime/helpers/esm/defineProperty\";var _dec,_class,_class2,_temp;import\"core-js/modules/web.dom-collections.iterator.js\";import PropTypes from'prop-types';import React from'react';import ImmutablePropTypes from'react-immutable-proptypes';import ImmutablePureComponent from'react-immutable-pure-component';import{defineMessages,injectIntl}from'react-intl';import{connect}from'react-redux';import{fetchReports}from'soapbox/actions/admin';import ScrollableList from'soapbox/components/scrollable_list';import{makeGetReport}from'soapbox/selectors';import Column from'../ui/components/better_column';import Report from'./components/report';const messages=defineMessages({heading:{\"id\":\"column.admin.reports\",\"defaultMessage\":\"Reports\"},modlog:{\"id\":\"column.admin.reports.menu.moderation_log\",\"defaultMessage\":\"Moderation Log\"},emptyMessage:{\"id\":\"admin.reports.empty_message\",\"defaultMessage\":\"There are no open reports. If a user gets reported, they will show up here.\"}});const mapStateToProps=state=>{const getReport=makeGetReport();const ids=state.getIn(['admin','openReports']);return{reports:ids.toList().map(id=>getReport(state,id))};};let Reports=(_dec=connect(mapStateToProps),_dec(_class=injectIntl(_class=(_temp=_class2=class Reports extends ImmutablePureComponent{constructor(...args){super(...args);_defineProperty(this,\"state\",{isLoading:true});_defineProperty(this,\"makeColumnMenu\",()=>{const{intl}=this.props;return[{text:intl.formatMessage(messages.modlog),to:'/admin/log',icon:require('@tabler/icons/icons/list.svg')}];});}componentDidMount(){const{dispatch}=this.props;dispatch(fetchReports()).then(()=>this.setState({isLoading:false})).catch(()=>{});}render(){const{intl,reports}=this.props;const{isLoading}=this.state;const showLoading=isLoading&&reports.count()===0;return/*#__PURE__*/_jsx(Column,{icon:\"gavel\",heading:intl.formatMessage(messages.heading),menu:this.makeColumnMenu()},void 0,/*#__PURE__*/_jsx(ScrollableList,{isLoading:isLoading,showLoading:showLoading,scrollKey:\"admin-reports\",emptyMessage:intl.formatMessage(messages.emptyMessage)},void 0,reports.map(report=>/*#__PURE__*/_jsx(Report,{report:report},report.get('id')))));}},_defineProperty(_class2,\"propTypes\",{intl:PropTypes.object.isRequired,reports:ImmutablePropTypes.list.isRequired}),_temp))||_class)||_class);export{Reports as default};"],"names":["_class","_class2","_temp","messages","viewStatus","deleteStatus","ReportStatus","_dec","injectIntl","args","props","intl","status","acct","getIn","text","formatMessage","concat","to","get","icon","action","handleDeleteStatus","destructive","size","some","item","fetchComponent","loading","renderLoadingVideoPlayer","Component","preview","blurhash","src","alt","aspectRatio","width","height","inline","sensitive","onOpenVideo","renderLoadingAudioPlayer","onOpenAudio","renderLoadingMediaGallery","media","onOpenMedia","handleOpenMedia","index","dispatch","statusId","render","this","getMedia","menu","makeMenu","className","items","direction","report","reportClosed","deactivateUser","deleteUser","Report","accordionExpanded","name","handleDeactivateUser","handleDeleteUser","then","message","snackbar","catch","accountId","handleCloseReport","setting","setState","state","statuses","statusCount","count","reporterAcct","title","account","id","defaultMessage","values","headline","expanded","onToggle","handleAccordionToggle","map","length","dangerouslySetInnerHTML","__html","onClick","heading","modlog","emptyMessage","Reports","getReport","reports","toList","isLoading","componentDidMount","showLoading","makeColumnMenu","scrollKey"],"sourceRoot":""}