"use strict";(self.webpackChunksoapbox_fe=self.webpackChunksoapbox_fe||[]).push([[11],{813:function(t,e,o){o.r(e),o.d(e,{default:function(){return L}});var n,a,i,r,s=o(1019),d=o(1018),u=(o(1),o(3)),c=o.n(u),l=o(5),g=o.n(l),p=o(4),h=o(1797),f=o(1017),m=o(2),y=o(38),_=o(25),v=o(16),M=(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])},n(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),Z=(0,h.vU)({heading:{id:"column.admin.moderation_log",defaultMessage:"Moderation Log"},emptyMessage:{id:"admin.moderation_log.empty_message",defaultMessage:"You have not performed any moderation actions yet. When you do, a history will be shown here."}}),L=(0,m.$j)((function(t){return{items:t.getIn(["admin_log","index"]).map((function(e){return t.getIn(["admin_log","items",String(e)])})),hasMore:t.getIn(["admin_log","total"],0)-t.getIn(["admin_log","index"]).count()>0}}))(a=(0,f.ZP)((r=i=function(t){function e(){for(var e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];var n=t.apply(this,e)||this;return(0,d.Z)(n,"state",{isLoading:!0,lastPage:0}),(0,d.Z)(n,"handleLoadMore",(function(){var t=n.state.lastPage+1;n.setState({isLoading:!0}),n.props.dispatch((0,y.dP)({page:t})).then((function(e){return n.setState({isLoading:!1,lastPage:t})})).catch((function(){}))})),n}return M(e,t),e.prototype.componentDidMount=function(){var t=this;(0,this.props.dispatch)((0,y.dP)()).then((function(e){return t.setState({isLoading:!1,lastPage:1})})).catch((function(){}))},e.prototype.render=function(){var t=this.props,e=t.intl,o=t.items,n=t.hasMore,a=this.state.isLoading,i=a&&0===o.count();return(0,s.Z)(v.Z,{icon:"balance-scale",heading:e.formatMessage(Z.heading)},void 0,(0,s.Z)(_.Z,{isLoading:a,showLoading:i,scrollKey:"moderation-log",emptyMessage:e.formatMessage(Z.emptyMessage),hasMore:n,onLoadMore:this.handleLoadMore},void 0,o.map((function(t,e){return(0,s.Z)("div",{className:"logentry"},e,(0,s.Z)("div",{className:"logentry__message"},void 0,t.get("message")),(0,s.Z)("div",{className:"logentry__timestamp"},void 0,(0,s.Z)(h.Ji,{value:new Date(1e3*t.get("time")),hour12:!1,year:"numeric",month:"short",day:"2-digit",hour:"2-digit",minute:"2-digit"})))}))))},e}(p.ZP),(0,d.Z)(i,"propTypes",{intl:c().object.isRequired,list:g().list}),a=r))||a)||a}}]);
//# sourceMappingURL=moderation_log-b5bac1c4aca93bc618cc.chunk.js.map