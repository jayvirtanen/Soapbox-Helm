"use strict";(self.webpackChunksoapbox_fe=self.webpackChunksoapbox_fe||[]).push([[10],{1118:function(t,e,n){n.r(e),n.d(e,{default:function(){return T}});var o,a,r,c,i,s,p,u=n(1019),d=n(1018),l=(n(1),n(3)),f=n.n(l),v=n(5),g=n.n(v),h=n(4),_=n(1797),y=n(1017),m=n(2),Z=n(38),w=n(25),j=n(16),b=n(30),M=n(11),O=n(12),P=n(141),k=(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),I=(0,_.vU)({approved:{id:"admin.awaiting_approval.approved_message",defaultMessage:"{acct} was approved!"},rejected:{id:"admin.awaiting_approval.rejected_message",defaultMessage:"{acct} was rejected."}}),A=(0,m.$j)((function(){var t=(0,O.Tm)();return function(e,n){var o=n.accountId;return{account:t(e,o)}}}))(a=(0,y.ZP)((c=r=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var o=t.apply(this,e)||this;return(0,d.Z)(o,"handleApprove",(function(){var t=o.props,e=t.dispatch,n=t.intl,a=t.account;e((0,Z.Yh)([a.get("id")])).then((function(){var t=n.formatMessage(I.approved,{acct:"@".concat(a.get("acct"))});e(b.ZP.success(t))})).catch((function(){}))})),(0,d.Z)(o,"handleReject",(function(){var t=o.props,e=t.dispatch,n=t.intl,a=t.account;e((0,P.FI)(n,a.get("id"),(function(){var t=n.formatMessage(I.rejected,{acct:"@".concat(a.get("acct"))});e(b.ZP.info(t))})))})),o}return k(e,t),e.prototype.render=function(){var t=this.props.account;return(0,u.Z)("div",{className:"unapproved-account"},void 0,(0,u.Z)("div",{className:"unapproved-account__bio"},void 0,(0,u.Z)("div",{className:"unapproved-account__nickname"},void 0,"@",t.get("acct")),(0,u.Z)("blockquote",{className:"md"},void 0,t.getIn(["pleroma","admin","registration_reason"]))),(0,u.Z)("div",{className:"unapproved-account__actions"},void 0,(0,u.Z)(M.Z,{src:n(115),onClick:this.handleApprove}),(0,u.Z)(M.Z,{src:n(18),onClick:this.handleReject})))},e}(h.ZP),(0,d.Z)(r,"propTypes",{intl:f().object.isRequired,account:g().map.isRequired}),a=c))||a)||a,C=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),R=(0,_.vU)({heading:{id:"column.admin.awaiting_approval",defaultMessage:"Awaiting Approval"},emptyMessage:{id:"admin.awaiting_approval.empty_message",defaultMessage:"There is nobody waiting for approval. When a new user signs up, you can review them here."}}),T=(0,m.$j)((function(t){return{accountIds:t.getIn(["admin","awaitingApproval"])}}))(i=(0,y.ZP)((p=s=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var o=t.apply(this,e)||this;return(0,d.Z)(o,"state",{isLoading:!0}),o}return C(e,t),e.prototype.componentDidMount=function(){var t=this;(0,this.props.dispatch)((0,Z.uh)(["local","need_approval"])).then((function(){return t.setState({isLoading:!1})})).catch((function(){}))},e.prototype.render=function(){var t=this.props,e=t.intl,n=t.accountIds,o=this.state.isLoading,a=o&&0===n.count();return(0,u.Z)(j.Z,{icon:"user",heading:e.formatMessage(R.heading)},void 0,(0,u.Z)(w.Z,{isLoading:o,showLoading:a,scrollKey:"awaiting-approval",emptyMessage:e.formatMessage(R.emptyMessage)},void 0,n.map((function(t){return(0,u.Z)(A,{accountId:t},t)}))))},e}(h.ZP),(0,d.Z)(s,"propTypes",{intl:f().object.isRequired,accountIds:g().orderedSet.isRequired}),i=p))||i)||i}}]);
//# sourceMappingURL=awaiting_approval-7a15ae160d51b1c5b172.chunk.js.map