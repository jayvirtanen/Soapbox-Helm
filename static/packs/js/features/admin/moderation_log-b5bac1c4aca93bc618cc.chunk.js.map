{"version":3,"file":"packs/js/features/admin/moderation_log-b5bac1c4aca93bc618cc.chunk.js","mappings":"8JAAiIA,EAAOC,EAAQC,E,wjBAA8fC,GAAS,QAAe,CAACC,QAAQ,CAAC,GAAK,8BAA8B,eAAiB,kBAAkBC,aAAa,CAAC,GAAK,qCAAqC,eAAiB,mGAAgUC,GAAoB,SAA3N,SAAAC,GAAO,OAAEC,MAAMD,EAAME,MAAM,CAAC,YAAY,UAAUC,KAAI,SAAAC,GAAG,OAAAJ,EAAME,MAAM,CAAC,YAAY,QAAQG,OAAOD,QAAME,QAAQN,EAAME,MAAM,CAAC,YAAY,SAAS,GAAGF,EAAME,MAAM,CAAC,YAAY,UAAUK,QAAQ,KAAqDC,CAAKf,GAAO,SAAmBE,EAAMD,EAAO,YAAoD,a,IAAY,sDAAZ,mBAA8Be,IAAI,K,OAAE,OAAgB,EAAK,QAAQ,CAACC,WAAU,EAAKC,SAAS,KAAI,OAAgB,EAAK,kBAAiB,WAAK,IAAMC,EAAK,EAAKZ,MAAMW,SAAS,EAAE,EAAKE,SAAS,CAACH,WAAU,IAAO,EAAKI,MAAMC,UAAS,QAAmB,CAACH,KAAI,KAAII,MAAK,SAAAC,GAAM,SAAKJ,SAAS,CAACH,WAAU,EAAMC,SAASC,OAAQM,OAAM,kB,EAA49B,OAA9yC,OAA8V,YAAAC,kBAAA,uBAA+CJ,EAAXK,KAAKN,MAAK,WAAU,WAAsBE,MAAK,SAAAC,GAAM,SAAKJ,SAAS,CAACH,WAAU,EAAMC,SAAS,OAAKO,OAAM,gBAAS,YAAAG,OAAA,WAAc,MAAqBD,KAAKN,MAAzBQ,EAAI,OAACrB,EAAK,QAACK,EAAO,UAAmBI,EAAWU,KAAKpB,MAAK,UAAOuB,EAAYb,GAA2B,IAAhBT,EAAMM,QAAY,OAAmB,OAAK,IAAO,CAACiB,KAAK,gBAAgB3B,QAAQyB,EAAKG,cAAc7B,EAASC,eAAU,GAAoB,OAAK,IAAe,CAACa,UAAUA,EAAUa,YAAYA,EAAYG,UAAU,iBAAiB5B,aAAawB,EAAKG,cAAc7B,EAASE,cAAcQ,QAAQA,EAAQqB,WAAWP,KAAKQ,qBAAgB,EAAO3B,EAAME,KAAI,SAAC0B,EAAKzB,GAAiB,cAAK,MAAM,CAAC0B,UAAU,YAAY1B,GAAe,OAAK,MAAM,CAAC0B,UAAU,0BAAqB,EAAOD,EAAKE,IAAI,aAAyB,OAAK,MAAM,CAACD,UAAU,4BAAuB,GAAoB,OAAK,KAAc,CAACE,MAAM,IAAIC,KAAsB,IAAjBJ,EAAKE,IAAI,SAAcG,QAAO,EAAMC,KAAK,UAAUC,MAAM,QAAQC,IAAI,UAAUC,KAAK,UAAUC,OAAO,oBAAkB,EAA30C,CAA6B,OAAgzC,OAAgB7C,EAAQ,YAAY,CAAC4B,KAAK,sBAA4BkB,KAAK,WAA76C/C,EAAu8CE,KAASF,IAASA","sources":["webpack://soapbox-fe/./app/soapbox/features/admin/moderation_log.js"],"sourcesContent":["import _jsx from\"@babel/runtime/helpers/esm/jsx\";import _defineProperty from\"@babel/runtime/helpers/esm/defineProperty\";var _dec,_class,_class2,_temp;import\"core-js/modules/web.dom-collections.iterator.js\";import PropTypes from'prop-types';import React from'react';import ImmutablePropTypes from'react-immutable-proptypes';import ImmutablePureComponent from'react-immutable-pure-component';import{defineMessages,injectIntl,FormattedDate}from'react-intl';import{connect}from'react-redux';import{fetchModerationLog}from'soapbox/actions/admin';import ScrollableList from'soapbox/components/scrollable_list';import Column from'../ui/components/column';const messages=defineMessages({heading:{\"id\":\"column.admin.moderation_log\",\"defaultMessage\":\"Moderation Log\"},emptyMessage:{\"id\":\"admin.moderation_log.empty_message\",\"defaultMessage\":\"You have not performed any moderation actions yet. When you do, a history will be shown here.\"}});const mapStateToProps=state=>({items:state.getIn(['admin_log','index']).map(i=>state.getIn(['admin_log','items',String(i)])),hasMore:state.getIn(['admin_log','total'],0)-state.getIn(['admin_log','index']).count()>0});let ModerationLog=(_dec=connect(mapStateToProps),_dec(_class=injectIntl(_class=(_temp=_class2=class ModerationLog extends ImmutablePureComponent{constructor(...args){super(...args);_defineProperty(this,\"state\",{isLoading:true,lastPage:0});_defineProperty(this,\"handleLoadMore\",()=>{const page=this.state.lastPage+1;this.setState({isLoading:true});this.props.dispatch(fetchModerationLog({page})).then(data=>this.setState({isLoading:false,lastPage:page})).catch(()=>{});});}componentDidMount(){const{dispatch}=this.props;dispatch(fetchModerationLog()).then(data=>this.setState({isLoading:false,lastPage:1})).catch(()=>{});}render(){const{intl,items,hasMore}=this.props;const{isLoading}=this.state;const showLoading=isLoading&&items.count()===0;return/*#__PURE__*/_jsx(Column,{icon:\"balance-scale\",heading:intl.formatMessage(messages.heading)},void 0,/*#__PURE__*/_jsx(ScrollableList,{isLoading:isLoading,showLoading:showLoading,scrollKey:\"moderation-log\",emptyMessage:intl.formatMessage(messages.emptyMessage),hasMore:hasMore,onLoadMore:this.handleLoadMore},void 0,items.map((item,i)=>/*#__PURE__*/_jsx(\"div\",{className:\"logentry\"},i,/*#__PURE__*/_jsx(\"div\",{className:\"logentry__message\"},void 0,item.get('message')),/*#__PURE__*/_jsx(\"div\",{className:\"logentry__timestamp\"},void 0,/*#__PURE__*/_jsx(FormattedDate,{value:new Date(item.get('time')*1000),hour12:false,year:\"numeric\",month:\"short\",day:\"2-digit\",hour:\"2-digit\",minute:\"2-digit\"}))))));}},_defineProperty(_class2,\"propTypes\",{intl:PropTypes.object.isRequired,list:ImmutablePropTypes.list}),_temp))||_class)||_class);export{ModerationLog as default};"],"names":["_class","_class2","_temp","messages","heading","emptyMessage","ModerationLog","state","items","getIn","map","i","String","hasMore","count","_dec","args","isLoading","lastPage","page","setState","props","dispatch","then","data","catch","componentDidMount","this","render","intl","showLoading","icon","formatMessage","scrollKey","onLoadMore","handleLoadMore","item","className","get","value","Date","hour12","year","month","day","hour","minute","list"],"sourceRoot":""}