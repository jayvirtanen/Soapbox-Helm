"use strict";(self.webpackChunksoapbox_fe=self.webpackChunksoapbox_fe||[]).push([[61],{528:function(e,t,s){s.r(t),s.d(t,{default:function(){return B}});var n,r,a,o,u=s(1019),i=s(1797),c=s(1017),l=s(36),d=s(145),h=s(1040),p=s(2),g=s(10),f=s(279),m=s(286),Z=s(1018),v=(s(1),s(3)),y=s.n(v),_=s(0),b=s(5),M=s.n(b),F=s(4),S=s(1021),w=s(657),O=s(710),x=s(25),j=s(1071),N=s(1261),P=(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function s(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(s.prototype=t.prototype,new s)}),L=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return P(t,e),t.prototype.render=function(){var e=(0,N.lv)(15,30);return(0,u.Z)("div",{className:"placeholder-hashtag"},void 0,(0,u.Z)("div",{className:"trends__item"},void 0,(0,u.Z)("div",{className:"trends__item__name"},void 0,(0,N._4)(e))))},t}(_.Component),C=L,T=s(544),q=s(1139),E=s(46),I=s(245),R=function(){var e=function(t,s){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])},e(t,s)};return function(t,s){if("function"!=typeof s&&null!==s)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");function n(){this.constructor=t}e(t,s),t.prototype=null===s?Object.create(s):(n.prototype=s.prototype,new n)}}(),k=(0,i.vU)({accounts:{id:"search_results.accounts",defaultMessage:"People"},statuses:{id:"search_results.statuses",defaultMessage:"Posts"},hashtags:{id:"search_results.hashtags",defaultMessage:"Hashtags"}}),H=(0,c.ZP)((o=a=function(e){function t(){for(var t=[],s=0;s<arguments.length;s++)t[s]=arguments[s];var n=e.apply(this,t)||this;return(0,Z.Z)(n,"handleLoadMore",(function(){return n.props.expandSearch(n.props.selectedFilter)})),(0,Z.Z)(n,"handleSelectFilter",(function(e){return n.props.selectFilter(e)})),n}return R(t,e),t.prototype.renderFilterBar=function(){var e=this,t=this.props,s=t.intl,n=t.selectedFilter,r=[{text:s.formatMessage(k.accounts),action:function(){return e.handleSelectFilter("accounts")},name:"accounts"},{text:s.formatMessage(k.statuses),action:function(){return e.handleSelectFilter("statuses")},name:"statuses"},{text:s.formatMessage(k.hashtags),action:function(){return e.handleSelectFilter("hashtags")},name:"hashtags"}];return(0,u.Z)(w.Z,{className:"search__filter-bar",items:r,active:n})},t.prototype.render=function(){var e,t,s,n=this.props,r=n.value,a=n.results,o=n.submitted,i=n.selectedFilter,c=n.suggestions,l=n.trends,d=!1,h=T.Z;return"accounts"===i&&(d=a.get("accountsHasMore"),t=a.get("accountsLoaded"),h=j.Z,a.get("accounts")&&a.get("accounts").size>0?e=a.get("accounts").map((function(e){return(0,u.Z)(E.Z,{id:e},e)})):o||!c||c.isEmpty()?t&&(s=(0,u.Z)("div",{className:"empty-column-indicator"},void 0,(0,u.Z)(S.Z,{id:"empty_column.search.accounts",defaultMessage:'There are no people results for "{term}"',values:{term:r}}))):e=c.map((function(e){return(0,u.Z)(E.Z,{id:e.get("account")},e.get("account"))}))),"statuses"===i&&a.get("statuses")&&(d=a.get("statusesHasMore"),t=a.get("statusesLoaded"),a.get("statuses").size>0?e=a.get("statuses").map((function(e){return(0,u.Z)(I.Z,{id:e},e)})):s=(0,u.Z)("div",{className:"empty-column-indicator"},void 0,(0,u.Z)(S.Z,{id:"empty_column.search.statuses",defaultMessage:'There are no posts results for "{term}"',values:{term:r}}))),"hashtags"===i&&(d=a.get("hashtagsHasMore"),t=a.get("hashtagsLoaded"),h=C,a.get("hashtags")&&a.get("hashtags").size>0?e=a.get("hashtags").map((function(e){return(0,u.Z)(q.Z,{hashtag:e},e.get("name"))})):o||!c||c.isEmpty()?t&&(s=(0,u.Z)("div",{className:"empty-column-indicator"},void 0,(0,u.Z)(S.Z,{id:"empty_column.search.hashtags",defaultMessage:'There are no hashtags results for "{term}"',values:{term:r}}))):e=l.map((function(e){return(0,u.Z)(q.Z,{hashtag:e},e.get("name"))}))),_.createElement(_.Fragment,null,this.renderFilterBar(),s||(0,u.Z)(O.Z,{},void 0,(0,u.Z)(x.Z,{scrollKey:"".concat(i,":").concat(r),isLoading:o&&!t,showLoading:o&&!t&&a.isEmpty(),hasMore:d,onLoadMore:this.handleLoadMore,placeholderComponent:h,placeholderCount:20},i,e)))},t}(F.ZP),(0,Z.Z)(a,"propTypes",{value:y().string,results:M().map.isRequired,submitted:y().bool,expandSearch:y().func.isRequired,selectedFilter:y().string.isRequired,selectFilter:y().func.isRequired,features:y().object.isRequired,suggestions:M().list,trends:M().list,intl:y().object.isRequired}),r=o))||r,z=(0,p.$j)((function(e){var t=e.get("instance");return{value:e.getIn(["search","submittedValue"]),results:e.getIn(["search","results"]),suggestions:e.getIn(["suggestions","items"]),trends:e.getIn(["trends","items"]),submitted:e.getIn(["search","submitted"]),selectedFilter:e.getIn(["search","filter"]),features:(0,g.N$)(t)}}),(function(e){return{fetchSuggestions:function(){return e((0,m.mO)())},expandSearch:function(t){return e((0,f.i9)(t))},dismissSuggestion:function(t){return e((0,m.oi)(t.get("id")))},selectFilter:function(t){return e((0,f.Tv)(t))}}}))(H),A=(0,i.vU)({heading:{id:"column.search",defaultMessage:"Search"}}),B=(0,c.ZP)((function(e){var t=e.intl;return(0,u.Z)(l.Z,{className:"search-page"},void 0,(0,u.Z)(d.Z,{icon:"search",title:t.formatMessage(A.heading)}),(0,u.Z)(h.Z,{autoFocus:!0,autoSubmit:!0}),(0,u.Z)(z,{}))}))}}]);
//# sourceMappingURL=search-ec8646e0671f9f602ff0.chunk.js.map